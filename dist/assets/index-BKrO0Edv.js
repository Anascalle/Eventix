function wC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EC={exports:{}},im={},TC={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=Symbol.for("react.element"),ZR=Symbol.for("react.portal"),QR=Symbol.for("react.fragment"),YR=Symbol.for("react.strict_mode"),XR=Symbol.for("react.profiler"),JR=Symbol.for("react.provider"),e6=Symbol.for("react.context"),t6=Symbol.for("react.forward_ref"),n6=Symbol.for("react.suspense"),r6=Symbol.for("react.memo"),i6=Symbol.for("react.lazy"),b2=Symbol.iterator;function s6(t){return t===null||typeof t!="object"?null:(t=b2&&t[b2]||t["@@iterator"],typeof t=="function"?t:null)}var SC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CC=Object.assign,IC={};function xu(t,e,n){this.props=t,this.context=e,this.refs=IC,this.updater=n||SC}xu.prototype.isReactComponent={};xu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bC(){}bC.prototype=xu.prototype;function y0(t,e,n){this.props=t,this.context=e,this.refs=IC,this.updater=n||SC}var w0=y0.prototype=new bC;w0.constructor=y0;CC(w0,xu.prototype);w0.isPureReactComponent=!0;var x2=Array.isArray,xC=Object.prototype.hasOwnProperty,E0={current:null},PC={key:!0,ref:!0,__self:!0,__source:!0};function AC(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)xC.call(e,r)&&!PC.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:kd,type:t,key:s,ref:a,props:i,_owner:E0.current}}function o6(t,e){return{$$typeof:kd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function T0(t){return typeof t=="object"&&t!==null&&t.$$typeof===kd}function a6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P2=/\/+/g;function jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a6(""+t.key):e.toString(36)}function wf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case kd:case ZR:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+jg(a,0):r,x2(i)?(n="",t!=null&&(n=t.replace(P2,"$&/")+"/"),wf(i,e,n,"",function(d){return d})):i!=null&&(T0(i)&&(i=o6(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(P2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",x2(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+jg(s,l);a+=wf(s,e,n,u,i)}else if(u=s6(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+jg(s,l++),a+=wf(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Fh(t,e,n){if(t==null)return t;var r=[],i=0;return wf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function l6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},Ef={transition:null},u6={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Ef,ReactCurrentOwner:E0};function RC(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Fh,forEach:function(t,e,n){Fh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fh(t,function(){e++}),e},toArray:function(t){return Fh(t,function(e){return e})||[]},only:function(t){if(!T0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=xu;qe.Fragment=QR;qe.Profiler=XR;qe.PureComponent=y0;qe.StrictMode=YR;qe.Suspense=n6;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u6;qe.act=RC;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CC({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=E0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)xC.call(e,u)&&!PC.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:kd,type:t.type,key:i,ref:s,props:r,_owner:a}};qe.createContext=function(t){return t={$$typeof:e6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JR,_context:t},t.Consumer=t};qe.createElement=AC;qe.createFactory=function(t){var e=AC.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:t6,render:t}};qe.isValidElement=T0;qe.lazy=function(t){return{$$typeof:i6,_payload:{_status:-1,_result:t},_init:l6}};qe.memo=function(t,e){return{$$typeof:r6,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=Ef.transition;Ef.transition={};try{t()}finally{Ef.transition=e}};qe.unstable_act=RC;qe.useCallback=function(t,e){return Hn.current.useCallback(t,e)};qe.useContext=function(t){return Hn.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Hn.current.useEffect(t,e)};qe.useId=function(){return Hn.current.useId()};qe.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Hn.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};qe.useRef=function(t){return Hn.current.useRef(t)};qe.useState=function(t){return Hn.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return Hn.current.useTransition()};qe.version="18.3.1";TC.exports=qe;var M=TC.exports;const ke=Ht(M),c6=wC({__proto__:null,default:ke},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d6=M,h6=Symbol.for("react.element"),f6=Symbol.for("react.fragment"),p6=Object.prototype.hasOwnProperty,m6=d6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g6={key:!0,ref:!0,__self:!0,__source:!0};function kC(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)p6.call(e,r)&&!g6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:h6,type:t,key:s,ref:a,props:i,_owner:m6.current}}im.Fragment=f6;im.jsx=kC;im.jsxs=kC;EC.exports=im;var w=EC.exports,LC={exports:{}},Rr={},OC={exports:{}},NC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,ie){var J=K.length;K.push(ie);e:for(;0<J;){var we=J-1>>>1,ge=K[we];if(0<i(ge,ie))K[we]=ie,K[J]=ge,J=we;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],J=K.pop();if(J!==ie){K[0]=J;e:for(var we=0,ge=K.length,be=ge>>>1;we<be;){var je=2*(we+1)-1,Ae=K[je],Se=je+1,nt=K[Se];if(0>i(Ae,J))Se<ge&&0>i(nt,Ae)?(K[we]=nt,K[Se]=J,we=Se):(K[we]=Ae,K[je]=J,we=je);else if(Se<ge&&0>i(nt,J))K[we]=nt,K[Se]=J,we=Se;else break e}}return ie}function i(K,ie){var J=K.sortIndex-ie.sortIndex;return J!==0?J:K.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],p=1,m=null,g=3,_=!1,C=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(K){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=K)r(d),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=n(d)}}function j(K){if(b=!1,P(K),!C)if(n(u)!==null)C=!0,Ce(U);else{var ie=n(d);ie!==null&&Be(j,ie.startTime-K)}}function U(K,ie){C=!1,b&&(b=!1,x(S),S=-1),_=!0;var J=g;try{for(P(ie),m=n(u);m!==null&&(!(m.expirationTime>ie)||K&&!V());){var we=m.callback;if(typeof we=="function"){m.callback=null,g=m.priorityLevel;var ge=we(m.expirationTime<=ie);ie=t.unstable_now(),typeof ge=="function"?m.callback=ge:m===n(u)&&r(u),P(ie)}else r(u);m=n(u)}if(m!==null)var be=!0;else{var je=n(d);je!==null&&Be(j,je.startTime-ie),be=!1}return be}finally{m=null,g=J,_=!1}}var H=!1,N=null,S=-1,A=5,R=-1;function V(){return!(t.unstable_now()-R<A)}function B(){if(N!==null){var K=t.unstable_now();R=K;var ie=!0;try{ie=N(!0,K)}finally{ie?D():(H=!1,N=null)}}else H=!1}var D;if(typeof T=="function")D=function(){T(B)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,fe=re.port2;re.port1.onmessage=B,D=function(){fe.postMessage(null)}}else D=function(){k(B,0)};function Ce(K){N=K,H||(H=!0,D())}function Be(K,ie){S=k(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,Ce(U))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var J=g;g=ie;try{return K()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=g;g=K;try{return ie()}finally{g=J}},t.unstable_scheduleCallback=function(K,ie,J){var we=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?we+J:we):J=we,K){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=J+ge,K={id:p++,callback:ie,priorityLevel:K,startTime:J,expirationTime:ge,sortIndex:-1},J>we?(K.sortIndex=J,e(d,K),n(u)===null&&K===n(d)&&(b?(x(S),S=-1):b=!0,Be(j,J-we))):(K.sortIndex=ge,e(u,K),C||_||(C=!0,Ce(U))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var ie=g;return function(){var J=g;g=ie;try{return K.apply(this,arguments)}finally{g=J}}}})(NC);OC.exports=NC;var v6=OC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _6=M,Ar=v6;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DC=new Set,td={};function Ua(t,e){iu(t,e),iu(t+"Capture",e)}function iu(t,e){for(td[t]=e,t=0;t<e.length;t++)DC.add(e[t])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m_=Object.prototype.hasOwnProperty,y6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A2={},R2={};function w6(t){return m_.call(R2,t)?!0:m_.call(A2,t)?!1:y6.test(t)?R2[t]=!0:(A2[t]=!0,!1)}function E6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T6(t,e,n,r){if(e===null||typeof e>"u"||E6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){En[t]=new Wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];En[e]=new Wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){En[t]=new Wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){En[t]=new Wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){En[t]=new Wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){En[t]=new Wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){En[t]=new Wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){En[t]=new Wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){En[t]=new Wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var S0=/[\-:]([a-z])/g;function C0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(S0,C0);En[e]=new Wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(S0,C0);En[e]=new Wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(S0,C0);En[e]=new Wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){En[t]=new Wn(t,1,!1,t.toLowerCase(),null,!1,!1)});En.xlinkHref=new Wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){En[t]=new Wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function I0(t,e,n,r){var i=En.hasOwnProperty(e)?En[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T6(e,n,i,r)&&(n=null),r||i===null?w6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vs=_6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vh=Symbol.for("react.element"),kl=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),g_=Symbol.for("react.profiler"),MC=Symbol.for("react.provider"),jC=Symbol.for("react.context"),x0=Symbol.for("react.forward_ref"),v_=Symbol.for("react.suspense"),__=Symbol.for("react.suspense_list"),P0=Symbol.for("react.memo"),ho=Symbol.for("react.lazy"),FC=Symbol.for("react.offscreen"),k2=Symbol.iterator;function ic(t){return t===null||typeof t!="object"?null:(t=k2&&t[k2]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,Fg;function Cc(t){if(Fg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fg=e&&e[1]||""}return`
`+Fg+t}var Vg=!1;function $g(t,e){if(!t||Vg)return"";Vg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{Vg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cc(t):""}function S6(t){switch(t.tag){case 5:return Cc(t.type);case 16:return Cc("Lazy");case 13:return Cc("Suspense");case 19:return Cc("SuspenseList");case 0:case 2:case 15:return t=$g(t.type,!1),t;case 11:return t=$g(t.type.render,!1),t;case 1:return t=$g(t.type,!0),t;default:return""}}function y_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ll:return"Fragment";case kl:return"Portal";case g_:return"Profiler";case b0:return"StrictMode";case v_:return"Suspense";case __:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jC:return(t.displayName||"Context")+".Consumer";case MC:return(t._context.displayName||"Context")+".Provider";case x0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P0:return e=t.displayName||null,e!==null?e:y_(t.type)||"Memo";case ho:e=t._payload,t=t._init;try{return y_(t(e))}catch{}}return null}function C6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y_(e);case 8:return e===b0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I6(t){var e=VC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $h(t){t._valueTracker||(t._valueTracker=I6(t))}function $C(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function w_(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function L2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BC(t,e){e=e.checked,e!=null&&I0(t,"checked",e,!1)}function E_(t,e){BC(t,e);var n=Bo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?T_(t,e.type,n):e.hasOwnProperty("defaultValue")&&T_(t,e.type,Bo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function T_(t,e,n){(e!=="number"||Qf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ic=Array.isArray;function ql(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function S_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Ic(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bo(n)}}function UC(t,e){var n=Bo(e.value),r=Bo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bh,HC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bh=Bh||document.createElement("div"),Bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b6=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(t){b6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mc[e]=Mc[t]})});function WC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mc.hasOwnProperty(t)&&Mc[t]?(""+e).trim():e+"px"}function GC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var x6=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I_(t,e){if(e){if(x6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function b_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x_=null;function A0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var P_=null,Kl=null,Zl=null;function M2(t){if(t=Nd(t)){if(typeof P_!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=um(e),P_(t.stateNode,t.type,e))}}function qC(t){Kl?Zl?Zl.push(t):Zl=[t]:Kl=t}function KC(){if(Kl){var t=Kl,e=Zl;if(Zl=Kl=null,M2(t),e)for(t=0;t<e.length;t++)M2(e[t])}}function ZC(t,e){return t(e)}function QC(){}var Bg=!1;function YC(t,e,n){if(Bg)return t(e,n);Bg=!0;try{return ZC(t,e,n)}finally{Bg=!1,(Kl!==null||Zl!==null)&&(QC(),KC())}}function rd(t,e){var n=t.stateNode;if(n===null)return null;var r=um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var A_=!1;if(Ps)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){A_=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{A_=!1}function P6(t,e,n,r,i,s,a,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var jc=!1,Yf=null,Xf=!1,R_=null,A6={onError:function(t){jc=!0,Yf=t}};function R6(t,e,n,r,i,s,a,l,u){jc=!1,Yf=null,P6.apply(A6,arguments)}function k6(t,e,n,r,i,s,a,l,u){if(R6.apply(this,arguments),jc){if(jc){var d=Yf;jc=!1,Yf=null}else throw Error(oe(198));Xf||(Xf=!0,R_=d)}}function za(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j2(t){if(za(t)!==t)throw Error(oe(188))}function L6(t){var e=t.alternate;if(!e){if(e=za(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return j2(i),t;if(s===r)return j2(i),e;s=s.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function JC(t){return t=L6(t),t!==null?eI(t):null}function eI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eI(t);if(e!==null)return e;t=t.sibling}return null}var tI=Ar.unstable_scheduleCallback,F2=Ar.unstable_cancelCallback,O6=Ar.unstable_shouldYield,N6=Ar.unstable_requestPaint,zt=Ar.unstable_now,D6=Ar.unstable_getCurrentPriorityLevel,R0=Ar.unstable_ImmediatePriority,nI=Ar.unstable_UserBlockingPriority,Jf=Ar.unstable_NormalPriority,M6=Ar.unstable_LowPriority,rI=Ar.unstable_IdlePriority,sm=null,Vi=null;function j6(t){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(sm,t,void 0,(t.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:$6,F6=Math.log,V6=Math.LN2;function $6(t){return t>>>=0,t===0?32:31-(F6(t)/V6|0)|0}var Uh=64,zh=4194304;function bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ep(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=bc(l):(s&=a,s!==0&&(r=bc(s)))}else a=n&~i,a!==0?r=bc(a):s!==0&&(r=bc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-di(e),i=1<<n,r|=t[n],e&=~i;return r}function B6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-di(s),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=B6(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function k_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iI(){var t=Uh;return Uh<<=1,!(Uh&4194240)&&(Uh=64),t}function Ug(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ld(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-di(e),t[e]=n}function z6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-di(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function k0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-di(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var lt=0;function sI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oI,L0,aI,lI,uI,L_=!1,Hh=[],Po=null,Ao=null,Ro=null,id=new Map,sd=new Map,mo=[],H6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V2(t,e){switch(t){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":id.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sd.delete(e.pointerId)}}function oc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nd(e),e!==null&&L0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function W6(t,e,n,r,i){switch(e){case"focusin":return Po=oc(Po,t,e,n,r,i),!0;case"dragenter":return Ao=oc(Ao,t,e,n,r,i),!0;case"mouseover":return Ro=oc(Ro,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return id.set(s,oc(id.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sd.set(s,oc(sd.get(s)||null,t,e,n,r,i)),!0}return!1}function cI(t){var e=ma(t.target);if(e!==null){var n=za(e);if(n!==null){if(e=n.tag,e===13){if(e=XC(n),e!==null){t.blockedOn=e,uI(t.priority,function(){aI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=O_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);x_=r,n.target.dispatchEvent(r),x_=null}else return e=Nd(n),e!==null&&L0(e),t.blockedOn=n,!1;e.shift()}return!0}function $2(t,e,n){Tf(t)&&n.delete(e)}function G6(){L_=!1,Po!==null&&Tf(Po)&&(Po=null),Ao!==null&&Tf(Ao)&&(Ao=null),Ro!==null&&Tf(Ro)&&(Ro=null),id.forEach($2),sd.forEach($2)}function ac(t,e){t.blockedOn===e&&(t.blockedOn=null,L_||(L_=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,G6)))}function od(t){function e(i){return ac(i,t)}if(0<Hh.length){ac(Hh[0],t);for(var n=1;n<Hh.length;n++){var r=Hh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Po!==null&&ac(Po,t),Ao!==null&&ac(Ao,t),Ro!==null&&ac(Ro,t),id.forEach(e),sd.forEach(e),n=0;n<mo.length;n++)r=mo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mo.length&&(n=mo[0],n.blockedOn===null);)cI(n),n.blockedOn===null&&mo.shift()}var Ql=Vs.ReactCurrentBatchConfig,tp=!0;function q6(t,e,n,r){var i=lt,s=Ql.transition;Ql.transition=null;try{lt=1,O0(t,e,n,r)}finally{lt=i,Ql.transition=s}}function K6(t,e,n,r){var i=lt,s=Ql.transition;Ql.transition=null;try{lt=4,O0(t,e,n,r)}finally{lt=i,Ql.transition=s}}function O0(t,e,n,r){if(tp){var i=O_(t,e,n,r);if(i===null)Xg(t,e,r,np,n),V2(t,r);else if(W6(i,t,e,n,r))r.stopPropagation();else if(V2(t,r),e&4&&-1<H6.indexOf(t)){for(;i!==null;){var s=Nd(i);if(s!==null&&oI(s),s=O_(t,e,n,r),s===null&&Xg(t,e,r,np,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xg(t,e,r,null,n)}}var np=null;function O_(t,e,n,r){if(np=null,t=A0(r),t=ma(t),t!==null)if(e=za(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return np=t,null}function dI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D6()){case R0:return 1;case nI:return 4;case Jf:case M6:return 16;case rI:return 536870912;default:return 16}default:return 16}}var So=null,N0=null,Sf=null;function hI(){if(Sf)return Sf;var t,e=N0,n=e.length,r,i="value"in So?So.value:So.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Sf=i.slice(t,1<r?1-r:void 0)}function Cf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wh(){return!0}function B2(){return!1}function kr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wh:B2,this.isPropagationStopped=B2,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wh)},persist:function(){},isPersistent:Wh}),e}var Pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},D0=kr(Pu),Od=kt({},Pu,{view:0,detail:0}),Z6=kr(Od),zg,Hg,lc,om=kt({},Od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lc&&(lc&&t.type==="mousemove"?(zg=t.screenX-lc.screenX,Hg=t.screenY-lc.screenY):Hg=zg=0,lc=t),zg)},movementY:function(t){return"movementY"in t?t.movementY:Hg}}),U2=kr(om),Q6=kt({},om,{dataTransfer:0}),Y6=kr(Q6),X6=kt({},Od,{relatedTarget:0}),Wg=kr(X6),J6=kt({},Pu,{animationName:0,elapsedTime:0,pseudoElement:0}),e8=kr(J6),t8=kt({},Pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n8=kr(t8),r8=kt({},Pu,{data:0}),z2=kr(r8),i8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o8[t])?!!e[t]:!1}function M0(){return a8}var l8=kt({},Od,{key:function(t){if(t.key){var e=i8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M0,charCode:function(t){return t.type==="keypress"?Cf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u8=kr(l8),c8=kt({},om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H2=kr(c8),d8=kt({},Od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M0}),h8=kr(d8),f8=kt({},Pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),p8=kr(f8),m8=kt({},om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g8=kr(m8),v8=[9,13,27,32],j0=Ps&&"CompositionEvent"in window,Fc=null;Ps&&"documentMode"in document&&(Fc=document.documentMode);var _8=Ps&&"TextEvent"in window&&!Fc,fI=Ps&&(!j0||Fc&&8<Fc&&11>=Fc),W2=" ",G2=!1;function pI(t,e){switch(t){case"keyup":return v8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function y8(t,e){switch(t){case"compositionend":return mI(e);case"keypress":return e.which!==32?null:(G2=!0,W2);case"textInput":return t=e.data,t===W2&&G2?null:t;default:return null}}function w8(t,e){if(Ol)return t==="compositionend"||!j0&&pI(t,e)?(t=hI(),Sf=N0=So=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fI&&e.locale!=="ko"?null:e.data;default:return null}}var E8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E8[t.type]:e==="textarea"}function gI(t,e,n,r){qC(r),e=rp(e,"onChange"),0<e.length&&(n=new D0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vc=null,ad=null;function T8(t){xI(t,0)}function am(t){var e=Ml(t);if($C(e))return t}function S8(t,e){if(t==="change")return e}var vI=!1;if(Ps){var Gg;if(Ps){var qg="oninput"in document;if(!qg){var K2=document.createElement("div");K2.setAttribute("oninput","return;"),qg=typeof K2.oninput=="function"}Gg=qg}else Gg=!1;vI=Gg&&(!document.documentMode||9<document.documentMode)}function Z2(){Vc&&(Vc.detachEvent("onpropertychange",_I),ad=Vc=null)}function _I(t){if(t.propertyName==="value"&&am(ad)){var e=[];gI(e,ad,t,A0(t)),YC(T8,e)}}function C8(t,e,n){t==="focusin"?(Z2(),Vc=e,ad=n,Vc.attachEvent("onpropertychange",_I)):t==="focusout"&&Z2()}function I8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return am(ad)}function b8(t,e){if(t==="click")return am(e)}function x8(t,e){if(t==="input"||t==="change")return am(e)}function P8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:P8;function ld(t,e){if(fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!m_.call(e,i)||!fi(t[i],e[i]))return!1}return!0}function Q2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y2(t,e){var n=Q2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q2(n)}}function yI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wI(){for(var t=window,e=Qf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qf(t.document)}return e}function F0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A8(t){var e=wI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yI(n.ownerDocument.documentElement,n)){if(r!==null&&F0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Y2(n,s);var a=Y2(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R8=Ps&&"documentMode"in document&&11>=document.documentMode,Nl=null,N_=null,$c=null,D_=!1;function X2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D_||Nl==null||Nl!==Qf(r)||(r=Nl,"selectionStart"in r&&F0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$c&&ld($c,r)||($c=r,r=rp(N_,"onSelect"),0<r.length&&(e=new D0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nl)))}function Gh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dl={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},Kg={},EI={};Ps&&(EI=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function lm(t){if(Kg[t])return Kg[t];if(!Dl[t])return t;var e=Dl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EI)return Kg[t]=e[n];return t}var TI=lm("animationend"),SI=lm("animationiteration"),CI=lm("animationstart"),II=lm("transitionend"),bI=new Map,J2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(t,e){bI.set(t,e),Ua(e,[t])}for(var Zg=0;Zg<J2.length;Zg++){var Qg=J2[Zg],k8=Qg.toLowerCase(),L8=Qg[0].toUpperCase()+Qg.slice(1);Ko(k8,"on"+L8)}Ko(TI,"onAnimationEnd");Ko(SI,"onAnimationIteration");Ko(CI,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(II,"onTransitionEnd");iu("onMouseEnter",["mouseout","mouseover"]);iu("onMouseLeave",["mouseout","mouseover"]);iu("onPointerEnter",["pointerout","pointerover"]);iu("onPointerLeave",["pointerout","pointerover"]);Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O8=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function eE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,k6(r,e,void 0,t),t.currentTarget=null}function xI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;eE(i,l,d),s=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;eE(i,l,d),s=u}}}if(Xf)throw t=R_,Xf=!1,R_=null,t}function vt(t,e){var n=e[$_];n===void 0&&(n=e[$_]=new Set);var r=t+"__bubble";n.has(r)||(PI(e,t,2,!1),n.add(r))}function Yg(t,e,n){var r=0;e&&(r|=4),PI(n,t,r,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[qh]){t[qh]=!0,DC.forEach(function(n){n!=="selectionchange"&&(O8.has(n)||Yg(n,!1,t),Yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qh]||(e[qh]=!0,Yg("selectionchange",!1,e))}}function PI(t,e,n,r){switch(dI(e)){case 1:var i=q6;break;case 4:i=K6;break;default:i=O0}n=i.bind(null,e,n,t),i=void 0,!A_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ma(l),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}l=l.parentNode}}r=r.return}YC(function(){var d=s,p=A0(n),m=[];e:{var g=bI.get(t);if(g!==void 0){var _=D0,C=t;switch(t){case"keypress":if(Cf(n)===0)break e;case"keydown":case"keyup":_=u8;break;case"focusin":C="focus",_=Wg;break;case"focusout":C="blur",_=Wg;break;case"beforeblur":case"afterblur":_=Wg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=U2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Y6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=h8;break;case TI:case SI:case CI:_=e8;break;case II:_=p8;break;case"scroll":_=Z6;break;case"wheel":_=g8;break;case"copy":case"cut":case"paste":_=n8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=H2}var b=(e&4)!==0,k=!b&&t==="scroll",x=b?g!==null?g+"Capture":null:g;b=[];for(var T=d,P;T!==null;){P=T;var j=P.stateNode;if(P.tag===5&&j!==null&&(P=j,x!==null&&(j=rd(T,x),j!=null&&b.push(cd(T,j,P)))),k)break;T=T.return}0<b.length&&(g=new _(g,C,null,n,p),m.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==x_&&(C=n.relatedTarget||n.fromElement)&&(ma(C)||C[As]))break e;if((_||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=d,C=C?ma(C):null,C!==null&&(k=za(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=d),_!==C)){if(b=U2,j="onMouseLeave",x="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(b=H2,j="onPointerLeave",x="onPointerEnter",T="pointer"),k=_==null?g:Ml(_),P=C==null?g:Ml(C),g=new b(j,T+"leave",_,n,p),g.target=k,g.relatedTarget=P,j=null,ma(p)===d&&(b=new b(x,T+"enter",C,n,p),b.target=P,b.relatedTarget=k,j=b),k=j,_&&C)t:{for(b=_,x=C,T=0,P=b;P;P=Tl(P))T++;for(P=0,j=x;j;j=Tl(j))P++;for(;0<T-P;)b=Tl(b),T--;for(;0<P-T;)x=Tl(x),P--;for(;T--;){if(b===x||x!==null&&b===x.alternate)break t;b=Tl(b),x=Tl(x)}b=null}else b=null;_!==null&&tE(m,g,_,b,!1),C!==null&&k!==null&&tE(m,k,C,b,!0)}}e:{if(g=d?Ml(d):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var U=S8;else if(q2(g))if(vI)U=x8;else{U=I8;var H=C8}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=b8);if(U&&(U=U(t,d))){gI(m,U,n,p);break e}H&&H(t,g,d),t==="focusout"&&(H=g._wrapperState)&&H.controlled&&g.type==="number"&&T_(g,"number",g.value)}switch(H=d?Ml(d):window,t){case"focusin":(q2(H)||H.contentEditable==="true")&&(Nl=H,N_=d,$c=null);break;case"focusout":$c=N_=Nl=null;break;case"mousedown":D_=!0;break;case"contextmenu":case"mouseup":case"dragend":D_=!1,X2(m,n,p);break;case"selectionchange":if(R8)break;case"keydown":case"keyup":X2(m,n,p)}var N;if(j0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ol?pI(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(fI&&n.locale!=="ko"&&(Ol||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ol&&(N=hI()):(So=p,N0="value"in So?So.value:So.textContent,Ol=!0)),H=rp(d,S),0<H.length&&(S=new z2(S,t,null,n,p),m.push({event:S,listeners:H}),N?S.data=N:(N=mI(n),N!==null&&(S.data=N)))),(N=_8?y8(t,n):w8(t,n))&&(d=rp(d,"onBeforeInput"),0<d.length&&(p=new z2("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=N))}xI(m,e)})}function cd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rd(t,n),s!=null&&r.unshift(cd(t,s,i)),s=rd(t,e),s!=null&&r.push(cd(t,s,i))),t=t.return}return r}function Tl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tE(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=rd(n,s),u!=null&&a.unshift(cd(n,u,l))):i||(u=rd(n,s),u!=null&&a.push(cd(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var N8=/\r\n?/g,D8=/\u0000|\uFFFD/g;function nE(t){return(typeof t=="string"?t:""+t).replace(N8,`
`).replace(D8,"")}function Kh(t,e,n){if(e=nE(e),nE(t)!==e&&n)throw Error(oe(425))}function ip(){}var M_=null,j_=null;function F_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var V_=typeof setTimeout=="function"?setTimeout:void 0,M8=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,j8=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(t){return rE.resolve(null).then(t).catch(F8)}:V_;function F8(t){setTimeout(function(){throw t})}function Jg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),od(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);od(e)}function ko(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Au=Math.random().toString(36).slice(2),Di="__reactFiber$"+Au,dd="__reactProps$"+Au,As="__reactContainer$"+Au,$_="__reactEvents$"+Au,V8="__reactListeners$"+Au,$8="__reactHandles$"+Au;function ma(t){var e=t[Di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[As]||n[Di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iE(t);t!==null;){if(n=t[Di])return n;t=iE(t)}return e}t=n,n=t.parentNode}return null}function Nd(t){return t=t[Di]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ml(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function um(t){return t[dd]||null}var B_=[],jl=-1;function Zo(t){return{current:t}}function wt(t){0>jl||(t.current=B_[jl],B_[jl]=null,jl--)}function mt(t,e){jl++,B_[jl]=t.current,t.current=e}var Uo={},Ln=Zo(Uo),ar=Zo(!1),Pa=Uo;function su(t,e){var n=t.type.contextTypes;if(!n)return Uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lr(t){return t=t.childContextTypes,t!=null}function sp(){wt(ar),wt(Ln)}function sE(t,e,n){if(Ln.current!==Uo)throw Error(oe(168));mt(Ln,e),mt(ar,n)}function AI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,C6(t)||"Unknown",i));return kt({},n,r)}function op(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Uo,Pa=Ln.current,mt(Ln,t),mt(ar,ar.current),!0}function oE(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=AI(t,e,Pa),r.__reactInternalMemoizedMergedChildContext=t,wt(ar),wt(Ln),mt(Ln,t)):wt(ar),mt(ar,n)}var _s=null,cm=!1,ev=!1;function RI(t){_s===null?_s=[t]:_s.push(t)}function B8(t){cm=!0,RI(t)}function Qo(){if(!ev&&_s!==null){ev=!0;var t=0,e=lt;try{var n=_s;for(lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_s=null,cm=!1}catch(i){throw _s!==null&&(_s=_s.slice(t+1)),tI(R0,Qo),i}finally{lt=e,ev=!1}}return null}var Fl=[],Vl=0,ap=null,lp=0,Hr=[],Wr=0,Aa=null,ys=1,ws="";function da(t,e){Fl[Vl++]=lp,Fl[Vl++]=ap,ap=t,lp=e}function kI(t,e,n){Hr[Wr++]=ys,Hr[Wr++]=ws,Hr[Wr++]=Aa,Aa=t;var r=ys;t=ws;var i=32-di(r)-1;r&=~(1<<i),n+=1;var s=32-di(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ys=1<<32-di(e)+i|n<<i|r,ws=s+t}else ys=1<<s|n<<i|r,ws=t}function V0(t){t.return!==null&&(da(t,1),kI(t,1,0))}function $0(t){for(;t===ap;)ap=Fl[--Vl],Fl[Vl]=null,lp=Fl[--Vl],Fl[Vl]=null;for(;t===Aa;)Aa=Hr[--Wr],Hr[Wr]=null,ws=Hr[--Wr],Hr[Wr]=null,ys=Hr[--Wr],Hr[Wr]=null}var xr=null,Sr=null,It=!1,ai=null;function LI(t,e){var n=Gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xr=t,Sr=ko(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xr=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Aa!==null?{id:ys,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xr=t,Sr=null,!0):!1;default:return!1}}function U_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function z_(t){if(It){var e=Sr;if(e){var n=e;if(!aE(t,e)){if(U_(t))throw Error(oe(418));e=ko(n.nextSibling);var r=xr;e&&aE(t,e)?LI(r,n):(t.flags=t.flags&-4097|2,It=!1,xr=t)}}else{if(U_(t))throw Error(oe(418));t.flags=t.flags&-4097|2,It=!1,xr=t}}}function lE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xr=t}function Zh(t){if(t!==xr)return!1;if(!It)return lE(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!F_(t.type,t.memoizedProps)),e&&(e=Sr)){if(U_(t))throw OI(),Error(oe(418));for(;e;)LI(t,e),e=ko(e.nextSibling)}if(lE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=ko(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=xr?ko(t.stateNode.nextSibling):null;return!0}function OI(){for(var t=Sr;t;)t=ko(t.nextSibling)}function ou(){Sr=xr=null,It=!1}function B0(t){ai===null?ai=[t]:ai.push(t)}var U8=Vs.ReactCurrentBatchConfig;function uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Qh(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uE(t){var e=t._init;return e(t._payload)}function NI(t){function e(x,T){if(t){var P=x.deletions;P===null?(x.deletions=[T],x.flags|=16):P.push(T)}}function n(x,T){if(!t)return null;for(;T!==null;)e(x,T),T=T.sibling;return null}function r(x,T){for(x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function i(x,T){return x=Do(x,T),x.index=0,x.sibling=null,x}function s(x,T,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<T?(x.flags|=2,T):P):(x.flags|=2,T)):(x.flags|=1048576,T)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,T,P,j){return T===null||T.tag!==6?(T=av(P,x.mode,j),T.return=x,T):(T=i(T,P),T.return=x,T)}function u(x,T,P,j){var U=P.type;return U===Ll?p(x,T,P.props.children,j,P.key):T!==null&&(T.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ho&&uE(U)===T.type)?(j=i(T,P.props),j.ref=uc(x,T,P),j.return=x,j):(j=kf(P.type,P.key,P.props,null,x.mode,j),j.ref=uc(x,T,P),j.return=x,j)}function d(x,T,P,j){return T===null||T.tag!==4||T.stateNode.containerInfo!==P.containerInfo||T.stateNode.implementation!==P.implementation?(T=lv(P,x.mode,j),T.return=x,T):(T=i(T,P.children||[]),T.return=x,T)}function p(x,T,P,j,U){return T===null||T.tag!==7?(T=Ta(P,x.mode,j,U),T.return=x,T):(T=i(T,P),T.return=x,T)}function m(x,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return T=av(""+T,x.mode,P),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vh:return P=kf(T.type,T.key,T.props,null,x.mode,P),P.ref=uc(x,null,T),P.return=x,P;case kl:return T=lv(T,x.mode,P),T.return=x,T;case ho:var j=T._init;return m(x,j(T._payload),P)}if(Ic(T)||ic(T))return T=Ta(T,x.mode,P,null),T.return=x,T;Qh(x,T)}return null}function g(x,T,P,j){var U=T!==null?T.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return U!==null?null:l(x,T,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Vh:return P.key===U?u(x,T,P,j):null;case kl:return P.key===U?d(x,T,P,j):null;case ho:return U=P._init,g(x,T,U(P._payload),j)}if(Ic(P)||ic(P))return U!==null?null:p(x,T,P,j,null);Qh(x,P)}return null}function _(x,T,P,j,U){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(P)||null,l(T,x,""+j,U);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vh:return x=x.get(j.key===null?P:j.key)||null,u(T,x,j,U);case kl:return x=x.get(j.key===null?P:j.key)||null,d(T,x,j,U);case ho:var H=j._init;return _(x,T,P,H(j._payload),U)}if(Ic(j)||ic(j))return x=x.get(P)||null,p(T,x,j,U,null);Qh(T,j)}return null}function C(x,T,P,j){for(var U=null,H=null,N=T,S=T=0,A=null;N!==null&&S<P.length;S++){N.index>S?(A=N,N=null):A=N.sibling;var R=g(x,N,P[S],j);if(R===null){N===null&&(N=A);break}t&&N&&R.alternate===null&&e(x,N),T=s(R,T,S),H===null?U=R:H.sibling=R,H=R,N=A}if(S===P.length)return n(x,N),It&&da(x,S),U;if(N===null){for(;S<P.length;S++)N=m(x,P[S],j),N!==null&&(T=s(N,T,S),H===null?U=N:H.sibling=N,H=N);return It&&da(x,S),U}for(N=r(x,N);S<P.length;S++)A=_(N,x,S,P[S],j),A!==null&&(t&&A.alternate!==null&&N.delete(A.key===null?S:A.key),T=s(A,T,S),H===null?U=A:H.sibling=A,H=A);return t&&N.forEach(function(V){return e(x,V)}),It&&da(x,S),U}function b(x,T,P,j){var U=ic(P);if(typeof U!="function")throw Error(oe(150));if(P=U.call(P),P==null)throw Error(oe(151));for(var H=U=null,N=T,S=T=0,A=null,R=P.next();N!==null&&!R.done;S++,R=P.next()){N.index>S?(A=N,N=null):A=N.sibling;var V=g(x,N,R.value,j);if(V===null){N===null&&(N=A);break}t&&N&&V.alternate===null&&e(x,N),T=s(V,T,S),H===null?U=V:H.sibling=V,H=V,N=A}if(R.done)return n(x,N),It&&da(x,S),U;if(N===null){for(;!R.done;S++,R=P.next())R=m(x,R.value,j),R!==null&&(T=s(R,T,S),H===null?U=R:H.sibling=R,H=R);return It&&da(x,S),U}for(N=r(x,N);!R.done;S++,R=P.next())R=_(N,x,S,R.value,j),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?S:R.key),T=s(R,T,S),H===null?U=R:H.sibling=R,H=R);return t&&N.forEach(function(B){return e(x,B)}),It&&da(x,S),U}function k(x,T,P,j){if(typeof P=="object"&&P!==null&&P.type===Ll&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Vh:e:{for(var U=P.key,H=T;H!==null;){if(H.key===U){if(U=P.type,U===Ll){if(H.tag===7){n(x,H.sibling),T=i(H,P.props.children),T.return=x,x=T;break e}}else if(H.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ho&&uE(U)===H.type){n(x,H.sibling),T=i(H,P.props),T.ref=uc(x,H,P),T.return=x,x=T;break e}n(x,H);break}else e(x,H);H=H.sibling}P.type===Ll?(T=Ta(P.props.children,x.mode,j,P.key),T.return=x,x=T):(j=kf(P.type,P.key,P.props,null,x.mode,j),j.ref=uc(x,T,P),j.return=x,x=j)}return a(x);case kl:e:{for(H=P.key;T!==null;){if(T.key===H)if(T.tag===4&&T.stateNode.containerInfo===P.containerInfo&&T.stateNode.implementation===P.implementation){n(x,T.sibling),T=i(T,P.children||[]),T.return=x,x=T;break e}else{n(x,T);break}else e(x,T);T=T.sibling}T=lv(P,x.mode,j),T.return=x,x=T}return a(x);case ho:return H=P._init,k(x,T,H(P._payload),j)}if(Ic(P))return C(x,T,P,j);if(ic(P))return b(x,T,P,j);Qh(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,T!==null&&T.tag===6?(n(x,T.sibling),T=i(T,P),T.return=x,x=T):(n(x,T),T=av(P,x.mode,j),T.return=x,x=T),a(x)):n(x,T)}return k}var au=NI(!0),DI=NI(!1),up=Zo(null),cp=null,$l=null,U0=null;function z0(){U0=$l=cp=null}function H0(t){var e=up.current;wt(up),t._currentValue=e}function H_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yl(t,e){cp=t,U0=$l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(or=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(U0!==t)if(t={context:t,memoizedValue:e,next:null},$l===null){if(cp===null)throw Error(oe(308));$l=t,cp.dependencies={lanes:0,firstContext:t}}else $l=$l.next=t;return e}var ga=null;function W0(t){ga===null?ga=[t]:ga.push(t)}function MI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,W0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rs(t,r)}function Rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fo=!1;function G0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,tt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rs(t,n)}return i=r.interleaved,i===null?(e.next=e,W0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rs(t,n)}function If(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,k0(t,n)}}function cE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dp(t,e,n,r){var i=t.updateQueue;fo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,a===null?s=d:a.next=d,a=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,p=d=u=null,l=s;do{var g=l.lane,_=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,b=l;switch(g=e,_=n,b.tag){case 1:if(C=b.payload,typeof C=="function"){m=C.call(_,m,g);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=b.payload,g=typeof C=="function"?C.call(_,m,g):C,g==null)break e;m=kt({},m,g);break e;case 2:fo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else _={eventTime:_,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=_,u=m):p=p.next=_,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ka|=a,t.lanes=a,t.memoizedState=m}}function dE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Dd={},$i=Zo(Dd),hd=Zo(Dd),fd=Zo(Dd);function va(t){if(t===Dd)throw Error(oe(174));return t}function q0(t,e){switch(mt(fd,e),mt(hd,t),mt($i,Dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:C_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=C_(e,t)}wt($i),mt($i,e)}function lu(){wt($i),wt(hd),wt(fd)}function FI(t){va(fd.current);var e=va($i.current),n=C_(e,t.type);e!==n&&(mt(hd,t),mt($i,n))}function K0(t){hd.current===t&&(wt($i),wt(hd))}var At=Zo(0);function hp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tv=[];function Z0(){for(var t=0;t<tv.length;t++)tv[t]._workInProgressVersionPrimary=null;tv.length=0}var bf=Vs.ReactCurrentDispatcher,nv=Vs.ReactCurrentBatchConfig,Ra=0,Rt=null,tn=null,hn=null,fp=!1,Bc=!1,pd=0,z8=0;function Sn(){throw Error(oe(321))}function Q0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fi(t[n],e[n]))return!1;return!0}function Y0(t,e,n,r,i,s){if(Ra=s,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bf.current=t===null||t.memoizedState===null?q8:K8,t=n(r,i),Bc){s=0;do{if(Bc=!1,pd=0,25<=s)throw Error(oe(301));s+=1,hn=tn=null,e.updateQueue=null,bf.current=Z8,t=n(r,i)}while(Bc)}if(bf.current=pp,e=tn!==null&&tn.next!==null,Ra=0,hn=tn=Rt=null,fp=!1,e)throw Error(oe(300));return t}function X0(){var t=pd!==0;return pd=0,t}function Ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Rt.memoizedState=hn=t:hn=hn.next=t,hn}function Qr(){if(tn===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=hn===null?Rt.memoizedState:hn.next;if(e!==null)hn=e,tn=t;else{if(t===null)throw Error(oe(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},hn===null?Rt.memoizedState=hn=t:hn=hn.next=t}return hn}function md(t,e){return typeof e=="function"?e(t):e}function rv(t){var e=Qr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=tn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,u=null,d=s;do{var p=d.lane;if((Ra&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=m,a=r):u=u.next=m,Rt.lanes|=p,ka|=p}d=d.next}while(d!==null&&d!==s);u===null?a=r:u.next=l,fi(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Rt.lanes|=s,ka|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function iv(t){var e=Qr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);fi(s,e.memoizedState)||(or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VI(){}function $I(t,e){var n=Rt,r=Qr(),i=e(),s=!fi(r.memoizedState,i);if(s&&(r.memoizedState=i,or=!0),r=r.queue,J0(zI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,gd(9,UI.bind(null,n,r,i,e),void 0,null),pn===null)throw Error(oe(349));Ra&30||BI(n,e,i)}return i}function BI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UI(t,e,n,r){e.value=n,e.getSnapshot=r,HI(e)&&WI(t)}function zI(t,e,n){return n(function(){HI(e)&&WI(t)})}function HI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fi(t,n)}catch{return!0}}function WI(t){var e=Rs(t,1);e!==null&&hi(e,t,1,-1)}function hE(t){var e=Ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:t},e.queue=t,t=t.dispatch=G8.bind(null,Rt,t),[e.memoizedState,t]}function gd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GI(){return Qr().memoizedState}function xf(t,e,n,r){var i=Ni();Rt.flags|=t,i.memoizedState=gd(1|e,n,void 0,r===void 0?null:r)}function dm(t,e,n,r){var i=Qr();r=r===void 0?null:r;var s=void 0;if(tn!==null){var a=tn.memoizedState;if(s=a.destroy,r!==null&&Q0(r,a.deps)){i.memoizedState=gd(e,n,s,r);return}}Rt.flags|=t,i.memoizedState=gd(1|e,n,s,r)}function fE(t,e){return xf(8390656,8,t,e)}function J0(t,e){return dm(2048,8,t,e)}function qI(t,e){return dm(4,2,t,e)}function KI(t,e){return dm(4,4,t,e)}function ZI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QI(t,e,n){return n=n!=null?n.concat([t]):null,dm(4,4,ZI.bind(null,e,t),n)}function e1(){}function YI(t,e){var n=Qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XI(t,e){var n=Qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JI(t,e,n){return Ra&21?(fi(n,e)||(n=iI(),Rt.lanes|=n,ka|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=n)}function H8(t,e){var n=lt;lt=n!==0&&4>n?n:4,t(!0);var r=nv.transition;nv.transition={};try{t(!1),e()}finally{lt=n,nv.transition=r}}function eb(){return Qr().memoizedState}function W8(t,e,n){var r=No(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tb(t))nb(e,n);else if(n=MI(t,e,n,r),n!==null){var i=Un();hi(n,t,r,i),rb(n,e,r)}}function G8(t,e,n){var r=No(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tb(t))nb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,fi(l,a)){var u=e.interleaved;u===null?(i.next=i,W0(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=MI(t,e,i,r),n!==null&&(i=Un(),hi(n,t,r,i),rb(n,e,r))}}function tb(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function nb(t,e){Bc=fp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,k0(t,n)}}var pp={readContext:Zr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},q8={readContext:Zr,useCallback:function(t,e){return Ni().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:fE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xf(4194308,4,ZI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xf(4194308,4,t,e)},useInsertionEffect:function(t,e){return xf(4,2,t,e)},useMemo:function(t,e){var n=Ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=W8.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=Ni();return t={current:t},e.memoizedState=t},useState:hE,useDebugValue:e1,useDeferredValue:function(t){return Ni().memoizedState=t},useTransition:function(){var t=hE(!1),e=t[0];return t=H8.bind(null,t[1]),Ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rt,i=Ni();if(It){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),pn===null)throw Error(oe(349));Ra&30||BI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,fE(zI.bind(null,r,s,t),[t]),r.flags|=2048,gd(9,UI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ni(),e=pn.identifierPrefix;if(It){var n=ws,r=ys;n=(r&~(1<<32-di(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=z8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K8={readContext:Zr,useCallback:YI,useContext:Zr,useEffect:J0,useImperativeHandle:QI,useInsertionEffect:qI,useLayoutEffect:KI,useMemo:XI,useReducer:rv,useRef:GI,useState:function(){return rv(md)},useDebugValue:e1,useDeferredValue:function(t){var e=Qr();return JI(e,tn.memoizedState,t)},useTransition:function(){var t=rv(md)[0],e=Qr().memoizedState;return[t,e]},useMutableSource:VI,useSyncExternalStore:$I,useId:eb,unstable_isNewReconciler:!1},Z8={readContext:Zr,useCallback:YI,useContext:Zr,useEffect:J0,useImperativeHandle:QI,useInsertionEffect:qI,useLayoutEffect:KI,useMemo:XI,useReducer:iv,useRef:GI,useState:function(){return iv(md)},useDebugValue:e1,useDeferredValue:function(t){var e=Qr();return tn===null?e.memoizedState=t:JI(e,tn.memoizedState,t)},useTransition:function(){var t=iv(md)[0],e=Qr().memoizedState;return[t,e]},useMutableSource:VI,useSyncExternalStore:$I,useId:eb,unstable_isNewReconciler:!1};function ii(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function W_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hm={isMounted:function(t){return(t=t._reactInternals)?za(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Un(),i=No(t),s=Cs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Lo(t,s,i),e!==null&&(hi(e,t,i,r),If(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Un(),i=No(t),s=Cs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Lo(t,s,i),e!==null&&(hi(e,t,i,r),If(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Un(),r=No(t),i=Cs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Lo(t,i,r),e!==null&&(hi(e,t,r,n),If(e,t,r))}};function pE(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ld(n,r)||!ld(i,s):!0}function ib(t,e,n){var r=!1,i=Uo,s=e.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=lr(e)?Pa:Ln.current,r=e.contextTypes,s=(r=r!=null)?su(t,i):Uo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hm.enqueueReplaceState(e,e.state,null)}function G_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},G0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=lr(e)?Pa:Ln.current,i.context=su(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(W_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hm.enqueueReplaceState(i,i.state,null),dp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uu(t,e){try{var n="",r=e;do n+=S6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function q_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Q8=typeof WeakMap=="function"?WeakMap:Map;function sb(t,e,n){n=Cs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gp||(gp=!0,ry=r),q_(t,e)},n}function ob(t,e,n){n=Cs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){q_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){q_(t,e),typeof r!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function gE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Q8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=c9.bind(null,t,e,n),e.then(t,t))}function vE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _E(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cs(-1,1),e.tag=2,Lo(n,e,1))),n.lanes|=1),t)}var Y8=Vs.ReactCurrentOwner,or=!1;function Bn(t,e,n,r){e.child=t===null?DI(e,null,n,r):au(e,t.child,n,r)}function yE(t,e,n,r,i){n=n.render;var s=e.ref;return Yl(e,i),r=Y0(t,e,n,r,s,i),n=X0(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(It&&n&&V0(e),e.flags|=1,Bn(t,e,r,i),e.child)}function wE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!l1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ab(t,e,s,r,i)):(t=kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ld,n(a,r)&&t.ref===e.ref)return ks(t,e,i)}return e.flags|=1,t=Do(s,r),t.ref=e.ref,t.return=e,e.child=t}function ab(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ld(s,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(or=!0);else return e.lanes=t.lanes,ks(t,e,i)}return K_(t,e,n,r,i)}function lb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Ul,wr),wr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(Ul,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,mt(Ul,wr),wr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,mt(Ul,wr),wr|=r;return Bn(t,e,i,n),e.child}function ub(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function K_(t,e,n,r,i){var s=lr(n)?Pa:Ln.current;return s=su(e,s),Yl(e,i),n=Y0(t,e,n,r,s,i),r=X0(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(It&&r&&V0(e),e.flags|=1,Bn(t,e,n,i),e.child)}function EE(t,e,n,r,i){if(lr(n)){var s=!0;op(e)}else s=!1;if(Yl(e,i),e.stateNode===null)Pf(t,e),ib(e,n,r),G_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Zr(d):(d=lr(n)?Pa:Ln.current,d=su(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==d)&&mE(e,a,r,d),fo=!1;var g=e.memoizedState;a.state=g,dp(e,r,a,i),u=e.memoizedState,l!==r||g!==u||ar.current||fo?(typeof p=="function"&&(W_(e,n,p,r),u=e.memoizedState),(l=fo||pE(e,n,l,r,g,u,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,jI(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ii(e.type,l),a.props=d,m=e.pendingProps,g=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zr(u):(u=lr(n)?Pa:Ln.current,u=su(e,u));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||g!==u)&&mE(e,a,r,u),fo=!1,g=e.memoizedState,a.state=g,dp(e,r,a,i);var C=e.memoizedState;l!==m||g!==C||ar.current||fo?(typeof _=="function"&&(W_(e,n,_,r),C=e.memoizedState),(d=fo||pE(e,n,d,r,g,C,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),a.props=r,a.state=C,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Z_(t,e,n,r,s,i)}function Z_(t,e,n,r,i,s){ub(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&oE(e,n,!1),ks(t,e,s);r=e.stateNode,Y8.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=au(e,t.child,null,s),e.child=au(e,null,l,s)):Bn(t,e,l,s),e.memoizedState=r.state,i&&oE(e,n,!0),e.child}function cb(t){var e=t.stateNode;e.pendingContext?sE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sE(t,e.context,!1),q0(t,e.containerInfo)}function TE(t,e,n,r,i){return ou(),B0(i),e.flags|=256,Bn(t,e,n,r),e.child}var Q_={dehydrated:null,treeContext:null,retryLane:0};function Y_(t){return{baseLanes:t,cachePool:null,transitions:null}}function db(t,e,n){var r=e.pendingProps,i=At.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mt(At,i&1),t===null)return z_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=mm(a,r,0,null),t=Ta(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Y_(n),e.memoizedState=Q_,t):t1(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return X8(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Do(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Do(l,s):(s=Ta(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Y_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Q_,r}return s=t.child,t=s.sibling,r=Do(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function t1(t,e){return e=mm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yh(t,e,n,r){return r!==null&&B0(r),au(e,t.child,null,n),t=t1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X8(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=sv(Error(oe(422))),Yh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mm({mode:"visible",children:r.children},i,0,null),s=Ta(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&au(e,t.child,null,a),e.child.memoizedState=Y_(a),e.memoizedState=Q_,s);if(!(e.mode&1))return Yh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(oe(419)),r=sv(s,r,void 0),Yh(t,e,a,r)}if(l=(a&t.childLanes)!==0,or||l){if(r=pn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rs(t,i),hi(r,t,i,-1))}return a1(),r=sv(Error(oe(421))),Yh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=d9.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sr=ko(i.nextSibling),xr=e,It=!0,ai=null,t!==null&&(Hr[Wr++]=ys,Hr[Wr++]=ws,Hr[Wr++]=Aa,ys=t.id,ws=t.overflow,Aa=e),e=t1(e,r.children),e.flags|=4096,e)}function SE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),H_(t.return,e,n)}function ov(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bn(t,e,r.children,n),r=At.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SE(t,n,e);else if(t.tag===19)SE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mt(At,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ov(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ov(e,!0,n,null,s);break;case"together":ov(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ka|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Do(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Do(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J8(t,e,n){switch(e.tag){case 3:cb(e),ou();break;case 5:FI(e);break;case 1:lr(e.type)&&op(e);break;case 4:q0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;mt(up,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mt(At,At.current&1),e.flags|=128,null):n&e.child.childLanes?db(t,e,n):(mt(At,At.current&1),t=ks(t,e,n),t!==null?t.sibling:null);mt(At,At.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(At,At.current),r)break;return null;case 22:case 23:return e.lanes=0,lb(t,e,n)}return ks(t,e,n)}var fb,X_,pb,mb;fb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};X_=function(){};pb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,va($i.current);var s=null;switch(n){case"input":i=w_(t,i),r=w_(t,r),s=[];break;case"select":i=kt({},i,{value:void 0}),r=kt({},r,{value:void 0}),s=[];break;case"textarea":i=S_(t,i),r=S_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ip)}I_(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(td.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(td.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&vt("scroll",t),s||l===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};mb=function(t,e,n,r){n!==r&&(e.flags|=4)};function cc(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function e9(t,e,n){var r=e.pendingProps;switch($0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(e),null;case 1:return lr(e.type)&&sp(),Cn(e),null;case 3:return r=e.stateNode,lu(),wt(ar),wt(Ln),Z0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(oy(ai),ai=null))),X_(t,e),Cn(e),null;case 5:K0(e);var i=va(fd.current);if(n=e.type,t!==null&&e.stateNode!=null)pb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return Cn(e),null}if(t=va($i.current),Zh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Di]=e,r[dd]=s,t=(e.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(i=0;i<xc.length;i++)vt(xc[i],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":L2(r,s),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},vt("invalid",r);break;case"textarea":N2(r,s),vt("invalid",r)}I_(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Kh(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Kh(r.textContent,l,t),i=["children",""+l]):td.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&vt("scroll",r)}switch(n){case"input":$h(r),O2(r,s,!0);break;case"textarea":$h(r),D2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ip)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Di]=e,t[dd]=r,fb(t,e,!1,!1),e.stateNode=t;e:{switch(a=b_(n,r),n){case"dialog":vt("cancel",t),vt("close",t),i=r;break;case"iframe":case"object":case"embed":vt("load",t),i=r;break;case"video":case"audio":for(i=0;i<xc.length;i++)vt(xc[i],t);i=r;break;case"source":vt("error",t),i=r;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=r;break;case"details":vt("toggle",t),i=r;break;case"input":L2(t,r),i=w_(t,r),vt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=kt({},r,{value:void 0}),vt("invalid",t);break;case"textarea":N2(t,r),i=S_(t,r),vt("invalid",t);break;default:i=r}I_(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?GC(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&HC(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&nd(t,u):typeof u=="number"&&nd(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(td.hasOwnProperty(s)?u!=null&&s==="onScroll"&&vt("scroll",t):u!=null&&I0(t,s,u,a))}switch(n){case"input":$h(t),O2(t,r,!1);break;case"textarea":$h(t),D2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ql(t,!!r.multiple,s,!1):r.defaultValue!=null&&ql(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ip)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cn(e),null;case 6:if(t&&e.stateNode!=null)mb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=va(fd.current),va($i.current),Zh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Di]=e,(s=r.nodeValue!==n)&&(t=xr,t!==null))switch(t.tag){case 3:Kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Di]=e,e.stateNode=r}return Cn(e),null;case 13:if(wt(At),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&Sr!==null&&e.mode&1&&!(e.flags&128))OI(),ou(),e.flags|=98560,s=!1;else if(s=Zh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[Di]=e}else ou(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cn(e),s=!1}else ai!==null&&(oy(ai),ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?nn===0&&(nn=3):a1())),e.updateQueue!==null&&(e.flags|=4),Cn(e),null);case 4:return lu(),X_(t,e),t===null&&ud(e.stateNode.containerInfo),Cn(e),null;case 10:return H0(e.type._context),Cn(e),null;case 17:return lr(e.type)&&sp(),Cn(e),null;case 19:if(wt(At),s=e.memoizedState,s===null)return Cn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)cc(s,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=hp(t),a!==null){for(e.flags|=128,cc(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mt(At,At.current&1|2),e.child}t=t.sibling}s.tail!==null&&zt()>cu&&(e.flags|=128,r=!0,cc(s,!1),e.lanes=4194304)}else{if(!r)if(t=hp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!It)return Cn(e),null}else 2*zt()-s.renderingStartTime>cu&&n!==1073741824&&(e.flags|=128,r=!0,cc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zt(),e.sibling=null,n=At.current,mt(At,r?n&1|2:n&1),e):(Cn(e),null);case 22:case 23:return o1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wr&1073741824&&(Cn(e),e.subtreeFlags&6&&(e.flags|=8192)):Cn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function t9(t,e){switch($0(e),e.tag){case 1:return lr(e.type)&&sp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lu(),wt(ar),wt(Ln),Z0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return K0(e),null;case 13:if(wt(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));ou()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(At),null;case 4:return lu(),null;case 10:return H0(e.type._context),null;case 22:case 23:return o1(),null;case 24:return null;default:return null}}var Xh=!1,xn=!1,n9=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Bl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function J_(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var CE=!1;function r9(t,e){if(M_=tp,t=wI(),F0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,d=0,p=0,m=t,g=null;t:for(;;){for(var _;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==s||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(_=m.firstChild)!==null;)g=m,m=_;for(;;){if(m===t)break t;if(g===n&&++d===i&&(l=a),g===s&&++p===r&&(u=a),(_=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(j_={focusedElem:t,selectionRange:n},tp=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var b=C.memoizedProps,k=C.memoizedState,x=e.stateNode,T=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:ii(e.type,b),k);x.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(j){Dt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return C=CE,CE=!1,C}function Uc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&J_(e,n,s)}i=i.next}while(i!==r)}}function fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ey(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gb(t){var e=t.alternate;e!==null&&(t.alternate=null,gb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Di],delete e[dd],delete e[$_],delete e[V8],delete e[$8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vb(t){return t.tag===5||t.tag===3||t.tag===4}function IE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ty(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ip));else if(r!==4&&(t=t.child,t!==null))for(ty(t,e,n),t=t.sibling;t!==null;)ty(t,e,n),t=t.sibling}function ny(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ny(t,e,n),t=t.sibling;t!==null;)ny(t,e,n),t=t.sibling}var gn=null,si=!1;function oo(t,e,n){for(n=n.child;n!==null;)_b(t,e,n),n=n.sibling}function _b(t,e,n){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(sm,n)}catch{}switch(n.tag){case 5:xn||Bl(n,e);case 6:var r=gn,i=si;gn=null,oo(t,e,n),gn=r,si=i,gn!==null&&(si?(t=gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gn.removeChild(n.stateNode));break;case 18:gn!==null&&(si?(t=gn,n=n.stateNode,t.nodeType===8?Jg(t.parentNode,n):t.nodeType===1&&Jg(t,n),od(t)):Jg(gn,n.stateNode));break;case 4:r=gn,i=si,gn=n.stateNode.containerInfo,si=!0,oo(t,e,n),gn=r,si=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&J_(n,e,a),i=i.next}while(i!==r)}oo(t,e,n);break;case 1:if(!xn&&(Bl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Dt(n,e,l)}oo(t,e,n);break;case 21:oo(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,oo(t,e,n),xn=r):oo(t,e,n);break;default:oo(t,e,n)}}function bE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n9),e.forEach(function(r){var i=h9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ri(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:gn=l.stateNode,si=!1;break e;case 3:gn=l.stateNode.containerInfo,si=!0;break e;case 4:gn=l.stateNode.containerInfo,si=!0;break e}l=l.return}if(gn===null)throw Error(oe(160));_b(s,a,i),gn=null,si=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Dt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yb(e,t),e=e.sibling}function yb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ri(e,t),Li(t),r&4){try{Uc(3,t,t.return),fm(3,t)}catch(b){Dt(t,t.return,b)}try{Uc(5,t,t.return)}catch(b){Dt(t,t.return,b)}}break;case 1:ri(e,t),Li(t),r&512&&n!==null&&Bl(n,n.return);break;case 5:if(ri(e,t),Li(t),r&512&&n!==null&&Bl(n,n.return),t.flags&32){var i=t.stateNode;try{nd(i,"")}catch(b){Dt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&BC(i,s),b_(l,a);var d=b_(l,s);for(a=0;a<u.length;a+=2){var p=u[a],m=u[a+1];p==="style"?GC(i,m):p==="dangerouslySetInnerHTML"?HC(i,m):p==="children"?nd(i,m):I0(i,p,m,d)}switch(l){case"input":E_(i,s);break;case"textarea":UC(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?ql(i,!!s.multiple,_,!1):g!==!!s.multiple&&(s.defaultValue!=null?ql(i,!!s.multiple,s.defaultValue,!0):ql(i,!!s.multiple,s.multiple?[]:"",!1))}i[dd]=s}catch(b){Dt(t,t.return,b)}}break;case 6:if(ri(e,t),Li(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Dt(t,t.return,b)}}break;case 3:if(ri(e,t),Li(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{od(e.containerInfo)}catch(b){Dt(t,t.return,b)}break;case 4:ri(e,t),Li(t);break;case 13:ri(e,t),Li(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(i1=zt())),r&4&&bE(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(d=xn)||p,ri(e,t),xn=d):ri(e,t),Li(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(pe=t,p=t.child;p!==null;){for(m=pe=p;pe!==null;){switch(g=pe,_=g.child,g.tag){case 0:case 11:case 14:case 15:Uc(4,g,g.return);break;case 1:Bl(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(b){Dt(r,n,b)}}break;case 5:Bl(g,g.return);break;case 22:if(g.memoizedState!==null){PE(m);continue}}_!==null?(_.return=g,pe=_):PE(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=WC("display",a))}catch(b){Dt(t,t.return,b)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){Dt(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ri(e,t),Li(t),r&4&&bE(t);break;case 21:break;default:ri(e,t),Li(t)}}function Li(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vb(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nd(i,""),r.flags&=-33);var s=IE(t);ny(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=IE(t);ty(t,l,a);break;default:throw Error(oe(161))}}catch(u){Dt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i9(t,e,n){pe=t,wb(t)}function wb(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Xh;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||xn;l=Xh;var d=xn;if(Xh=a,(xn=u)&&!d)for(pe=i;pe!==null;)a=pe,u=a.child,a.tag===22&&a.memoizedState!==null?AE(i):u!==null?(u.return=a,pe=u):AE(i);for(;s!==null;)pe=s,wb(s),s=s.sibling;pe=i,Xh=l,xn=d}xE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):xE(t)}}function xE(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ii(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dE(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dE(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&od(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}xn||e.flags&512&&ey(e)}catch(g){Dt(e,e.return,g)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function PE(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function AE(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fm(4,e)}catch(u){Dt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Dt(e,i,u)}}var s=e.return;try{ey(e)}catch(u){Dt(e,s,u)}break;case 5:var a=e.return;try{ey(e)}catch(u){Dt(e,a,u)}}}catch(u){Dt(e,e.return,u)}if(e===t){pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,pe=l;break}pe=e.return}}var s9=Math.ceil,mp=Vs.ReactCurrentDispatcher,n1=Vs.ReactCurrentOwner,qr=Vs.ReactCurrentBatchConfig,tt=0,pn=null,Yt=null,yn=0,wr=0,Ul=Zo(0),nn=0,vd=null,ka=0,pm=0,r1=0,zc=null,rr=null,i1=0,cu=1/0,vs=null,gp=!1,ry=null,Oo=null,Jh=!1,Co=null,vp=0,Hc=0,iy=null,Af=-1,Rf=0;function Un(){return tt&6?zt():Af!==-1?Af:Af=zt()}function No(t){return t.mode&1?tt&2&&yn!==0?yn&-yn:U8.transition!==null?(Rf===0&&(Rf=iI()),Rf):(t=lt,t!==0||(t=window.event,t=t===void 0?16:dI(t.type)),t):1}function hi(t,e,n,r){if(50<Hc)throw Hc=0,iy=null,Error(oe(185));Ld(t,n,r),(!(tt&2)||t!==pn)&&(t===pn&&(!(tt&2)&&(pm|=n),nn===4&&go(t,yn)),ur(t,r),n===1&&tt===0&&!(e.mode&1)&&(cu=zt()+500,cm&&Qo()))}function ur(t,e){var n=t.callbackNode;U6(t,e);var r=ep(t,t===pn?yn:0);if(r===0)n!==null&&F2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&F2(n),e===1)t.tag===0?B8(RE.bind(null,t)):RI(RE.bind(null,t)),j8(function(){!(tt&6)&&Qo()}),n=null;else{switch(sI(r)){case 1:n=R0;break;case 4:n=nI;break;case 16:n=Jf;break;case 536870912:n=rI;break;default:n=Jf}n=Pb(n,Eb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Eb(t,e){if(Af=-1,Rf=0,tt&6)throw Error(oe(327));var n=t.callbackNode;if(Xl()&&t.callbackNode!==n)return null;var r=ep(t,t===pn?yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_p(t,r);else{e=r;var i=tt;tt|=2;var s=Sb();(pn!==t||yn!==e)&&(vs=null,cu=zt()+500,Ea(t,e));do try{l9();break}catch(l){Tb(t,l)}while(!0);z0(),mp.current=s,tt=i,Yt!==null?e=0:(pn=null,yn=0,e=nn)}if(e!==0){if(e===2&&(i=k_(t),i!==0&&(r=i,e=sy(t,i))),e===1)throw n=vd,Ea(t,0),go(t,r),ur(t,zt()),n;if(e===6)go(t,r);else{if(i=t.current.alternate,!(r&30)&&!o9(i)&&(e=_p(t,r),e===2&&(s=k_(t),s!==0&&(r=s,e=sy(t,s))),e===1))throw n=vd,Ea(t,0),go(t,r),ur(t,zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:ha(t,rr,vs);break;case 3:if(go(t,r),(r&130023424)===r&&(e=i1+500-zt(),10<e)){if(ep(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=V_(ha.bind(null,t,rr,vs),e);break}ha(t,rr,vs);break;case 4:if(go(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-di(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s9(r/1960))-r,10<r){t.timeoutHandle=V_(ha.bind(null,t,rr,vs),r);break}ha(t,rr,vs);break;case 5:ha(t,rr,vs);break;default:throw Error(oe(329))}}}return ur(t,zt()),t.callbackNode===n?Eb.bind(null,t):null}function sy(t,e){var n=zc;return t.current.memoizedState.isDehydrated&&(Ea(t,e).flags|=256),t=_p(t,e),t!==2&&(e=rr,rr=n,e!==null&&oy(e)),t}function oy(t){rr===null?rr=t:rr.push.apply(rr,t)}function o9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(t,e){for(e&=~r1,e&=~pm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-di(e),r=1<<n;t[n]=-1,e&=~r}}function RE(t){if(tt&6)throw Error(oe(327));Xl();var e=ep(t,0);if(!(e&1))return ur(t,zt()),null;var n=_p(t,e);if(t.tag!==0&&n===2){var r=k_(t);r!==0&&(e=r,n=sy(t,r))}if(n===1)throw n=vd,Ea(t,0),go(t,e),ur(t,zt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ha(t,rr,vs),ur(t,zt()),null}function s1(t,e){var n=tt;tt|=1;try{return t(e)}finally{tt=n,tt===0&&(cu=zt()+500,cm&&Qo())}}function La(t){Co!==null&&Co.tag===0&&!(tt&6)&&Xl();var e=tt;tt|=1;var n=qr.transition,r=lt;try{if(qr.transition=null,lt=1,t)return t()}finally{lt=r,qr.transition=n,tt=e,!(tt&6)&&Qo()}}function o1(){wr=Ul.current,wt(Ul)}function Ea(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,M8(n)),Yt!==null)for(n=Yt.return;n!==null;){var r=n;switch($0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sp();break;case 3:lu(),wt(ar),wt(Ln),Z0();break;case 5:K0(r);break;case 4:lu();break;case 13:wt(At);break;case 19:wt(At);break;case 10:H0(r.type._context);break;case 22:case 23:o1()}n=n.return}if(pn=t,Yt=t=Do(t.current,null),yn=wr=e,nn=0,vd=null,r1=pm=ka=0,rr=zc=null,ga!==null){for(e=0;e<ga.length;e++)if(n=ga[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ga=null}return t}function Tb(t,e){do{var n=Yt;try{if(z0(),bf.current=pp,fp){for(var r=Rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fp=!1}if(Ra=0,hn=tn=Rt=null,Bc=!1,pd=0,n1.current=null,n===null||n.return===null){nn=1,vd=e,Yt=null;break}e:{var s=t,a=n.return,l=n,u=e;if(e=yn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=vE(a);if(_!==null){_.flags&=-257,_E(_,a,l,s,e),_.mode&1&&gE(s,d,e),e=_,u=d;var C=e.updateQueue;if(C===null){var b=new Set;b.add(u),e.updateQueue=b}else C.add(u);break e}else{if(!(e&1)){gE(s,d,e),a1();break e}u=Error(oe(426))}}else if(It&&l.mode&1){var k=vE(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),_E(k,a,l,s,e),B0(uu(u,l));break e}}s=u=uu(u,l),nn!==4&&(nn=2),zc===null?zc=[s]:zc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=sb(s,u,e);cE(s,x);break e;case 1:l=u;var T=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Oo===null||!Oo.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=ob(s,l,e);cE(s,j);break e}}s=s.return}while(s!==null)}Ib(n)}catch(U){e=U,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function Sb(){var t=mp.current;return mp.current=pp,t===null?pp:t}function a1(){(nn===0||nn===3||nn===2)&&(nn=4),pn===null||!(ka&268435455)&&!(pm&268435455)||go(pn,yn)}function _p(t,e){var n=tt;tt|=2;var r=Sb();(pn!==t||yn!==e)&&(vs=null,Ea(t,e));do try{a9();break}catch(i){Tb(t,i)}while(!0);if(z0(),tt=n,mp.current=r,Yt!==null)throw Error(oe(261));return pn=null,yn=0,nn}function a9(){for(;Yt!==null;)Cb(Yt)}function l9(){for(;Yt!==null&&!O6();)Cb(Yt)}function Cb(t){var e=xb(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?Ib(t):Yt=e,n1.current=null}function Ib(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t9(n,e),n!==null){n.flags&=32767,Yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nn=6,Yt=null;return}}else if(n=e9(n,e,wr),n!==null){Yt=n;return}if(e=e.sibling,e!==null){Yt=e;return}Yt=e=t}while(e!==null);nn===0&&(nn=5)}function ha(t,e,n){var r=lt,i=qr.transition;try{qr.transition=null,lt=1,u9(t,e,n,r)}finally{qr.transition=i,lt=r}return null}function u9(t,e,n,r){do Xl();while(Co!==null);if(tt&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(z6(t,s),t===pn&&(Yt=pn=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jh||(Jh=!0,Pb(Jf,function(){return Xl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qr.transition,qr.transition=null;var a=lt;lt=1;var l=tt;tt|=4,n1.current=null,r9(t,n),yb(n,t),A8(j_),tp=!!M_,j_=M_=null,t.current=n,i9(n),N6(),tt=l,lt=a,qr.transition=s}else t.current=n;if(Jh&&(Jh=!1,Co=t,vp=i),s=t.pendingLanes,s===0&&(Oo=null),j6(n.stateNode),ur(t,zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gp)throw gp=!1,t=ry,ry=null,t;return vp&1&&t.tag!==0&&Xl(),s=t.pendingLanes,s&1?t===iy?Hc++:(Hc=0,iy=t):Hc=0,Qo(),null}function Xl(){if(Co!==null){var t=sI(vp),e=qr.transition,n=lt;try{if(qr.transition=null,lt=16>t?16:t,Co===null)var r=!1;else{if(t=Co,Co=null,vp=0,tt&6)throw Error(oe(331));var i=tt;for(tt|=4,pe=t.current;pe!==null;){var s=pe,a=s.child;if(pe.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(pe=d;pe!==null;){var p=pe;switch(p.tag){case 0:case 11:case 15:Uc(8,p,s)}var m=p.child;if(m!==null)m.return=p,pe=m;else for(;pe!==null;){p=pe;var g=p.sibling,_=p.return;if(gb(p),p===d){pe=null;break}if(g!==null){g.return=_,pe=g;break}pe=_}}}var C=s.alternate;if(C!==null){var b=C.child;if(b!==null){C.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pe=a;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,pe=x;break e}pe=s.return}}var T=t.current;for(pe=T;pe!==null;){a=pe;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,pe=P;else e:for(a=T;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fm(9,l)}}catch(U){Dt(l,l.return,U)}if(l===a){pe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,pe=j;break e}pe=l.return}}if(tt=i,Qo(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(sm,t)}catch{}r=!0}return r}finally{lt=n,qr.transition=e}}return!1}function kE(t,e,n){e=uu(n,e),e=sb(t,e,1),t=Lo(t,e,1),e=Un(),t!==null&&(Ld(t,1,e),ur(t,e))}function Dt(t,e,n){if(t.tag===3)kE(t,t,n);else for(;e!==null;){if(e.tag===3){kE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oo===null||!Oo.has(r))){t=uu(n,t),t=ob(e,t,1),e=Lo(e,t,1),t=Un(),e!==null&&(Ld(e,1,t),ur(e,t));break}}e=e.return}}function c9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(yn&n)===n&&(nn===4||nn===3&&(yn&130023424)===yn&&500>zt()-i1?Ea(t,0):r1|=n),ur(t,e)}function bb(t,e){e===0&&(t.mode&1?(e=zh,zh<<=1,!(zh&130023424)&&(zh=4194304)):e=1);var n=Un();t=Rs(t,e),t!==null&&(Ld(t,e,n),ur(t,n))}function d9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bb(t,n)}function h9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),bb(t,n)}var xb;xb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ar.current)or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return or=!1,J8(t,e,n);or=!!(t.flags&131072)}else or=!1,It&&e.flags&1048576&&kI(e,lp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pf(t,e),t=e.pendingProps;var i=su(e,Ln.current);Yl(e,n),i=Y0(null,e,r,t,i,n);var s=X0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lr(r)?(s=!0,op(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,G0(e),i.updater=hm,e.stateNode=i,i._reactInternals=e,G_(e,r,t,n),e=Z_(null,e,r,!0,s,n)):(e.tag=0,It&&s&&V0(e),Bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=p9(r),t=ii(r,t),i){case 0:e=K_(null,e,r,t,n);break e;case 1:e=EE(null,e,r,t,n);break e;case 11:e=yE(null,e,r,t,n);break e;case 14:e=wE(null,e,r,ii(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ii(r,i),K_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ii(r,i),EE(t,e,r,i,n);case 3:e:{if(cb(e),t===null)throw Error(oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jI(t,e),dp(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=uu(Error(oe(423)),e),e=TE(t,e,r,n,i);break e}else if(r!==i){i=uu(Error(oe(424)),e),e=TE(t,e,r,n,i);break e}else for(Sr=ko(e.stateNode.containerInfo.firstChild),xr=e,It=!0,ai=null,n=DI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ou(),r===i){e=ks(t,e,n);break e}Bn(t,e,r,n)}e=e.child}return e;case 5:return FI(e),t===null&&z_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,F_(r,i)?a=null:s!==null&&F_(r,s)&&(e.flags|=32),ub(t,e),Bn(t,e,a,n),e.child;case 6:return t===null&&z_(e),null;case 13:return db(t,e,n);case 4:return q0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=au(e,null,r,n):Bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ii(r,i),yE(t,e,r,i,n);case 7:return Bn(t,e,e.pendingProps,n),e.child;case 8:return Bn(t,e,e.pendingProps.children,n),e.child;case 12:return Bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,mt(up,r._currentValue),r._currentValue=a,s!==null)if(fi(s.value,a)){if(s.children===i.children&&!ar.current){e=ks(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Cs(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),H_(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(oe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),H_(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yl(e,n),i=Zr(i),r=r(i),e.flags|=1,Bn(t,e,r,n),e.child;case 14:return r=e.type,i=ii(r,e.pendingProps),i=ii(r.type,i),wE(t,e,r,i,n);case 15:return ab(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ii(r,i),Pf(t,e),e.tag=1,lr(r)?(t=!0,op(e)):t=!1,Yl(e,n),ib(e,r,i),G_(e,r,i,n),Z_(null,e,r,!0,t,n);case 19:return hb(t,e,n);case 22:return lb(t,e,n)}throw Error(oe(156,e.tag))};function Pb(t,e){return tI(t,e)}function f9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,n,r){return new f9(t,e,n,r)}function l1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p9(t){if(typeof t=="function")return l1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x0)return 11;if(t===P0)return 14}return 2}function Do(t,e){var n=t.alternate;return n===null?(n=Gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kf(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")l1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ll:return Ta(n.children,i,s,e);case b0:a=8,i|=8;break;case g_:return t=Gr(12,n,e,i|2),t.elementType=g_,t.lanes=s,t;case v_:return t=Gr(13,n,e,i),t.elementType=v_,t.lanes=s,t;case __:return t=Gr(19,n,e,i),t.elementType=__,t.lanes=s,t;case FC:return mm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MC:a=10;break e;case jC:a=9;break e;case x0:a=11;break e;case P0:a=14;break e;case ho:a=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Gr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ta(t,e,n,r){return t=Gr(7,t,r,e),t.lanes=n,t}function mm(t,e,n,r){return t=Gr(22,t,r,e),t.elementType=FC,t.lanes=n,t.stateNode={isHidden:!1},t}function av(t,e,n){return t=Gr(6,t,null,e),t.lanes=n,t}function lv(t,e,n){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function m9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ug(0),this.expirationTimes=Ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ug(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function u1(t,e,n,r,i,s,a,l,u){return t=new m9(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},G0(s),t}function g9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ab(t){if(!t)return Uo;t=t._reactInternals;e:{if(za(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(lr(n))return AI(t,n,e)}return e}function Rb(t,e,n,r,i,s,a,l,u){return t=u1(n,r,!0,t,i,s,a,l,u),t.context=Ab(null),n=t.current,r=Un(),i=No(n),s=Cs(r,i),s.callback=e??null,Lo(n,s,i),t.current.lanes=i,Ld(t,i,r),ur(t,r),t}function gm(t,e,n,r){var i=e.current,s=Un(),a=No(i);return n=Ab(n),e.context===null?e.context=n:e.pendingContext=n,e=Cs(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lo(i,e,a),t!==null&&(hi(t,i,a,s),If(t,i,a)),a}function yp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function c1(t,e){LE(t,e),(t=t.alternate)&&LE(t,e)}function v9(){return null}var kb=typeof reportError=="function"?reportError:function(t){console.error(t)};function d1(t){this._internalRoot=t}vm.prototype.render=d1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));gm(t,e,null,null)};vm.prototype.unmount=d1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;La(function(){gm(null,t,null,null)}),e[As]=null}};function vm(t){this._internalRoot=t}vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=lI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mo.length&&e!==0&&e<mo[n].priority;n++);mo.splice(n,0,t),n===0&&cI(t)}};function h1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OE(){}function _9(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=yp(a);s.call(d)}}var a=Rb(e,r,t,0,null,!1,!1,"",OE);return t._reactRootContainer=a,t[As]=a.current,ud(t.nodeType===8?t.parentNode:t),La(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=yp(u);l.call(d)}}var u=u1(t,0,!1,null,null,!1,!1,"",OE);return t._reactRootContainer=u,t[As]=u.current,ud(t.nodeType===8?t.parentNode:t),La(function(){gm(e,u,n,r)}),u}function ym(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var u=yp(a);l.call(u)}}gm(e,a,t,i)}else a=_9(n,e,t,i,r);return yp(a)}oI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bc(e.pendingLanes);n!==0&&(k0(e,n|1),ur(e,zt()),!(tt&6)&&(cu=zt()+500,Qo()))}break;case 13:La(function(){var r=Rs(t,1);if(r!==null){var i=Un();hi(r,t,1,i)}}),c1(t,1)}};L0=function(t){if(t.tag===13){var e=Rs(t,134217728);if(e!==null){var n=Un();hi(e,t,134217728,n)}c1(t,134217728)}};aI=function(t){if(t.tag===13){var e=No(t),n=Rs(t,e);if(n!==null){var r=Un();hi(n,t,e,r)}c1(t,e)}};lI=function(){return lt};uI=function(t,e){var n=lt;try{return lt=t,e()}finally{lt=n}};P_=function(t,e,n){switch(e){case"input":if(E_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=um(r);if(!i)throw Error(oe(90));$C(r),E_(r,i)}}}break;case"textarea":UC(t,n);break;case"select":e=n.value,e!=null&&ql(t,!!n.multiple,e,!1)}};ZC=s1;QC=La;var y9={usingClientEntryPoint:!1,Events:[Nd,Ml,um,qC,KC,s1]},dc={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w9={bundleType:dc.bundleType,version:dc.version,rendererPackageName:dc.rendererPackageName,rendererConfig:dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JC(t),t===null?null:t.stateNode},findFiberByHostInstance:dc.findFiberByHostInstance||v9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{sm=ef.inject(w9),Vi=ef}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y9;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h1(e))throw Error(oe(200));return g9(t,e,null,n)};Rr.createRoot=function(t,e){if(!h1(t))throw Error(oe(299));var n=!1,r="",i=kb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=u1(t,1,!1,null,null,n,!1,r,i),t[As]=e.current,ud(t.nodeType===8?t.parentNode:t),new d1(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=JC(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return La(t)};Rr.hydrate=function(t,e,n){if(!_m(e))throw Error(oe(200));return ym(null,t,e,!0,n)};Rr.hydrateRoot=function(t,e,n){if(!h1(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=kb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Rb(e,null,t,1,n??null,i,!1,s,a),t[As]=e.current,ud(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vm(e)};Rr.render=function(t,e,n){if(!_m(e))throw Error(oe(200));return ym(null,t,e,!1,n)};Rr.unmountComponentAtNode=function(t){if(!_m(t))throw Error(oe(40));return t._reactRootContainer?(La(function(){ym(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};Rr.unstable_batchedUpdates=s1;Rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_m(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return ym(t,e,n,!1,r)};Rr.version="18.3.1-next-f1338f8080-20240426";function Lb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lb)}catch(t){console.error(t)}}Lb(),LC.exports=Rr;var wm=LC.exports;const Ob=Ht(wm),E9=wC({__proto__:null,default:Ob},[wm]);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pt(){return Pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pt.apply(this,arguments)}var Qt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qt||(Qt={}));const NE="popstate";function T9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return _d("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Md(i)}return C9(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function du(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S9(){return Math.random().toString(36).substr(2,8)}function DE(t,e){return{usr:t.state,key:t.key,idx:e}}function _d(t,e,n,r){return n===void 0&&(n=null),Pt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:n,key:e&&e.key||r||S9()})}function Md(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function C9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Qt.Pop,u=null,d=p();d==null&&(d=0,a.replaceState(Pt({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){l=Qt.Pop;let k=p(),x=k==null?null:k-d;d=k,u&&u({action:l,location:b.location,delta:x})}function g(k,x){l=Qt.Push;let T=_d(b.location,k,x);d=p()+1;let P=DE(T,d),j=b.createHref(T);try{a.pushState(P,"",j)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(j)}s&&u&&u({action:l,location:b.location,delta:1})}function _(k,x){l=Qt.Replace;let T=_d(b.location,k,x);d=p();let P=DE(T,d),j=b.createHref(T);a.replaceState(P,"",j),s&&u&&u({action:l,location:b.location,delta:0})}function C(k){let x=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof k=="string"?k:Md(k);return T=T.replace(/ $/,"%20"),Ke(x,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,x)}let b={get action(){return l},get location(){return t(i,a)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(NE,m),u=k,()=>{i.removeEventListener(NE,m),u=null}},createHref(k){return e(i,k)},createURL:C,encodeLocation(k){let x=C(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:_,go(k){return a.go(k)}};return b}var ft;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ft||(ft={}));const I9=new Set(["lazy","caseSensitive","path","id","index","children"]);function b9(t){return t.index===!0}function yd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let a=[...n,String(s)],l=typeof i.id=="string"?i.id:a.join("-");if(Ke(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ke(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),b9(i)){let u=Pt({},i,e(i),{id:l});return r[l]=u,u}else{let u=Pt({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=yd(i.children,e,a,r)),u}})}function pa(t,e,n){return n===void 0&&(n="/"),Lf(t,e,n,!1)}function Lf(t,e,n,r){let i=typeof e=="string"?Yo(e):e,s=jd(i.pathname||"/",n);if(s==null)return null;let a=Nb(t);P9(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=V9(s);l=j9(a[u],d,r)}return l}function x9(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Nb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Ke(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Mo([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Nb(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:D9(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of Db(s.path))i(s,a,u)}),e}function Db(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Db(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function P9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:M9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A9=/^:[\w-]+$/,R9=3,k9=2,L9=1,O9=10,N9=-2,ME=t=>t==="*";function D9(t,e){let n=t.split("/"),r=n.length;return n.some(ME)&&(r+=N9),e&&(r+=k9),n.filter(i=>!ME(i)).reduce((i,s)=>i+(A9.test(s)?R9:s===""?L9:O9),r)}function M9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function j9(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=jE({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),g=u.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=jE({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Mo([s,m.pathname]),pathnameBase:U9(Mo([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Mo([s,m.pathnameBase]))}return a}function jE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,p,m)=>{let{paramName:g,isOptional:_}=p;if(g==="*"){let b=l[m]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const C=l[m];return _&&!C?d[g]=void 0:d[g]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function F9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),du(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function V9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return du(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:B9(n,e):e,search:z9(r),hash:H9(i)}}function B9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jb(t,e){let n=Mb(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Yo(t):(i=Pt({},t),Ke(!i.pathname||!i.pathname.includes("?"),uv("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),uv("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),uv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=$9(i,l),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Mo=t=>t.join("/").replace(/\/\/+/g,"/"),U9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class wp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Em(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vb=["post","put","patch","delete"],W9=new Set(Vb),G9=["get",...Vb],q9=new Set(G9),K9=new Set([301,302,303,307,308]),Z9=new Set([307,308]),cv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Q9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y9=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),$b="remix-router-transitions";function X9(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ke(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let $=t.detectErrorBoundary;i=W=>({hasErrorBoundary:$(W)})}else i=Y9;let s={},a=yd(t.routes,i,void 0,s),l,u=t.basename||"/",d=t.unstable_dataStrategy||i7,p=t.unstable_patchRoutesOnNavigation,m=Pt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,_=new Set,C=1e3,b=new Set,k=null,x=null,T=null,P=t.hydrationData!=null,j=pa(a,t.history.location,u),U=null;if(j==null&&!p){let $=$n(404,{pathname:t.history.location.pathname}),{matches:W,route:Z}=GE(a);j=W,U={[Z.id]:$}}j&&!t.hydrationData&&Ot(j,a,t.history.location.pathname).active&&(j=null);let H;if(j)if(j.some($=>$.route.lazy))H=!1;else if(!j.some($=>$.route.loader))H=!0;else if(m.v7_partialHydration){let $=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null,Z=ee=>ee.route.loader?typeof ee.route.loader=="function"&&ee.route.loader.hydrate===!0?!1:$&&$[ee.route.id]!==void 0||W&&W[ee.route.id]!==void 0:!0;if(W){let ee=j.findIndex(ce=>W[ce.route.id]!==void 0);H=j.slice(0,ee+1).every(Z)}else H=j.every(Z)}else H=t.hydrationData!=null;else if(H=!1,j=[],m.v7_partialHydration){let $=Ot(null,a,t.history.location.pathname);$.active&&$.matches&&(j=$.matches)}let N,S={historyAction:t.history.action,location:t.history.location,matches:j,initialized:H,navigation:cv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||U,fetchers:new Map,blockers:new Map},A=Qt.Pop,R=!1,V,B=!1,D=new Map,re=null,fe=!1,Ce=!1,Be=[],K=new Set,ie=new Map,J=0,we=-1,ge=new Map,be=new Set,je=new Map,Ae=new Map,Se=new Set,nt=new Map,en=new Map,yi=new Map,Nn;function Dr(){if(g=t.history.listen($=>{let{action:W,location:Z,delta:ee}=$;if(Nn){Nn(),Nn=void 0;return}du(en.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=ts({currentLocation:S.location,nextLocation:Z,historyAction:W});if(ce&&ee!=null){let Ee=new Promise(xe=>{Nn=xe});t.history.go(ee*-1),mr(ce,{state:"blocked",location:Z,proceed(){mr(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),Ee.then(()=>t.history.go(ee))},reset(){let xe=new Map(S.blockers);xe.set(ce,hc),Vt({blockers:xe})}});return}return Zn(W,Z)}),n){y7(e,D);let $=()=>w7(e,D);e.addEventListener("pagehide",$),re=()=>e.removeEventListener("pagehide",$)}return S.initialized||Zn(Qt.Pop,S.location,{initialHydration:!0}),N}function Jr(){g&&g(),re&&re(),_.clear(),V&&V.abort(),S.fetchers.forEach(($,W)=>Ti(W)),S.blockers.forEach(($,W)=>Qs(W))}function Ji($){return _.add($),()=>_.delete($)}function Vt($,W){W===void 0&&(W={}),S=Pt({},S,$);let Z=[],ee=[];m.v7_fetcherPersist&&S.fetchers.forEach((ce,Ee)=>{ce.state==="idle"&&(Se.has(Ee)?ee.push(Ee):Z.push(Ee))}),[..._].forEach(ce=>ce(S,{deletedFetchers:ee,unstable_viewTransitionOpts:W.viewTransitionOpts,unstable_flushSync:W.flushSync===!0})),m.v7_fetcherPersist&&(Z.forEach(ce=>S.fetchers.delete(ce)),ee.forEach(ce=>Ti(ce)))}function pr($,W,Z){var ee,ce;let{flushSync:Ee}=Z===void 0?{}:Z,xe=S.actionData!=null&&S.navigation.formMethod!=null&&oi(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ee=$.state)==null?void 0:ee._isRedirect)!==!0,ae;W.actionData?Object.keys(W.actionData).length>0?ae=W.actionData:ae=null:xe?ae=S.actionData:ae=null;let _e=W.loaderData?HE(S.loaderData,W.loaderData,W.matches||[],W.errors):S.loaderData,ve=S.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((Ye,st)=>ve.set(st,hc)));let ye=R===!0||S.navigation.formMethod!=null&&oi(S.navigation.formMethod)&&((ce=$.state)==null?void 0:ce._isRedirect)!==!0;l&&(a=l,l=void 0),fe||A===Qt.Pop||(A===Qt.Push?t.history.push($,$.state):A===Qt.Replace&&t.history.replace($,$.state));let We;if(A===Qt.Pop){let Ye=D.get(S.location.pathname);Ye&&Ye.has($.pathname)?We={currentLocation:S.location,nextLocation:$}:D.has($.pathname)&&(We={currentLocation:$,nextLocation:S.location})}else if(B){let Ye=D.get(S.location.pathname);Ye?Ye.add($.pathname):(Ye=new Set([$.pathname]),D.set(S.location.pathname,Ye)),We={currentLocation:S.location,nextLocation:$}}Vt(Pt({},W,{actionData:ae,loaderData:_e,historyAction:A,location:$,initialized:!0,navigation:cv,revalidation:"idle",restoreScrollPosition:is($,W.matches||S.matches),preventScrollReset:ye,blockers:ve}),{viewTransitionOpts:We,flushSync:Ee===!0}),A=Qt.Pop,R=!1,B=!1,fe=!1,Ce=!1,Be=[]}async function Hs($,W){if(typeof $=="number"){t.history.go($);return}let Z=ay(S.location,S.matches,u,m.v7_prependBasename,$,m.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ee,submission:ce,error:Ee}=FE(m.v7_normalizeFormMethod,!1,Z,W),xe=S.location,ae=_d(S.location,ee,W&&W.state);ae=Pt({},ae,t.history.encodeLocation(ae));let _e=W&&W.replace!=null?W.replace:void 0,ve=Qt.Push;_e===!0?ve=Qt.Replace:_e===!1||ce!=null&&oi(ce.formMethod)&&ce.formAction===S.location.pathname+S.location.search&&(ve=Qt.Replace);let ye=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,We=(W&&W.unstable_flushSync)===!0,Ye=ts({currentLocation:xe,nextLocation:ae,historyAction:ve});if(Ye){mr(Ye,{state:"blocked",location:ae,proceed(){mr(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Hs($,W)},reset(){let st=new Map(S.blockers);st.set(Ye,hc),Vt({blockers:st})}});return}return await Zn(ve,ae,{submission:ce,pendingError:Ee,preventScrollReset:ye,replace:W&&W.replace,enableViewTransition:W&&W.unstable_viewTransition,flushSync:We})}function sa(){if(qs(),Vt({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Zn(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Zn(A||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:B===!0})}}async function Zn($,W,Z){V&&V.abort(),V=null,A=$,fe=(Z&&Z.startUninterruptedRevalidation)===!0,rs(S.location,S.matches),R=(Z&&Z.preventScrollReset)===!0,B=(Z&&Z.enableViewTransition)===!0;let ee=l||a,ce=Z&&Z.overrideNavigation,Ee=pa(ee,W,u),xe=(Z&&Z.flushSync)===!0,ae=Ot(Ee,ee,W.pathname);if(ae.active&&ae.matches&&(Ee=ae.matches),!Ee){let{error:ze,notFoundMatches:gt,route:pt}=ns(W.pathname);pr(W,{matches:gt,loaderData:{},errors:{[pt.id]:ze}},{flushSync:xe});return}if(S.initialized&&!Ce&&c7(S.location,W)&&!(Z&&Z.submission&&oi(Z.submission.formMethod))){pr(W,{matches:Ee},{flushSync:xe});return}V=new AbortController;let _e=Sl(t.history,W,V.signal,Z&&Z.submission),ve;if(Z&&Z.pendingError)ve=[zl(Ee).route.id,{type:ft.error,error:Z.pendingError}];else if(Z&&Z.submission&&oi(Z.submission.formMethod)){let ze=await el(_e,W,Z.submission,Ee,ae.active,{replace:Z.replace,flushSync:xe});if(ze.shortCircuited)return;if(ze.pendingActionResult){let[gt,pt]=ze.pendingActionResult;if(Er(pt)&&Em(pt.error)&&pt.error.status===404){V=null,pr(W,{matches:ze.matches,loaderData:{},errors:{[gt]:pt.error}});return}}Ee=ze.matches||Ee,ve=ze.pendingActionResult,ce=dv(W,Z.submission),xe=!1,ae.active=!1,_e=Sl(t.history,_e.url,_e.signal)}let{shortCircuited:ye,matches:We,loaderData:Ye,errors:st}=await Ws(_e,W,Ee,ae.active,ce,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,xe,ve);ye||(V=null,pr(W,Pt({matches:We||Ee},WE(ve),{loaderData:Ye,errors:st})))}async function el($,W,Z,ee,ce,Ee){Ee===void 0&&(Ee={}),qs();let xe=v7(W,Z);if(Vt({navigation:xe},{flushSync:Ee.flushSync===!0}),ce){let ve=await ss(ee,W.pathname,$.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let{boundaryId:ye,error:We}=Xn(W.pathname,ve);return{matches:ve.partialMatches,pendingActionResult:[ye,{type:ft.error,error:We}]}}else if(ve.matches)ee=ve.matches;else{let{notFoundMatches:ye,error:We,route:Ye}=ns(W.pathname);return{matches:ye,pendingActionResult:[Ye.id,{type:ft.error,error:We}]}}}let ae,_e=Pc(ee,W);if(!_e.route.action&&!_e.route.lazy)ae={type:ft.error,error:$n(405,{method:$.method,pathname:W.pathname,routeId:_e.route.id})};else if(ae=(await Tt("action",S,$,[_e],ee,null))[_e.route.id],$.signal.aborted)return{shortCircuited:!0};if(_a(ae)){let ve;return Ee&&Ee.replace!=null?ve=Ee.replace:ve=BE(ae.response.headers.get("Location"),new URL($.url),u)===S.location.pathname+S.location.search,await ct($,ae,!0,{submission:Z,replace:ve}),{shortCircuited:!0}}if(Io(ae))throw $n(400,{type:"defer-action"});if(Er(ae)){let ve=zl(ee,_e.route.id);return(Ee&&Ee.replace)!==!0&&(A=Qt.Push),{matches:ee,pendingActionResult:[ve.route.id,ae]}}return{matches:ee,pendingActionResult:[_e.route.id,ae]}}async function Ws($,W,Z,ee,ce,Ee,xe,ae,_e,ve,ye){let We=ce||dv(W,Ee),Ye=Ee||xe||KE(We),st=!fe&&(!m.v7_partialHydration||!_e);if(ee){if(st){let Re=es(ye);Vt(Pt({navigation:We},Re!==void 0?{actionData:Re}:{}),{flushSync:ve})}let ue=await ss(Z,W.pathname,$.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let{boundaryId:Re,error:$t}=Xn(W.pathname,ue);return{matches:ue.partialMatches,loaderData:{},errors:{[Re]:$t}}}else if(ue.matches)Z=ue.matches;else{let{error:Re,notFoundMatches:$t,route:rt}=ns(W.pathname);return{matches:$t,loaderData:{},errors:{[rt.id]:Re}}}}let ze=l||a,[gt,pt]=VE(t.history,S,Z,Ye,W,m.v7_partialHydration&&_e===!0,m.v7_skipActionErrorRevalidation,Ce,Be,K,Se,je,be,ze,u,ye);if(Ys(ue=>!(Z&&Z.some(Re=>Re.route.id===ue))||gt&&gt.some(Re=>Re.route.id===ue)),we=++J,gt.length===0&&pt.length===0){let ue=Si();return pr(W,Pt({matches:Z,loaderData:{},errors:ye&&Er(ye[1])?{[ye[0]]:ye[1].error}:null},WE(ye),ue?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ve}),{shortCircuited:!0}}if(st){let ue={};if(!ee){ue.navigation=We;let Re=es(ye);Re!==void 0&&(ue.actionData=Re)}pt.length>0&&(ue.fetchers=tl(pt)),Vt(ue,{flushSync:ve})}pt.forEach(ue=>{ie.has(ue.key)&&Dn(ue.key),ue.controller&&ie.set(ue.key,ue.controller)});let Ii=()=>pt.forEach(ue=>Dn(ue.key));V&&V.signal.addEventListener("abort",Ii);let{loaderResults:Mn,fetcherResults:er}=await wi(S,Z,gt,pt,$);if($.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",Ii),pt.forEach(ue=>ie.delete(ue.key));let on=tf(Mn);if(on)return await ct($,on.result,!0,{replace:ae}),{shortCircuited:!0};if(on=tf(er),on)return be.add(on.key),await ct($,on.result,!0,{replace:ae}),{shortCircuited:!0};let{loaderData:Mr,errors:mn}=zE(S,Z,gt,Mn,ye,pt,er,nt);nt.forEach((ue,Re)=>{ue.subscribe($t=>{($t||ue.done)&&nt.delete(Re)})}),m.v7_partialHydration&&_e&&S.errors&&Object.entries(S.errors).filter(ue=>{let[Re]=ue;return!gt.some($t=>$t.route.id===Re)}).forEach(ue=>{let[Re,$t]=ue;mn=Object.assign(mn||{},{[Re]:$t})});let bi=Si(),xi=Zs(we),gr=bi||xi||pt.length>0;return Pt({matches:Z,loaderData:Mr,errors:mn},gr?{fetchers:new Map(S.fetchers)}:{})}function es($){if($&&!Er($[1]))return{[$[0]]:$[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function tl($){return $.forEach(W=>{let Z=S.fetchers.get(W.key),ee=fc(void 0,Z?Z.data:void 0);S.fetchers.set(W.key,ee)}),new Map(S.fetchers)}function Gs($,W,Z,ee){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ie.has($)&&Dn($);let ce=(ee&&ee.unstable_flushSync)===!0,Ee=l||a,xe=ay(S.location,S.matches,u,m.v7_prependBasename,Z,m.v7_relativeSplatPath,W,ee==null?void 0:ee.relative),ae=pa(Ee,xe,u),_e=Ot(ae,Ee,xe);if(_e.active&&_e.matches&&(ae=_e.matches),!ae){Yn($,W,$n(404,{pathname:xe}),{flushSync:ce});return}let{path:ve,submission:ye,error:We}=FE(m.v7_normalizeFormMethod,!0,xe,ee);if(We){Yn($,W,We,{flushSync:ce});return}let Ye=Pc(ae,ve);if(R=(ee&&ee.preventScrollReset)===!0,ye&&oi(ye.formMethod)){oa($,W,ve,Ye,ae,_e.active,ce,ye);return}je.set($,{routeId:W,path:ve}),nl($,W,ve,Ye,ae,_e.active,ce,ye)}async function oa($,W,Z,ee,ce,Ee,xe,ae){qs(),je.delete($);function _e(rt){if(!rt.route.action&&!rt.route.lazy){let an=$n(405,{method:ae.formMethod,pathname:Z,routeId:W});return Yn($,W,an,{flushSync:xe}),!0}return!1}if(!Ee&&_e(ee))return;let ve=S.fetchers.get($);Qn($,_7(ae,ve),{flushSync:xe});let ye=new AbortController,We=Sl(t.history,Z,ye.signal,ae);if(Ee){let rt=await ss(ce,Z,We.signal);if(rt.type==="aborted")return;if(rt.type==="error"){let{error:an}=Xn(Z,rt);Yn($,W,an,{flushSync:xe});return}else if(rt.matches){if(ce=rt.matches,ee=Pc(ce,Z),_e(ee))return}else{Yn($,W,$n(404,{pathname:Z}),{flushSync:xe});return}}ie.set($,ye);let Ye=J,ze=(await Tt("action",S,We,[ee],ce,$))[ee.route.id];if(We.signal.aborted){ie.get($)===ye&&ie.delete($);return}if(m.v7_fetcherPersist&&Se.has($)){if(_a(ze)||Er(ze)){Qn($,co(void 0));return}}else{if(_a(ze))if(ie.delete($),we>Ye){Qn($,co(void 0));return}else return be.add($),Qn($,fc(ae)),ct(We,ze,!1,{fetcherSubmission:ae});if(Er(ze)){Yn($,W,ze.error);return}}if(Io(ze))throw $n(400,{type:"defer-action"});let gt=S.navigation.location||S.location,pt=Sl(t.history,gt,ye.signal),Ii=l||a,Mn=S.navigation.state!=="idle"?pa(Ii,S.navigation.location,u):S.matches;Ke(Mn,"Didn't find any matches after fetcher action");let er=++J;ge.set($,er);let on=fc(ae,ze.data);S.fetchers.set($,on);let[Mr,mn]=VE(t.history,S,Mn,ae,gt,!1,m.v7_skipActionErrorRevalidation,Ce,Be,K,Se,je,be,Ii,u,[ee.route.id,ze]);mn.filter(rt=>rt.key!==$).forEach(rt=>{let an=rt.key,Js=S.fetchers.get(an),Fe=fc(void 0,Js?Js.data:void 0);S.fetchers.set(an,Fe),ie.has(an)&&Dn(an),rt.controller&&ie.set(an,rt.controller)}),Vt({fetchers:new Map(S.fetchers)});let bi=()=>mn.forEach(rt=>Dn(rt.key));ye.signal.addEventListener("abort",bi);let{loaderResults:xi,fetcherResults:gr}=await wi(S,Mn,Mr,mn,pt);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",bi),ge.delete($),ie.delete($),mn.forEach(rt=>ie.delete(rt.key));let ue=tf(xi);if(ue)return ct(pt,ue.result,!1);if(ue=tf(gr),ue)return be.add(ue.key),ct(pt,ue.result,!1);let{loaderData:Re,errors:$t}=zE(S,Mn,Mr,xi,void 0,mn,gr,nt);if(S.fetchers.has($)){let rt=co(ze.data);S.fetchers.set($,rt)}Zs(er),S.navigation.state==="loading"&&er>we?(Ke(A,"Expected pending action"),V&&V.abort(),pr(S.navigation.location,{matches:Mn,loaderData:Re,errors:$t,fetchers:new Map(S.fetchers)})):(Vt({errors:$t,loaderData:HE(S.loaderData,Re,Mn,$t),fetchers:new Map(S.fetchers)}),Ce=!1)}async function nl($,W,Z,ee,ce,Ee,xe,ae){let _e=S.fetchers.get($);Qn($,fc(ae,_e?_e.data:void 0),{flushSync:xe});let ve=new AbortController,ye=Sl(t.history,Z,ve.signal);if(Ee){let ze=await ss(ce,Z,ye.signal);if(ze.type==="aborted")return;if(ze.type==="error"){let{error:gt}=Xn(Z,ze);Yn($,W,gt,{flushSync:xe});return}else if(ze.matches)ce=ze.matches,ee=Pc(ce,Z);else{Yn($,W,$n(404,{pathname:Z}),{flushSync:xe});return}}ie.set($,ve);let We=J,st=(await Tt("loader",S,ye,[ee],ce,$))[ee.route.id];if(Io(st)&&(st=await p1(st,ye.signal,!0)||st),ie.get($)===ve&&ie.delete($),!ye.signal.aborted){if(Se.has($)){Qn($,co(void 0));return}if(_a(st))if(we>We){Qn($,co(void 0));return}else{be.add($),await ct(ye,st,!1);return}if(Er(st)){Yn($,W,st.error);return}Ke(!Io(st),"Unhandled fetcher deferred data"),Qn($,co(st.data))}}async function ct($,W,Z,ee){let{submission:ce,fetcherSubmission:Ee,replace:xe}=ee===void 0?{}:ee;W.response.headers.has("X-Remix-Revalidate")&&(Ce=!0);let ae=W.response.headers.get("Location");Ke(ae,"Expected a Location header on the redirect Response"),ae=BE(ae,new URL($.url),u);let _e=_d(S.location,ae,{_isRedirect:!0});if(n){let ze=!1;if(W.response.headers.has("X-Remix-Reload-Document"))ze=!0;else if(f1.test(ae)){const gt=t.history.createURL(ae);ze=gt.origin!==e.location.origin||jd(gt.pathname,u)==null}if(ze){xe?e.location.replace(ae):e.location.assign(ae);return}}V=null;let ve=xe===!0||W.response.headers.has("X-Remix-Replace")?Qt.Replace:Qt.Push,{formMethod:ye,formAction:We,formEncType:Ye}=S.navigation;!ce&&!Ee&&ye&&We&&Ye&&(ce=KE(S.navigation));let st=ce||Ee;if(Z9.has(W.response.status)&&st&&oi(st.formMethod))await Zn(ve,_e,{submission:Pt({},st,{formAction:ae}),preventScrollReset:R,enableViewTransition:Z?B:void 0});else{let ze=dv(_e,ce);await Zn(ve,_e,{overrideNavigation:ze,fetcherSubmission:Ee,preventScrollReset:R,enableViewTransition:Z?B:void 0})}}async function Tt($,W,Z,ee,ce,Ee){let xe,ae={};try{xe=await s7(d,$,W,Z,ee,ce,Ee,s,i)}catch(_e){return ee.forEach(ve=>{ae[ve.route.id]={type:ft.error,error:_e}}),ae}for(let[_e,ve]of Object.entries(xe))if(h7(ve)){let ye=ve.result;ae[_e]={type:ft.redirect,response:l7(ye,Z,_e,ce,u,m.v7_relativeSplatPath)}}else ae[_e]=await a7(ve);return ae}async function wi($,W,Z,ee,ce){let Ee=$.matches,xe=Tt("loader",$,ce,Z,W,null),ae=Promise.all(ee.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Ye=(await Tt("loader",$,Sl(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:Ye}}else return Promise.resolve({[ye.key]:{type:ft.error,error:$n(404,{pathname:ye.path})}})})),_e=await xe,ve=(await ae).reduce((ye,We)=>Object.assign(ye,We),{});return await Promise.all([m7(W,_e,ce.signal,Ee,$.loaderData),g7(W,ve,ee)]),{loaderResults:_e,fetcherResults:ve}}function qs(){Ce=!0,Be.push(...Ys()),je.forEach(($,W)=>{ie.has(W)&&(K.add(W),Dn(W))})}function Qn($,W,Z){Z===void 0&&(Z={}),S.fetchers.set($,W),Vt({fetchers:new Map(S.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Yn($,W,Z,ee){ee===void 0&&(ee={});let ce=zl(S.matches,W);Ti($),Vt({errors:{[ce.route.id]:Z},fetchers:new Map(S.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Ei($){return m.v7_fetcherPersist&&(Ae.set($,(Ae.get($)||0)+1),Se.has($)&&Se.delete($)),S.fetchers.get($)||Q9}function Ti($){let W=S.fetchers.get($);ie.has($)&&!(W&&W.state==="loading"&&ge.has($))&&Dn($),je.delete($),ge.delete($),be.delete($),Se.delete($),K.delete($),S.fetchers.delete($)}function Ks($){if(m.v7_fetcherPersist){let W=(Ae.get($)||0)-1;W<=0?(Ae.delete($),Se.add($)):Ae.set($,W)}else Ti($);Vt({fetchers:new Map(S.fetchers)})}function Dn($){let W=ie.get($);Ke(W,"Expected fetch controller: "+$),W.abort(),ie.delete($)}function rl($){for(let W of $){let Z=Ei(W),ee=co(Z.data);S.fetchers.set(W,ee)}}function Si(){let $=[],W=!1;for(let Z of be){let ee=S.fetchers.get(Z);Ke(ee,"Expected fetcher: "+Z),ee.state==="loading"&&(be.delete(Z),$.push(Z),W=!0)}return rl($),W}function Zs($){let W=[];for(let[Z,ee]of ge)if(ee<$){let ce=S.fetchers.get(Z);Ke(ce,"Expected fetcher: "+Z),ce.state==="loading"&&(Dn(Z),ge.delete(Z),W.push(Z))}return rl(W),W.length>0}function il($,W){let Z=S.blockers.get($)||hc;return en.get($)!==W&&en.set($,W),Z}function Qs($){S.blockers.delete($),en.delete($)}function mr($,W){let Z=S.blockers.get($)||hc;Ke(Z.state==="unblocked"&&W.state==="blocked"||Z.state==="blocked"&&W.state==="blocked"||Z.state==="blocked"&&W.state==="proceeding"||Z.state==="blocked"&&W.state==="unblocked"||Z.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+W.state);let ee=new Map(S.blockers);ee.set($,W),Vt({blockers:ee})}function ts($){let{currentLocation:W,nextLocation:Z,historyAction:ee}=$;if(en.size===0)return;en.size>1&&du(!1,"A router only supports one blocker at a time");let ce=Array.from(en.entries()),[Ee,xe]=ce[ce.length-1],ae=S.blockers.get(Ee);if(!(ae&&ae.state==="proceeding")&&xe({currentLocation:W,nextLocation:Z,historyAction:ee}))return Ee}function ns($){let W=$n(404,{pathname:$}),Z=l||a,{matches:ee,route:ce}=GE(Z);return Ys(),{notFoundMatches:ee,route:ce,error:W}}function Xn($,W){return{boundaryId:zl(W.partialMatches).route.id,error:$n(400,{type:"route-discovery",pathname:$,message:W.error!=null&&"message"in W.error?W.error:String(W.error)})}}function Ys($){let W=[];return nt.forEach((Z,ee)=>{(!$||$(ee))&&(Z.cancel(),W.push(ee),nt.delete(ee))}),W}function Xs($,W,Z){if(k=$,T=W,x=Z||null,!P&&S.navigation===cv){P=!0;let ee=is(S.location,S.matches);ee!=null&&Vt({restoreScrollPosition:ee})}return()=>{k=null,T=null,x=null}}function aa($,W){return x&&x($,W.map(ee=>x9(ee,S.loaderData)))||$.key}function rs($,W){if(k&&T){let Z=aa($,W);k[Z]=T()}}function is($,W){if(k){let Z=aa($,W),ee=k[Z];if(typeof ee=="number")return ee}return null}function Ot($,W,Z){if(p){if(b.has(Z))return{active:!1,matches:$};if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:Lf(W,Z,u,!0)}}else return{active:!0,matches:Lf(W,Z,u,!0)||[]}}return{active:!1,matches:null}}async function ss($,W,Z){let ee=$;for(;;){let ce=l==null,Ee=l||a;try{await n7(p,W,ee,Ee,s,i,yi,Z)}catch(_e){return{type:"error",error:_e,partialMatches:ee}}finally{ce&&(a=[...a])}if(Z.aborted)return{type:"aborted"};let xe=pa(Ee,W,u);if(xe)return Ci(W,b),{type:"success",matches:xe};let ae=Lf(Ee,W,u,!0);if(!ae||ee.length===ae.length&&ee.every((_e,ve)=>_e.route.id===ae[ve].route.id))return Ci(W,b),{type:"success",matches:null};ee=ae}}function Ci($,W){if(W.size>=C){let Z=W.values().next().value;W.delete(Z)}W.add($)}function os($){s={},l=yd($,i,void 0,s)}function Jn($,W){let Z=l==null;Ub($,W,l||a,s,i),Z&&(a=[...a],Vt({}))}return N={get basename(){return u},get future(){return m},get state(){return S},get routes(){return a},get window(){return e},initialize:Dr,subscribe:Ji,enableScrollRestoration:Xs,navigate:Hs,fetch:Gs,revalidate:sa,createHref:$=>t.history.createHref($),encodeLocation:$=>t.history.encodeLocation($),getFetcher:Ei,deleteFetcher:Ks,dispose:Jr,getBlocker:il,deleteBlocker:Qs,patchRoutes:Jn,_internalFetchControllers:ie,_internalActiveDeferreds:nt,_internalSetRoutes:os},N}function J9(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ay(t,e,n,r,i,s,a,l){let u,d;if(a){u=[];for(let m of e)if(u.push(m),m.route.id===a){d=m;break}}else u=e,d=e[e.length-1];let p=Fb(i||".",jb(u,s),jd(t.pathname,n)||t.pathname,l==="path");return i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!m1(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Mo([n,p.pathname])),Md(p)}function FE(t,e,n,r){if(!r||!J9(r))return{path:n};if(r.formMethod&&!p7(r.formMethod))return{path:n,error:$n(405,{method:r.formMethod})};let i=()=>({path:n,error:$n(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),l=zb(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!oi(a))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,C)=>{let[b,k]=C;return""+_+b+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!oi(a))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=ly(r.formData),d=r.formData;else if(r.body instanceof FormData)u=ly(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=UE(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=UE(u)}catch{return i()}let p={formMethod:a,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(oi(p.formMethod))return{path:n,submission:p};let m=Yo(n);return e&&m.search&&m1(m.search)&&u.append("index",""),m.search="?"+u,{path:Md(m),submission:p}}function e7(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function VE(t,e,n,r,i,s,a,l,u,d,p,m,g,_,C,b){let k=b?Er(b[1])?b[1].error:b[1].data:void 0,x=t.createURL(e.location),T=t.createURL(i),P=b&&Er(b[1])?b[0]:void 0,j=P?e7(n,P):n,U=b?b[1].statusCode:void 0,H=a&&U&&U>=400,N=j.filter((A,R)=>{let{route:V}=A;if(V.lazy)return!0;if(V.loader==null)return!1;if(s)return typeof V.loader!="function"||V.loader.hydrate?!0:e.loaderData[V.id]===void 0&&(!e.errors||e.errors[V.id]===void 0);if(t7(e.loaderData,e.matches[R],A)||u.some(re=>re===A.route.id))return!0;let B=e.matches[R],D=A;return $E(A,Pt({currentUrl:x,currentParams:B.params,nextUrl:T,nextParams:D.params},r,{actionResult:k,actionStatus:U,defaultShouldRevalidate:H?!1:l||x.pathname+x.search===T.pathname+T.search||x.search!==T.search||Bb(B,D)}))}),S=[];return m.forEach((A,R)=>{if(s||!n.some(fe=>fe.route.id===A.routeId)||p.has(R))return;let V=pa(_,A.path,C);if(!V){S.push({key:R,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let B=e.fetchers.get(R),D=Pc(V,A.path),re=!1;g.has(R)?re=!1:d.has(R)?(d.delete(R),re=!0):B&&B.state!=="idle"&&B.data===void 0?re=l:re=$E(D,Pt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:T,nextParams:n[n.length-1].params},r,{actionResult:k,actionStatus:U,defaultShouldRevalidate:H?!1:l})),re&&S.push({key:R,routeId:A.routeId,path:A.path,matches:V,match:D,controller:new AbortController})}),[N,S]}function t7(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Bb(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function $E(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function n7(t,e,n,r,i,s,a,l){let u=[e,...n.map(d=>d.route.id)].join("-");try{let d=a.get(u);d||(d=t({path:e,matches:n,patch:(p,m)=>{l.aborted||Ub(p,m,r,i,s)}}),a.set(u,d)),d&&d7(d)&&await d}finally{a.delete(u)}}function Ub(t,e,n,r,i){if(t){var s;let a=r[t];Ke(a,"No route found to patch children into: routeId = "+t);let l=yd(e,i,[t,"patch",String(((s=a.children)==null?void 0:s.length)||"0")],r);a.children?a.children.push(...l):a.children=l}else{let a=yd(e,i,["patch",String(n.length||"0")],r);n.push(...a)}}async function r7(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ke(i,"No route found in manifest");let s={};for(let a in r){let u=i[a]!==void 0&&a!=="hasErrorBoundary";du(!u,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!I9.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,Pt({},e(i),{lazy:void 0}))}async function i7(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[n[a].route.id]:s}),{})}async function s7(t,e,n,r,i,s,a,l,u,d){let p=s.map(_=>_.route.lazy?r7(_.route,u,l):void 0),m=s.map((_,C)=>{let b=p[C],k=i.some(T=>T.route.id===_.route.id);return Pt({},_,{shouldLoad:k,resolve:async T=>(T&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(k=!0),k?o7(e,r,_,b,T,d):Promise.resolve({type:ft.data,result:void 0}))})}),g=await t({matches:m,request:r,params:s[0].params,fetcherKey:a,context:d});try{await Promise.all(p)}catch{}return g}async function o7(t,e,n,r,i,s){let a,l,u=d=>{let p,m=new Promise((C,b)=>p=b);l=()=>p(),e.signal.addEventListener("abort",l);let g=C=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:s},...C!==void 0?[C]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(b=>g(b)):g())}}catch(C){return{type:"error",result:C}}})();return Promise.race([_,m])};try{let d=n.route[t];if(r)if(d){let p,[m]=await Promise.all([u(d).catch(g=>{p=g}),r]);if(p!==void 0)throw p;a=m}else if(await r,d=n.route[t],d)a=await u(d);else if(t==="action"){let p=new URL(e.url),m=p.pathname+p.search;throw $n(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:ft.data,result:void 0};else if(d)a=await u(d);else{let p=new URL(e.url),m=p.pathname+p.search;throw $n(404,{pathname:m})}Ke(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:ft.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function a7(t){let{result:e,type:n}=t;if(Hb(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:ft.error,error:p}}return n===ft.error?{type:ft.error,error:new wp(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:ft.data,data:d,statusCode:e.status,headers:e.headers}}if(n===ft.error){if(qE(e)){var r;if(e.data instanceof Error){var i;return{type:ft.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new wp(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:ft.error,error:e,statusCode:Em(e)?e.status:void 0}}if(f7(e)){var s,a;return{type:ft.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(qE(e)){var l,u;return{type:ft.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:ft.data,data:e}}function l7(t,e,n,r,i,s){let a=t.headers.get("Location");if(Ke(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!f1.test(a)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=ay(new URL(e.url),l,i,!0,a,s),t.headers.set("Location",a)}return t}function BE(t,e,n){if(f1.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=jd(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Sl(t,e,n,r){let i=t.createURL(zb(e)).toString(),s={signal:n};if(r&&oi(r.formMethod)){let{formMethod:a,formEncType:l}=r;s.method=a.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=ly(r.formData):s.body=r.formData}return new Request(i,s)}function ly(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function UE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function u7(t,e,n,r,i){let s={},a=null,l,u=!1,d={},p=n&&Er(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,_=e[g];if(Ke(!_a(_),"Cannot handle redirect results in processLoaderData"),Er(_)){let C=_.error;p!==void 0&&(C=p,p=void 0),a=a||{};{let b=zl(t,g);a[b.route.id]==null&&(a[b.route.id]=C)}s[g]=void 0,u||(u=!0,l=Em(_.error)?_.error.status:500),_.headers&&(d[g]=_.headers)}else Io(_)?(r.set(g,_.deferredData),s[g]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(d[g]=_.headers)):(s[g]=_.data,_.statusCode&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(d[g]=_.headers))}),p!==void 0&&n&&(a={[n[0]]:p},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:l||200,loaderHeaders:d}}function zE(t,e,n,r,i,s,a,l){let{loaderData:u,errors:d}=u7(e,r,i,l);return s.forEach(p=>{let{key:m,match:g,controller:_}=p,C=a[m];if(Ke(C,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(Er(C)){let b=zl(t.matches,g==null?void 0:g.route.id);d&&d[b.route.id]||(d=Pt({},d,{[b.route.id]:C.error})),t.fetchers.delete(m)}else if(_a(C))Ke(!1,"Unhandled fetcher revalidation redirect");else if(Io(C))Ke(!1,"Unhandled fetcher deferred data");else{let b=co(C.data);t.fetchers.set(m,b)}}),{loaderData:u,errors:d}}function HE(t,e,n,r){let i=Pt({},e);for(let s of n){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function WE(t){return t?Er(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function zl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function GE(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function $n(t,e){let{pathname:n,routeId:r,method:i,type:s,message:a}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+a):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new wp(t||500,l,new Error(u),!0)}function tf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(_a(i))return{key:r,result:i}}}function zb(t){let e=typeof t=="string"?Yo(t):t;return Md(Pt({},e,{hash:""}))}function c7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function d7(t){return typeof t=="object"&&t!=null&&"then"in t}function h7(t){return Hb(t.result)&&K9.has(t.result.status)}function Io(t){return t.type===ft.deferred}function Er(t){return t.type===ft.error}function _a(t){return(t&&t.type)===ft.redirect}function qE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function f7(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Hb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function p7(t){return q9.has(t.toLowerCase())}function oi(t){return W9.has(t.toLowerCase())}async function m7(t,e,n,r,i){let s=Object.entries(e);for(let a=0;a<s.length;a++){let[l,u]=s[a],d=t.find(g=>(g==null?void 0:g.route.id)===l);if(!d)continue;let p=r.find(g=>g.route.id===d.route.id),m=p!=null&&!Bb(p,d)&&(i&&i[d.route.id])!==void 0;Io(u)&&m&&await p1(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function g7(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:a}=n[r],l=e[i];t.find(d=>(d==null?void 0:d.route.id)===s)&&Io(l)&&(Ke(a,"Expected an AbortController for revalidating fetcher deferred result"),await p1(l,a.signal,!0).then(d=>{d&&(e[i]=d)}))}}async function p1(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ft.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ft.error,error:i}}return{type:ft.data,data:t.deferredData.data}}}function m1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Pc(t,e){let n=typeof e=="string"?Yo(e).search:e.search;if(t[t.length-1].route.index&&m1(n||""))return t[t.length-1];let r=Mb(t);return r[r.length-1]}function KE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function dv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function v7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function fc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function co(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function y7(t,e){try{let n=t.sessionStorage.getItem($b);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function w7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem($b,JSON.stringify(n))}catch(r){du(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}const Tm=M.createContext(null),Wb=M.createContext(null),Sm=M.createContext(null),g1=M.createContext(null),Ha=M.createContext({outlet:null,matches:[],isDataRoute:!1}),Gb=M.createContext(null);function Cm(){return M.useContext(g1)!=null}function Fd(){return Cm()||Ke(!1),M.useContext(g1).location}function qb(t){M.useContext(Sm).static||M.useLayoutEffect(t)}function Xr(){let{isDataRoute:t}=M.useContext(Ha);return t?L7():E7()}function E7(){Cm()||Ke(!1);let t=M.useContext(Tm),{basename:e,future:n,navigator:r}=M.useContext(Sm),{matches:i}=M.useContext(Ha),{pathname:s}=Fd(),a=JSON.stringify(jb(i,n.v7_relativeSplatPath)),l=M.useRef(!1);return qb(()=>{l.current=!0}),M.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Fb(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mo([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,a,s,t])}function Vd(){let{matches:t}=M.useContext(Ha),e=t[t.length-1];return e?e.params:{}}function T7(t,e,n,r){Cm()||Ke(!1);let{navigator:i}=M.useContext(Sm),{matches:s}=M.useContext(Ha),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Fd(),p;p=d;let m=p.pathname||"/",g=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let _=pa(t,{pathname:g});return x7(_&&_.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Mo([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Mo([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r)}function S7(){let t=k7(),e=Em(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const C7=M.createElement(S7,null);class I7 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Ha.Provider,{value:this.props.routeContext},M.createElement(Gb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b7(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(Tm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ha.Provider,{value:e},r)}function x7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||Ke(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:g,errors:_}=n,C=m.route.loader&&g[m.route.id]===void 0&&(!_||_[m.route.id]===void 0);if(m.route.lazy||C){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,g)=>{let _,C=!1,b=null,k=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||C7,u&&(d<0&&g===0?(O7("route-fallback"),C=!0,k=null):d===g&&(C=!0,k=m.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,g+1)),T=()=>{let P;return _?P=b:C?P=k:m.route.Component?P=M.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,M.createElement(b7,{match:m,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?M.createElement(I7,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):T()},null)}var Kb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kb||{}),Tp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tp||{});function P7(t){let e=M.useContext(Tm);return e||Ke(!1),e}function A7(t){let e=M.useContext(Wb);return e||Ke(!1),e}function R7(t){let e=M.useContext(Ha);return e||Ke(!1),e}function Zb(t){let e=R7(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function k7(){var t;let e=M.useContext(Gb),n=A7(Tp.UseRouteError),r=Zb(Tp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function L7(){let{router:t}=P7(Kb.UseNavigateStable),e=Zb(Tp.UseNavigateStable),n=M.useRef(!1);return qb(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ep({fromRouteId:e},s)))},[t,e])}const ZE={};function O7(t,e,n){ZE[t]||(ZE[t]=!0)}function N7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qt.Pop,navigator:s,static:a=!1,future:l}=t;Cm()&&Ke(!1);let u=e.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:u,navigator:s,static:a,future:Ep({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof r=="string"&&(r=Yo(r));let{pathname:p="/",search:m="",hash:g="",state:_=null,key:C="default"}=r,b=M.useMemo(()=>{let k=jd(p,u);return k==null?null:{location:{pathname:k,search:m,hash:g,state:_,key:C},navigationType:i}},[u,p,m,g,_,C,i]);return b==null?null:M.createElement(Sm.Provider,{value:d},M.createElement(g1.Provider,{children:n,value:b}))}new Promise(()=>{});function D7(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:M.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}const M7="6";try{window.__reactRouterVersion=M7}catch{}function j7(t,e){return X9({basename:void 0,future:Sp({},void 0,{v7_prependBasename:!0}),history:T9({window:void 0}),hydrationData:F7(),routes:t,mapRouteProperties:D7,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function F7(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Sp({},e,{errors:V7(e.errors)})),e}function V7(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new wp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const $7=M.createContext({isTransitioning:!1}),B7=M.createContext(new Map),U7="startTransition",QE=c6[U7],z7="flushSync",YE=E9[z7];function H7(t){QE?QE(t):t()}function pc(t){YE?YE(t):t()}let W7=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function G7(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=M.useState(n.state),[a,l]=M.useState(),[u,d]=M.useState({isTransitioning:!1}),[p,m]=M.useState(),[g,_]=M.useState(),[C,b]=M.useState(),k=M.useRef(new Map),{v7_startTransition:x}=r||{},T=M.useCallback(S=>{x?H7(S):S()},[x]),P=M.useCallback((S,A)=>{let{deletedFetchers:R,unstable_flushSync:V,unstable_viewTransitionOpts:B}=A;R.forEach(re=>k.current.delete(re)),S.fetchers.forEach((re,fe)=>{re.data!==void 0&&k.current.set(fe,re.data)});let D=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!B||D){V?pc(()=>s(S)):T(()=>s(S));return}if(V){pc(()=>{g&&(p&&p.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let re=n.window.document.startViewTransition(()=>{pc(()=>s(S))});re.finished.finally(()=>{pc(()=>{m(void 0),_(void 0),l(void 0),d({isTransitioning:!1})})}),pc(()=>_(re));return}g?(p&&p.resolve(),g.skipTransition(),b({state:S,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(l(S),d({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,g,p,k,T]);M.useLayoutEffect(()=>n.subscribe(P),[n,P]),M.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new W7)},[u]),M.useEffect(()=>{if(p&&a&&n.window){let S=a,A=p.promise,R=n.window.document.startViewTransition(async()=>{T(()=>s(S)),await A});R.finished.finally(()=>{m(void 0),_(void 0),l(void 0),d({isTransitioning:!1})}),_(R)}},[T,a,p,n.window]),M.useEffect(()=>{p&&a&&i.location.key===a.location.key&&p.resolve()},[p,g,i.location,a]),M.useEffect(()=>{!u.isTransitioning&&C&&(l(C.state),d({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),b(void 0))},[u.isTransitioning,C]),M.useEffect(()=>{},[]);let j=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,A,R)=>n.navigate(S,{state:A,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(S,A,R)=>n.navigate(S,{replace:!0,state:A,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),U=n.basename||"/",H=M.useMemo(()=>({router:n,navigator:j,static:!1,basename:U}),[n,j,U]),N=M.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return M.createElement(M.Fragment,null,M.createElement(Tm.Provider,{value:H},M.createElement(Wb.Provider,{value:i},M.createElement(B7.Provider,{value:k.current},M.createElement($7.Provider,{value:u},M.createElement(N7,{basename:U,location:i.location,navigationType:i.historyAction,navigator:j,future:N},i.initialized||n.future.v7_partialHydration?M.createElement(q7,{routes:n.routes,future:n.future,state:i}):e))))),null)}const q7=M.memo(K7);function K7(t){let{routes:e,future:n,state:r}=t;return T7(e,void 0,r,n)}var XE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(XE||(XE={}));var JE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JE||(JE={}));const Z7=({label:t,onClick:e})=>w.jsx("button",{className:"btn_primary",onClick:e,children:t}),Q7=({label:t,onClick:e})=>w.jsx("button",{className:"btn_secondary",onClick:e,children:t}),Qb=({showPrimary:t=!0,showSecondary:e=!0})=>{const n=Xr(),r=()=>{n("/login")},i=()=>{n("/signup")};return w.jsxs("div",{children:[t&&w.jsx(Z7,{label:"LOGIN",onClick:r}),e&&w.jsx(Q7,{label:"SIGN UP",onClick:i})]})},Y7=()=>{const[t,e]=M.useState(!1);return M.useEffect(()=>{const n=()=>{e(window.scrollY>0)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),t},X7=()=>{const t=Y7();return w.jsxs("nav",{className:`nav_bar1 ${t?"scrolled":""}`,children:[w.jsx("h1",{className:"app_names",children:"Eventix"}),w.jsx("div",{className:"nav_buttonss",children:w.jsx(Qb,{})})]})};function eT(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function v1(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:eT(e[n])&&eT(t[n])&&Object.keys(e[n]).length>0&&v1(t[n],e[n])})}const Yb={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Is(){const t=typeof document<"u"?document:{};return v1(t,Yb),t}const J7={document:Yb,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Lr(){const t=typeof window<"u"?window:{};return v1(t,J7),t}function ek(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function tk(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function uy(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Cp(){return Date.now()}function nk(t){const e=Lr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function rk(t,e){e===void 0&&(e="x");const n=Lr();let r,i,s;const a=nk(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function nf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function ik(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Tr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!ik(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,a=i.length;s<a;s+=1){const l=i[s],u=Object.getOwnPropertyDescriptor(r,l);u!==void 0&&u.enumerable&&(nf(t[l])&&nf(r[l])?r[l].__swiper__?t[l]=r[l]:Tr(t[l],r[l]):!nf(t[l])&&nf(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:Tr(t[l],r[l])):t[l]=r[l])}}}return t}function rf(t,e,n){t.style.setProperty(e,n)}function Xb(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Lr(),s=-e.translate;let a=null,l;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const d=n>s?"next":"prev",p=(g,_)=>d==="next"&&g>=_||d==="prev"&&g<=_,m=()=>{l=new Date().getTime(),a===null&&(a=l);const g=Math.max(Math.min((l-a)/u,1),0),_=.5-Math.cos(g*Math.PI)/2;let C=s+_*(n-s);if(p(C,n)&&(C=n),e.wrapperEl.scrollTo({[r]:C}),p(C,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:C})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(m)};m()}function ji(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(r=>r.matches(e)):n}function sk(t,e){const n=e.contains(t);return!n&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(t):n}function Ip(t){try{console.warn(t);return}catch{}}function bp(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:ek(e)),n}function ok(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ak(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function bo(t,e){return Lr().getComputedStyle(t,null).getPropertyValue(e)}function xp(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Jb(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function cy(t,e,n){const r=Lr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ps(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let hv;function lk(){const t=Lr(),e=Is();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function ex(){return hv||(hv=lk()),hv}let fv;function uk(t){let{userAgent:e}=t===void 0?{}:t;const n=ex(),r=Lr(),i=r.navigator.platform,s=e||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,u=r.screen.height,d=s.match(/(Android);?[\s\/]+([\d.]+)?/);let p=s.match(/(iPad).*OS\s([\d_]+)/);const m=s.match(/(iPod)(.*OS\s([\d_]+))?/),g=!p&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),_=i==="Win32";let C=i==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&C&&n.touch&&b.indexOf(`${l}x${u}`)>=0&&(p=s.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),C=!1),d&&!_&&(a.os="android",a.android=!0),(p||g||m)&&(a.os="ios",a.ios=!0),a}function tx(t){return t===void 0&&(t={}),fv||(fv=uk(t)),fv}let pv;function ck(){const t=Lr(),e=tx();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[u,d]=l.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));n=u<16||u===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),a=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function dk(){return pv||(pv=ck()),pv}function hk(t){let{swiper:e,on:n,emit:r}=t;const i=Lr();let s=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(m=>{a=i.requestAnimationFrame(()=>{const{width:g,height:_}=e;let C=g,b=_;m.forEach(k=>{let{contentBoxSize:x,contentRect:T,target:P}=k;P&&P!==e.el||(C=T?T.width:(x[0]||x).inlineSize,b=T?T.height:(x[0]||x).blockSize)}),(C!==g||b!==_)&&l()})}),s.observe(e.el))},d=()=>{a&&i.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},p=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){u();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",p)}),n("destroy",()=>{d(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",p)})}function fk(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],a=Lr(),l=function(p,m){m===void 0&&(m={});const g=a.MutationObserver||a.WebkitMutationObserver,_=new g(C=>{if(e.__preventObserver__)return;if(C.length===1){i("observerUpdate",C[0]);return}const b=function(){i("observerUpdate",C[0])};a.requestAnimationFrame?a.requestAnimationFrame(b):a.setTimeout(b,0)});_.observe(p,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:e.isElement||(typeof m.childList>"u"?!0:m).childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),s.push(_)},u=()=>{if(e.params.observer){if(e.params.observeParents){const p=Jb(e.hostEl);for(let m=0;m<p.length;m+=1)l(p[m])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{s.forEach(p=>{p.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",u),r("destroy",d)}var pk={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(d=>{d.apply(r,n)})}),t}};function mk(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(bo(r,"padding-left")||0,10)-parseInt(bo(r,"padding-right")||0,10),n=n-parseInt(bo(r,"padding-top")||0,10)-parseInt(bo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function gk(){const t=this;function e(R,V){return parseFloat(R.getPropertyValue(t.getDirectionLabel(V))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:l}=t,u=t.virtual&&n.virtual.enabled,d=u?t.virtual.slides.length:t.slides.length,p=ji(i,`.${t.params.slideClass}, swiper-slide`),m=u?t.virtual.slides.length:p.length;let g=[];const _=[],C=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(t));let k=n.slidesOffsetAfter;typeof k=="function"&&(k=n.slidesOffsetAfter.call(t));const x=t.snapGrid.length,T=t.slidesGrid.length;let P=n.spaceBetween,j=-b,U=0,H=0;if(typeof s>"u")return;typeof P=="string"&&P.indexOf("%")>=0?P=parseFloat(P.replace("%",""))/100*s:typeof P=="string"&&(P=parseFloat(P)),t.virtualSize=-P,p.forEach(R=>{a?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(rf(r,"--swiper-centered-offset-before",""),rf(r,"--swiper-centered-offset-after",""));const N=n.grid&&n.grid.rows>1&&t.grid;N?t.grid.initSlides(p):t.grid&&t.grid.unsetSlides();let S;const A=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<m;R+=1){S=0;let V;if(p[R]&&(V=p[R]),N&&t.grid.updateSlide(R,V,p),!(p[R]&&bo(V,"display")==="none")){if(n.slidesPerView==="auto"){A&&(p[R].style[t.getDirectionLabel("width")]="");const B=getComputedStyle(V),D=V.style.transform,re=V.style.webkitTransform;if(D&&(V.style.transform="none"),re&&(V.style.webkitTransform="none"),n.roundLengths)S=t.isHorizontal()?cy(V,"width"):cy(V,"height");else{const fe=e(B,"width"),Ce=e(B,"padding-left"),Be=e(B,"padding-right"),K=e(B,"margin-left"),ie=e(B,"margin-right"),J=B.getPropertyValue("box-sizing");if(J&&J==="border-box")S=fe+K+ie;else{const{clientWidth:we,offsetWidth:ge}=V;S=fe+Ce+Be+K+ie+(ge-we)}}D&&(V.style.transform=D),re&&(V.style.webkitTransform=re),n.roundLengths&&(S=Math.floor(S))}else S=(s-(n.slidesPerView-1)*P)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),p[R]&&(p[R].style[t.getDirectionLabel("width")]=`${S}px`);p[R]&&(p[R].swiperSlideSize=S),C.push(S),n.centeredSlides?(j=j+S/2+U/2+P,U===0&&R!==0&&(j=j-s/2-P),R===0&&(j=j-s/2-P),Math.abs(j)<1/1e3&&(j=0),n.roundLengths&&(j=Math.floor(j)),H%n.slidesPerGroup===0&&g.push(j),_.push(j)):(n.roundLengths&&(j=Math.floor(j)),(H-Math.min(t.params.slidesPerGroupSkip,H))%t.params.slidesPerGroup===0&&g.push(j),_.push(j),j=j+S+P),t.virtualSize+=S+P,U=S,H+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+k,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+P}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+P}px`),N&&t.grid.updateWrapperSize(S,g),!n.centeredSlides){const R=[];for(let V=0;V<g.length;V+=1){let B=g[V];n.roundLengths&&(B=Math.floor(B)),g[V]<=t.virtualSize-s&&R.push(B)}g=R,Math.floor(t.virtualSize-s)-Math.floor(g[g.length-1])>1&&g.push(t.virtualSize-s)}if(u&&n.loop){const R=C[0]+P;if(n.slidesPerGroup>1){const V=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),B=R*n.slidesPerGroup;for(let D=0;D<V;D+=1)g.push(g[g.length-1]+B)}for(let V=0;V<t.virtual.slidesBefore+t.virtual.slidesAfter;V+=1)n.slidesPerGroup===1&&g.push(g[g.length-1]+R),_.push(_[_.length-1]+R),t.virtualSize+=R}if(g.length===0&&(g=[0]),P!==0){const R=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");p.filter((V,B)=>!n.cssMode||n.loop?!0:B!==p.length-1).forEach(V=>{V.style[R]=`${P}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;C.forEach(B=>{R+=B+(P||0)}),R-=P;const V=R>s?R-s:0;g=g.map(B=>B<=0?-b:B>V?V+k:B)}if(n.centerInsufficientSlides){let R=0;C.forEach(B=>{R+=B+(P||0)}),R-=P;const V=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+V<s){const B=(s-R-V)/2;g.forEach((D,re)=>{g[re]=D-B}),_.forEach((D,re)=>{_[re]=D+B})}}if(Object.assign(t,{slides:p,snapGrid:g,slidesGrid:_,slidesSizesGrid:C}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){rf(r,"--swiper-centered-offset-before",`${-g[0]}px`),rf(r,"--swiper-centered-offset-after",`${t.size/2-C[C.length-1]/2}px`);const R=-t.snapGrid[0],V=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(B=>B+R),t.slidesGrid=t.slidesGrid.map(B=>B+V)}if(m!==d&&t.emit("slidesLengthChange"),g.length!==x&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),_.length!==T&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,V=t.el.classList.contains(R);m<=n.maxBackfaceHiddenSlides?V||t.el.classList.add(R):V&&t.el.classList.remove(R)}}function vk(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const l=e.activeIndex+s;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function _k(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const tT=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function yk(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let u=0;u<r.length;u+=1){const d=r[u];let p=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=r[0].swiperSlideOffset);const m=(a+(n.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+l),g=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+l),_=-(a-p),C=_+e.slidesSizesGrid[u],b=_>=0&&_<=e.size-e.slidesSizesGrid[u],k=_>=0&&_<e.size-1||C>1&&C<=e.size||_<=0&&C>=e.size;k&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(u)),tT(d,k,n.slideVisibleClass),tT(d,b,n.slideFullyVisibleClass),d.progress=i?-m:m,d.originalProgress=i?-g:g}}function wk(t){const e=this;if(typeof t>"u"){const p=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*p||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:l}=e;const u=s,d=a;if(r===0)i=0,s=!0,a=!0;else{i=(t-e.minTranslate())/r;const p=Math.abs(t-e.minTranslate())<1,m=Math.abs(t-e.maxTranslate())<1;s=p||i<=0,a=m||i>=1,p&&(i=0),m&&(i=1)}if(n.loop){const p=e.getSlideIndexByData(0),m=e.getSlideIndexByData(e.slides.length-1),g=e.slidesGrid[p],_=e.slidesGrid[m],C=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=g?l=(b-g)/C:l=(b+C-_)/C,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!u&&e.emit("reachBeginning toEdge"),a&&!d&&e.emit("reachEnd toEdge"),(u&&!s||d&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}const mv=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Ek(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=m=>ji(r,`.${n.slideClass}${m}, swiper-slide${m}`)[0];let u,d,p;if(s)if(n.loop){let m=i-t.virtual.slidesBefore;m<0&&(m=t.virtual.slides.length+m),m>=t.virtual.slides.length&&(m-=t.virtual.slides.length),u=l(`[data-swiper-slide-index="${m}"]`)}else u=l(`[data-swiper-slide-index="${i}"]`);else a?(u=e.filter(m=>m.column===i)[0],p=e.filter(m=>m.column===i+1)[0],d=e.filter(m=>m.column===i-1)[0]):u=e[i];u&&(a||(p=ak(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p&&(p=e[0]),d=ok(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(m=>{mv(m,m===u,n.slideActiveClass),mv(m,m===p,n.slideNextClass),mv(m,m===d,n.slidePrevClass)}),t.emitSlidesClasses()}const Of=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},gv=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},dy=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=i,l=[a-e];l.push(...Array.from({length:e}).map((u,d)=>a+r+d)),t.slides.forEach((u,d)=>{l.includes(u.column)&&gv(t,d)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=s+e;a+=1){const l=(a%n+n)%n;(l<i||l>s)&&gv(t,l)}else for(let a=Math.max(i-e,0);a<=Math.min(s+e,n-1);a+=1)a!==i&&(a>s||a<i)&&gv(t,a)};function Tk(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function Sk(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:l}=e;let u=t,d;const p=_=>{let C=_-e.virtual.slidesBefore;return C<0&&(C=e.virtual.slides.length+C),C>=e.virtual.slides.length&&(C-=e.virtual.slides.length),C};if(typeof u>"u"&&(u=Tk(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const _=Math.min(i.slidesPerGroupSkip,u);d=_+Math.floor((u-_)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),u===s&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(u===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=p(u);return}const m=e.grid&&i.grid&&i.grid.rows>1;let g;if(e.virtual&&i.virtual.enabled&&i.loop)g=p(u);else if(m){const _=e.slides.filter(b=>b.column===u)[0];let C=parseInt(_.getAttribute("data-swiper-slide-index"),10);Number.isNaN(C)&&(C=Math.max(e.slides.indexOf(_),0)),g=Math.floor(C/i.grid.rows)}else if(e.slides[u]){const _=e.slides[u].getAttribute("data-swiper-slide-index");_?g=parseInt(_,10):g=u}else g=u;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:a,realIndex:g,previousIndex:s,activeIndex:u}),e.initialized&&dy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function Ck(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(i=l)});let s=!1,a;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){s=!0,a=l;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Ik={updateSize:mk,updateSlides:gk,updateAutoHeight:vk,updateSlidesOffset:_k,updateSlidesProgress:yk,updateProgress:wk,updateSlidesClasses:Ek,updateActiveIndex:Sk,updateClickedSlide:Ck};function bk(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=rk(s,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function xk(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let l=0,u=0;const d=0;n.isHorizontal()?l=r?-t:t:u=t,i.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${u}px, ${d}px)`);let p;const m=n.maxTranslate()-n.minTranslate();m===0?p=0:p=(t-n.minTranslate())/m,p!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Pk(){return-this.snapGrid[0]}function Ak(){return-this.snapGrid[this.snapGrid.length-1]}function Rk(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:a,wrapperEl:l}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const u=s.minTranslate(),d=s.maxTranslate();let p;if(r&&t>u?p=u:r&&t<d?p=d:p=t,s.updateProgress(p),a.cssMode){const m=s.isHorizontal();if(e===0)l[m?"scrollLeft":"scrollTop"]=-p;else{if(!s.support.smoothScroll)return Xb({swiper:s,targetPosition:-p,side:m?"left":"top"}),!0;l.scrollTo({[m?"left":"top"]:-p,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(g){!s||s.destroyed||g.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var kk={getTranslate:bk,setTranslate:xk,minTranslate:Pk,maxTranslate:Ak,translateTo:Rk};function Lk(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function nx(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:a}=e;let l=r;if(l||(s>a?l="next":s<a?l="prev":l="reset"),e.emit(`transition${i}`),n&&s!==a){if(l==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),l==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function Ok(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),nx({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Nk(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),nx({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Dk={setTransition:Lk,transitionStart:Ok,transitionEnd:Nk};function Mk(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:u,slidesGrid:d,previousIndex:p,activeIndex:m,rtlTranslate:g,wrapperEl:_,enabled:C}=s;if(!C&&!r&&!i||s.destroyed||s.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const b=Math.min(s.params.slidesPerGroupSkip,a);let k=b+Math.floor((a-b)/s.params.slidesPerGroup);k>=u.length&&(k=u.length-1);const x=-u[k];if(l.normalizeSlideIndex)for(let U=0;U<d.length;U+=1){const H=-Math.floor(x*100),N=Math.floor(d[U]*100),S=Math.floor(d[U+1]*100);typeof d[U+1]<"u"?H>=N&&H<S-(S-N)/2?a=U:H>=N&&H<S&&(a=U+1):H>=N&&(a=U)}if(s.initialized&&a!==m&&(!s.allowSlideNext&&(g?x>s.translate&&x>s.minTranslate():x<s.translate&&x<s.minTranslate())||!s.allowSlidePrev&&x>s.translate&&x>s.maxTranslate()&&(m||0)!==a))return!1;a!==(p||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(x);let T;a>m?T="next":a<m?T="prev":T="reset";const P=s.virtual&&s.params.virtual.enabled;if(!(P&&i)&&(g&&-x===s.translate||!g&&x===s.translate))return s.updateActiveIndex(a),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(x),T!=="reset"&&(s.transitionStart(n,T),s.transitionEnd(n,T)),!1;if(l.cssMode){const U=s.isHorizontal(),H=g?x:-x;if(e===0)P&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),P&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{_[U?"scrollLeft":"scrollTop"]=H})):_[U?"scrollLeft":"scrollTop"]=H,P&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return Xb({swiper:s,targetPosition:H,side:U?"left":"top"}),!0;_.scrollTo({[U?"left":"top"]:H,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(x),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,T),e===0?s.transitionEnd(n,T):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(H){!s||s.destroyed||H.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,T))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function jk(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let l;if(s){const g=a*i.params.grid.rows;l=i.slides.filter(_=>_.getAttribute("data-swiper-slide-index")*1===g)[0].column}else l=i.getSlideIndexByData(a);const u=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let p=i.params.slidesPerView;p==="auto"?p=i.slidesPerViewDynamic():(p=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&p%2===0&&(p=p+1));let m=u-l<p;if(d&&(m=m||l<Math.ceil(p/2)),r&&d&&i.params.slidesPerView!=="auto"&&!s&&(m=!1),m){const g=d?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:g,slideTo:!0,activeSlideIndex:g==="next"?l+1:l-u+1,slideRealIndex:g==="next"?i.realIndex:void 0})}if(s){const g=a*i.params.grid.rows;a=i.slides.filter(_=>_.getAttribute("data-swiper-slide-index")*1===g)[0].column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,n,r)}),i}function Fk(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<s.slidesPerGroupSkip?1:l,d=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!d&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function Vk(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:u,animating:d}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const p=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!p&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const m=l?r.translate:-r.translate;function g(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const _=g(m),C=s.map(x=>g(x));let b=s[C.indexOf(_)-1];if(typeof b>"u"&&i.cssMode){let x;s.forEach((T,P)=>{_>=T&&(x=P)}),typeof x<"u"&&(b=s[x>0?x-1:x])}let k=0;if(typeof b<"u"&&(k=a.indexOf(b),k<0&&(k=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(k=k-r.slidesPerViewDynamic("previous",!0)+1,k=Math.max(k,0))),i.rewind&&r.isBeginning){const x=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(x,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(k,t,e,n)}),!0;return r.slideTo(k,t,e,n)}function $k(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Bk(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),l=a+Math.floor((s-a)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[l]){const d=i.snapGrid[l],p=i.snapGrid[l+1];u-d>(p-d)*r&&(s+=i.params.slidesPerGroup)}else{const d=i.snapGrid[l-1],p=i.snapGrid[l];u-d<=(p-d)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function Uk(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(ji(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),uy(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(ji(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),uy(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var zk={slideTo:Mk,slideToLoop:jk,slideNext:Fk,slidePrev:Vk,slideReset:$k,slideToClosest:Bk,slideToClickedSlide:Uk};function Hk(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{ji(r,`.${n.slideClass}, swiper-slide`).forEach((m,g)=>{m.setAttribute("data-swiper-slide-index",g)})},s=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(s?n.grid.rows:1),l=e.slides.length%a!==0,u=s&&e.slides.length%n.grid.rows!==0,d=p=>{for(let m=0;m<p;m+=1){const g=e.isElement?bp("swiper-slide",[n.slideBlankClass]):bp("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(g)}};if(l){if(n.loopAddBlankSlides){const p=a-e.slides.length%a;d(p),e.recalcSlides(),e.updateSlides()}else Ip("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(u){if(n.loopAddBlankSlides){const p=n.grid.rows-e.slides.length%n.grid.rows;d(p),e.recalcSlides(),e.updateSlides()}else Ip("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Wk(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:a,byMousewheel:l}=t===void 0?{}:t;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:p,allowSlideNext:m,slidesEl:g,params:_}=u,{centeredSlides:C}=_;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&_.virtual.enabled){n&&(!_.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):_.centeredSlides&&u.snapIndex<_.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=p,u.allowSlideNext=m,u.emit("loopFix");return}let b=_.slidesPerView;b==="auto"?b=u.slidesPerViewDynamic():(b=Math.ceil(parseFloat(_.slidesPerView,10)),C&&b%2===0&&(b=b+1));const k=_.slidesPerGroupAuto?b:_.slidesPerGroup;let x=k;x%k!==0&&(x+=k-x%k),x+=_.loopAdditionalSlides,u.loopedSlides=x;const T=u.grid&&_.grid&&_.grid.rows>1;d.length<b+x?Ip("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):T&&_.grid.fill==="row"&&Ip("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const P=[],j=[];let U=u.activeIndex;typeof s>"u"?s=u.getSlideIndex(d.filter(D=>D.classList.contains(_.slideActiveClass))[0]):U=s;const H=r==="next"||!r,N=r==="prev"||!r;let S=0,A=0;const R=T?Math.ceil(d.length/_.grid.rows):d.length,B=(T?d[s].column:s)+(C&&typeof i>"u"?-b/2+.5:0);if(B<x){S=Math.max(x-B,k);for(let D=0;D<x-B;D+=1){const re=D-Math.floor(D/R)*R;if(T){const fe=R-re-1;for(let Ce=d.length-1;Ce>=0;Ce-=1)d[Ce].column===fe&&P.push(Ce)}else P.push(R-re-1)}}else if(B+b>R-x){A=Math.max(B-(R-x*2),k);for(let D=0;D<A;D+=1){const re=D-Math.floor(D/R)*R;T?d.forEach((fe,Ce)=>{fe.column===re&&j.push(Ce)}):j.push(re)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),N&&P.forEach(D=>{d[D].swiperLoopMoveDOM=!0,g.prepend(d[D]),d[D].swiperLoopMoveDOM=!1}),H&&j.forEach(D=>{d[D].swiperLoopMoveDOM=!0,g.append(d[D]),d[D].swiperLoopMoveDOM=!1}),u.recalcSlides(),_.slidesPerView==="auto"?u.updateSlides():T&&(P.length>0&&N||j.length>0&&H)&&u.slides.forEach((D,re)=>{u.grid.updateSlide(re,D,u.slides)}),_.watchSlidesProgress&&u.updateSlidesOffset(),n){if(P.length>0&&N){if(typeof e>"u"){const D=u.slidesGrid[U],fe=u.slidesGrid[U+S]-D;l?u.setTranslate(u.translate-fe):(u.slideTo(U+Math.ceil(S),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-fe,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-fe))}else if(i){const D=T?P.length/_.grid.rows:P.length;u.slideTo(u.activeIndex+D,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(j.length>0&&H)if(typeof e>"u"){const D=u.slidesGrid[U],fe=u.slidesGrid[U-A]-D;l?u.setTranslate(u.translate-fe):(u.slideTo(U-A,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-fe,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-fe))}else{const D=T?j.length/_.grid.rows:j.length;u.slideTo(u.activeIndex-D,0,!1,!0)}}if(u.allowSlidePrev=p,u.allowSlideNext=m,u.controller&&u.controller.control&&!a){const D={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(re=>{!re.destroyed&&re.params.loop&&re.loopFix({...D,slideTo:re.params.slidesPerView===_.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...D,slideTo:u.controller.control.params.slidesPerView===_.slidesPerView?n:!1})}u.emit("loopFix")}function Gk(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var qk={loopCreate:Hk,loopFix:Wk,loopDestroy:Gk};function Kk(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Zk(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Qk={setGrabCursor:Kk,unsetGrabCursor:Zk};function Yk(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Is()||r===Lr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function nT(t,e,n){const r=Lr(),{params:i}=t,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Xk(t){const e=this,n=Is();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){nT(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:l}=e;if(!l||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let u=r.target;if(s.touchEventsTarget==="wrapper"&&!sk(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const d=!!s.noSwipingClass&&s.noSwipingClass!=="",p=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&p&&(u=p[0]);const m=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,g=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(g?Yk(m,u):u.closest(m))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const _=a.currentX,C=a.currentY;if(!nT(e,r,_))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=_,a.startY=C,i.touchStartTime=Cp(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let b=!0;u.matches(i.focusableElements)&&(b=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(i.focusableElements))&&n.activeElement.blur();const k=b&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||k)&&!u.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Jk(t){const e=Is(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:l}=n;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let d;if(u.type==="touchmove"){if(d=[...u.changedTouches].filter(H=>H.identifier===r.touchId)[0],!d||d.identifier!==r.touchId)return}else d=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const p=d.pageX,m=d.pageY;if(u.preventedByNestedSwiper){s.startX=p,s.startY=m;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:p,startY:m,currentX:p,currentY:m}),r.touchStartTime=Cp());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(m<s.startY&&n.translate<=n.maxTranslate()||m>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(p<s.startX&&n.translate<=n.maxTranslate()||p>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=p,s.currentY=m;const g=s.currentX-s.startX,_=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(g**2+_**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let H;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:g*g+_*_>=25&&(H=Math.atan2(Math.abs(_),Math.abs(g))*180/Math.PI,r.isScrolling=n.isHorizontal()?H>i.touchAngle:90-H>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let C=n.isHorizontal()?g:_,b=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(C=Math.abs(C)*(a?1:-1),b=Math.abs(b)*(a?1:-1)),s.diff=C,C*=i.touchRatio,a&&(C=-C,b=-b);const k=n.touchesDirection;n.swipeDirection=C>0?"prev":"next",n.touchesDirection=b>0?"prev":"next";const x=n.params.loop&&!i.cssMode,T=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(x&&T&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const H=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(H)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}let P;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&k!==n.touchesDirection&&x&&T&&Math.abs(C)>=1){Object.assign(s,{startX:p,startY:m,currentX:p,currentY:m,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=C+r.startTranslate;let j=!0,U=i.resistanceRatio;if(i.touchReleaseOnEdges&&(U=0),C>0?(x&&T&&!P&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(j=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+C)**U))):C<0&&(x&&T&&!P&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(j=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-C)**U))),j&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(C)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function eL(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(U=>U.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:u,slidesGrid:d,enabled:p}=e;if(!p||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const m=Cp(),g=m-n.touchStartTime;if(e.allowClick){const U=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(U&&U[0]||r.target,U),e.emit("tap click",r),g<300&&m-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Cp(),uy(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let _;if(a.followFinger?_=u?e.translate:-e.translate:_=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:_});return}const C=_>=-e.maxTranslate()&&!e.params.loop;let b=0,k=e.slidesSizesGrid[0];for(let U=0;U<d.length;U+=U<a.slidesPerGroupSkip?1:a.slidesPerGroup){const H=U<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof d[U+H]<"u"?(C||_>=d[U]&&_<d[U+H])&&(b=U,k=d[U+H]-d[U]):(C||_>=d[U])&&(b=U,k=d[d.length-1]-d[d.length-2])}let x=null,T=null;a.rewind&&(e.isBeginning?T=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(x=0));const P=(_-d[b])/k,j=b<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(g>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(P>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?x:b+j):e.slideTo(b)),e.swipeDirection==="prev"&&(P>1-a.longSwipesRatio?e.slideTo(b+j):T!==null&&P<0&&Math.abs(P)>a.longSwipesRatio?e.slideTo(T):e.slideTo(b))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(b+j):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(x!==null?x:b+j),e.swipeDirection==="prev"&&e.slideTo(T!==null?T:b))}}function rT(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function tL(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function nL(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function rL(t){const e=this;Of(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function iL(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const rx=(t,e)=>{const n=Is(),{params:r,el:i,wrapperEl:s,device:a}=t,l=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",d=e;!i||typeof i=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[u]("touchstart",t.onTouchStart,{passive:!1}),i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&s[u]("scroll",t.onScroll),r.updateOnWindowResize?t[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",rT,!0):t[d]("observerUpdate",rT,!0),i[u]("load",t.onLoad,{capture:!0}))};function sL(){const t=this,{params:e}=t;t.onTouchStart=Xk.bind(t),t.onTouchMove=Jk.bind(t),t.onTouchEnd=eL.bind(t),t.onDocumentTouchStart=iL.bind(t),e.cssMode&&(t.onScroll=nL.bind(t)),t.onClick=tL.bind(t),t.onLoad=rL.bind(t),rx(t,"on")}function oL(){rx(this,"off")}var aL={attachEvents:sL,detachEvents:oL};const iT=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function lL(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const u=(a in s?s[a]:void 0)||t.originalParams,d=iT(t,r),p=iT(t,u),m=t.params.grabCursor,g=u.grabCursor,_=r.enabled;d&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),m&&!g?t.unsetGrabCursor():!m&&g&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(P=>{if(typeof u[P]>"u")return;const j=r[P]&&r[P].enabled,U=u[P]&&u[P].enabled;j&&!U&&t[P].disable(),!j&&U&&t[P].enable()});const C=u.direction&&u.direction!==r.direction,b=r.loop&&(u.slidesPerView!==r.slidesPerView||C),k=r.loop;C&&n&&t.changeDirection(),Tr(t.params,u);const x=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),_&&!x?t.disable():!_&&x&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",u),n&&(b?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!k&&T?(t.loopCreate(e),t.updateSlides()):k&&!T&&t.loopDestroy()),t.emit("breakpoint",u)}function uL(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Lr(),s=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const u=parseFloat(l.substr(1));return{value:s*u,point:l}}return{value:l,point:l}});a.sort((l,u)=>parseInt(l.value,10)-parseInt(u.value,10));for(let l=0;l<a.length;l+=1){const{point:u,value:d}=a[l];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=u):d<=n.clientWidth&&(r=u)}return r||"max"}var cL={setBreakpoint:lL,getBreakpoint:uL};function dL(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function hL(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,a=dL(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function fL(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var pL={addClasses:hL,removeClasses:fL};function mL(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var gL={checkOverflow:mL},hy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function vL(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Tr(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Tr(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Tr(e,r)}}const vv={eventsEmitter:pk,update:Ik,translate:kk,transition:Dk,slide:zk,loop:qk,grabCursor:Qk,events:aL,breakpoints:cL,checkOverflow:gL,classes:pL},_v={};let _1=class gs{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Tr({},n),e&&!n.el&&(n.el=e);const a=Is();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const p=[];return a.querySelectorAll(n.el).forEach(m=>{const g=Tr({},n,{el:m});p.push(new gs(g))}),p}const l=this;l.__swiper__=!0,l.support=ex(),l.device=tx({userAgent:n.userAgent}),l.browser=dk(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const u={};l.modules.forEach(p=>{p({params:n,swiper:l,extendParams:vL(n,u),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Tr({},hy,u);return l.params=Tr({},d,_v,n),l.originalParams=Tr({},l.params),l.passedParams=Tr({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(p=>{l.on(p,l.params.on[p])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=ji(n,`.${r.slideClass}, swiper-slide`),s=xp(i[0]);return xp(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=ji(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:l,size:u,activeIndex:d}=r;let p=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let m=s[d]?Math.ceil(s[d].swiperSlideSize):0,g;for(let _=d+1;_<s.length;_+=1)s[_]&&!g&&(m+=Math.ceil(s[_].swiperSlideSize),p+=1,m>u&&(g=!0));for(let _=d-1;_>=0;_-=1)s[_]&&!g&&(m+=s[_].swiperSlideSize,p+=1,m>u&&(g=!0))}else if(e==="current")for(let m=d+1;m<s.length;m+=1)(n?a[m]+l[m]-a[d]<u:a[m]-a[d]<u)&&(p+=1);else for(let m=d-1;m>=0;m-=1)a[d]-a[m]<u&&(p+=1);return p}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Of(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):ji(r,i())[0];return!a&&n.params.createElements&&(a=bp("div",n.params.wrapperClass),r.append(a),ji(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||bo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||bo(r,"direction")==="rtl"),wrongRTL:bo(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Of(n,s):s.addEventListener("load",a=>{Of(n,a.target)})}),dy(n),n.initialized=!0,dy(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),tk(r)),r.destroyed=!0),null}static extendDefaults(e){Tr(_v,e)}static get extendedDefaults(){return _v}static get defaults(){return hy}static installModule(e){gs.prototype.__modules__||(gs.prototype.__modules__=[]);const n=gs.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>gs.installModule(n)),gs):(gs.installModule(e),gs)}};Object.keys(vv).forEach(t=>{Object.keys(vv[t]).forEach(e=>{_1.prototype[e]=vv[t][e]})});_1.use([hk,fk]);const ix=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Oa(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Jl(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Oa(e[r])&&Oa(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Jl(t[r],e[r]):t[r]=e[r]})}function sx(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function ox(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function ax(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function lx(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function _L(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function yL(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:a,scrollbarEl:l,paginationEl:u}=t;const d=i.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:p,pagination:m,navigation:g,scrollbar:_,virtual:C,thumbs:b}=e;let k,x,T,P,j,U,H,N;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(k=!0),i.includes("controller")&&r.controller&&r.controller.control&&p.controller&&!p.controller.control&&(x=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||u)&&(p.pagination||p.pagination===!1)&&m&&!m.el&&(T=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(p.scrollbar||p.scrollbar===!1)&&_&&!_.el&&(P=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(p.navigation||p.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(j=!0);const S=A=>{e[A]&&(e[A].destroy(),A==="navigation"?(e.isElement&&(e[A].prevEl.remove(),e[A].nextEl.remove()),p[A].prevEl=void 0,p[A].nextEl=void 0,e[A].prevEl=void 0,e[A].nextEl=void 0):(e.isElement&&e[A].el.remove(),p[A].el=void 0,e[A].el=void 0))};i.includes("loop")&&e.isElement&&(p.loop&&!r.loop?U=!0:!p.loop&&r.loop?H=!0:N=!0),d.forEach(A=>{if(Oa(p[A])&&Oa(r[A]))Object.assign(p[A],r[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in r[A]&&!r[A].enabled&&S(A);else{const R=r[A];(R===!0||R===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?R===!1&&S(A):p[A]=r[A]}}),d.includes("controller")&&!x&&e.controller&&e.controller.control&&p.controller&&p.controller.control&&(e.controller.control=p.controller.control),i.includes("children")&&n&&C&&p.virtual.enabled?(C.slides=n,C.update(!0)):i.includes("virtual")&&C&&p.virtual.enabled&&(n&&(C.slides=n),C.update(!0)),i.includes("children")&&n&&p.loop&&(N=!0),k&&b.init()&&b.update(!0),x&&(e.controller.control=p.controller.control),T&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(p.pagination.el=u),m.init(),m.render(),m.update()),P&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(p.scrollbar.el=l),_.init(),_.updateSize(),_.setTranslate()),j&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),s&&(p.navigation.nextEl=s),a&&(p.navigation.prevEl=a),g.init(),g.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(U||N)&&e.loopDestroy(),(H||N)&&e.loopCreate(),e.update()}function wL(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Jl(n,hy),n._emitClasses=!0,n.init=!1;const s={},a=ix.map(u=>u.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(u=>{typeof t[u]>"u"||(a.indexOf(u)>=0?Oa(t[u])?(n[u]={},i[u]={},Jl(n[u],t[u]),Jl(i[u],t[u])):(n[u]=t[u],i[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?e?r[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:s[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:i,rest:s,events:r}}function EL(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:a,swiper:l}=t;sx(e)&&r&&i&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),ox(e)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),ax(e)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function TL(t,e,n,r,i){const s=[];if(!e)return s;const a=u=>{s.indexOf(u)<0&&s.push(u)};if(n&&r){const u=r.map(i),d=n.map(i);u.join("")!==d.join("")&&a("children"),r.length!==n.length&&a("children")}return ix.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Oa(t[u])&&Oa(e[u])){const d=Object.keys(t[u]),p=Object.keys(e[u]);d.length!==p.length?a(u):(d.forEach(m=>{t[u][m]!==e[u][m]&&a(u)}),p.forEach(m=>{t[u][m]!==e[u][m]&&a(u)}))}else t[u]!==e[u]&&a(u)}),s}const SL=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function ux(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function cx(t){const e=[];return ke.Children.toArray(t).forEach(n=>{ux(n)?e.push(n):n.props&&n.props.children&&cx(n.props.children).forEach(r=>e.push(r))}),e}function CL(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ke.Children.toArray(t).forEach(r=>{if(ux(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=cx(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function IL(t,e,n){if(!n)return null;const r=p=>{let m=p;return p<0?m=e.length+p:m>=e.length&&(m=m-e.length),m},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,l=t.params.loop?-e.length:0,u=t.params.loop?e.length*2:e.length,d=[];for(let p=l;p<u;p+=1)p>=s&&p<=a&&d.push(e[r(p)]);return d.map((p,m)=>ke.cloneElement(p,{swiper:t,style:i,key:p.props.virtualIndex||p.key||`slide-${m}`}))}function Wc(t,e){return typeof window>"u"?M.useEffect(t,e):M.useLayoutEffect(t,e)}const sT=M.createContext(null),bL=M.createContext(null),y1=M.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:a,...l}=t===void 0?{}:t,u=!1;const[d,p]=M.useState("swiper"),[m,g]=M.useState(null),[_,C]=M.useState(!1),b=M.useRef(!1),k=M.useRef(null),x=M.useRef(null),T=M.useRef(null),P=M.useRef(null),j=M.useRef(null),U=M.useRef(null),H=M.useRef(null),N=M.useRef(null),{params:S,passedParams:A,rest:R,events:V}=wL(l),{slides:B,slots:D}=CL(s),re=()=>{C(!_)};Object.assign(S.on,{_containerClasses(ie,J){p(J)}});const fe=()=>{Object.assign(S.on,V),u=!0;const ie={...S};if(delete ie.wrapperClass,x.current=new _1(ie),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=B;const J={cache:!1,slides:B,renderExternal:g,renderExternalUpdate:!1};Jl(x.current.params.virtual,J),Jl(x.current.originalParams.virtual,J)}};k.current||fe(),x.current&&x.current.on("_beforeBreakpoint",re);const Ce=()=>{u||!V||!x.current||Object.keys(V).forEach(ie=>{x.current.on(ie,V[ie])})},Be=()=>{!V||!x.current||Object.keys(V).forEach(ie=>{x.current.off(ie,V[ie])})};M.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",re)}),M.useEffect(()=>{!b.current&&x.current&&(x.current.emitSlidesClasses(),b.current=!0)}),Wc(()=>{if(e&&(e.current=k.current),!!k.current)return x.current.destroyed&&fe(),EL({el:k.current,nextEl:j.current,prevEl:U.current,paginationEl:H.current,scrollbarEl:N.current,swiper:x.current},S),a&&!x.current.destroyed&&a(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),Wc(()=>{Ce();const ie=TL(A,T.current,B,P.current,J=>J.key);return T.current=A,P.current=B,ie.length&&x.current&&!x.current.destroyed&&yL({swiper:x.current,slides:B,passedParams:A,changedParams:ie,nextEl:j.current,prevEl:U.current,scrollbarEl:N.current,paginationEl:H.current}),()=>{Be()}}),Wc(()=>{SL(x.current)},[m]);function K(){return S.virtual?IL(x.current,B,m):B.map((ie,J)=>ke.cloneElement(ie,{swiper:x.current,swiperSlideIndex:J}))}return ke.createElement(r,Pp({ref:k,className:lx(`${d}${n?` ${n}`:""}`)},R),ke.createElement(bL.Provider,{value:x.current},D["container-start"],ke.createElement(i,{className:_L(S.wrapperClass)},D["wrapper-start"],K(),D["wrapper-end"]),sx(S)&&ke.createElement(ke.Fragment,null,ke.createElement("div",{ref:U,className:"swiper-button-prev"}),ke.createElement("div",{ref:j,className:"swiper-button-next"})),ax(S)&&ke.createElement("div",{ref:N,className:"swiper-scrollbar"}),ox(S)&&ke.createElement("div",{ref:H,className:"swiper-pagination"}),D["container-end"]))});y1.displayName="Swiper";const w1=M.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:a,lazy:l,virtualIndex:u,swiperSlideIndex:d,...p}=t===void 0?{}:t;const m=M.useRef(null),[g,_]=M.useState("swiper-slide"),[C,b]=M.useState(!1);function k(j,U,H){U===m.current&&_(H)}Wc(()=>{if(typeof d<"u"&&(m.current.swiperSlideIndex=d),e&&(e.current=m.current),!(!m.current||!s)){if(s.destroyed){g!=="swiper-slide"&&_("swiper-slide");return}return s.on("_slideClass",k),()=>{s&&s.off("_slideClass",k)}}}),Wc(()=>{s&&m.current&&!s.destroyed&&_(s.getSlideClasses(m.current))},[s]);const x={isActive:g.indexOf("swiper-slide-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0},T=()=>typeof r=="function"?r(x):r,P=()=>{b(!0)};return ke.createElement(n,Pp({ref:m,className:lx(`${g}${i?` ${i}`:""}`),"data-swiper-slide-index":u,onLoad:P},p),a&&ke.createElement(sT.Provider,{value:x},ke.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},T(),l&&!C&&ke.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&ke.createElement(sT.Provider,{value:x},T(),l&&!C&&ke.createElement("div",{className:"swiper-lazy-preloader"})))});w1.displayName="SwiperSlide";function xL(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=ji(t.el,`.${r[i]}`)[0];s||(s=bp("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function mc(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function PL(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:T=>T,formatFractionTotal:T=>T,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(T,P){const{bulletActiveClass:j}=e.params.pagination;T&&(T=T[`${P==="prev"?"previous":"next"}ElementSibling`],T&&(T.classList.add(`${j}-${P}`),T=T[`${P==="prev"?"previous":"next"}ElementSibling`],T&&T.classList.add(`${j}-${P}-${P}`)))}function p(T,P,j){if(T=T%j,P=P%j,P===T+1)return"next";if(P===T-1)return"previous"}function m(T){const P=T.target.closest(mc(e.params.pagination.bulletClass));if(!P)return;T.preventDefault();const j=xp(P)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===j)return;const U=p(e.realIndex,j,e.slides.length);U==="next"?e.slideNext():U==="previous"?e.slidePrev():e.slideToLoop(j)}else e.slideTo(j)}function g(){const T=e.rtl,P=e.params.pagination;if(u())return;let j=e.pagination.el;j=ps(j);let U,H;const N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,S=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(H=e.previousRealIndex||0,U=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(U=e.snapIndex,H=e.previousSnapIndex):(H=e.previousIndex||0,U=e.activeIndex||0),P.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const A=e.pagination.bullets;let R,V,B;if(P.dynamicBullets&&(a=cy(A[0],e.isHorizontal()?"width":"height"),j.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]=`${a*(P.dynamicMainBullets+4)}px`}),P.dynamicMainBullets>1&&H!==void 0&&(l+=U-(H||0),l>P.dynamicMainBullets-1?l=P.dynamicMainBullets-1:l<0&&(l=0)),R=Math.max(U-l,0),V=R+(Math.min(A.length,P.dynamicMainBullets)-1),B=(V+R)/2),A.forEach(D=>{const re=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(fe=>`${P.bulletActiveClass}${fe}`)].map(fe=>typeof fe=="string"&&fe.includes(" ")?fe.split(" "):fe).flat();D.classList.remove(...re)}),j.length>1)A.forEach(D=>{const re=xp(D);re===U?D.classList.add(...P.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),P.dynamicBullets&&(re>=R&&re<=V&&D.classList.add(...`${P.bulletActiveClass}-main`.split(" ")),re===R&&d(D,"prev"),re===V&&d(D,"next"))});else{const D=A[U];if(D&&D.classList.add(...P.bulletActiveClass.split(" ")),e.isElement&&A.forEach((re,fe)=>{re.setAttribute("part",fe===U?"bullet-active":"bullet")}),P.dynamicBullets){const re=A[R],fe=A[V];for(let Ce=R;Ce<=V;Ce+=1)A[Ce]&&A[Ce].classList.add(...`${P.bulletActiveClass}-main`.split(" "));d(re,"prev"),d(fe,"next")}}if(P.dynamicBullets){const D=Math.min(A.length,P.dynamicMainBullets+4),re=(a*D-a)/2-B*a,fe=T?"right":"left";A.forEach(Ce=>{Ce.style[e.isHorizontal()?fe:"top"]=`${re}px`})}}j.forEach((A,R)=>{if(P.type==="fraction"&&(A.querySelectorAll(mc(P.currentClass)).forEach(V=>{V.textContent=P.formatFractionCurrent(U+1)}),A.querySelectorAll(mc(P.totalClass)).forEach(V=>{V.textContent=P.formatFractionTotal(S)})),P.type==="progressbar"){let V;P.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const B=(U+1)/S;let D=1,re=1;V==="horizontal"?D=B:re=B,A.querySelectorAll(mc(P.progressbarFillClass)).forEach(fe=>{fe.style.transform=`translate3d(0,0,0) scaleX(${D}) scaleY(${re})`,fe.style.transitionDuration=`${e.params.speed}ms`})}P.type==="custom"&&P.renderCustom?(A.innerHTML=P.renderCustom(e,U+1,S),R===0&&i("paginationRender",A)):(R===0&&i("paginationRender",A),i("paginationUpdate",A)),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](P.lockClass)})}function _(){const T=e.params.pagination;if(u())return;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let j=e.pagination.el;j=ps(j);let U="";if(T.type==="bullets"){let H=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&H>P&&(H=P);for(let N=0;N<H;N+=1)T.renderBullet?U+=T.renderBullet.call(e,N,T.bulletClass):U+=`<${T.bulletElement} ${e.isElement?'part="bullet"':""} class="${T.bulletClass}"></${T.bulletElement}>`}T.type==="fraction"&&(T.renderFraction?U=T.renderFraction.call(e,T.currentClass,T.totalClass):U=`<span class="${T.currentClass}"></span> / <span class="${T.totalClass}"></span>`),T.type==="progressbar"&&(T.renderProgressbar?U=T.renderProgressbar.call(e,T.progressbarFillClass):U=`<span class="${T.progressbarFillClass}"></span>`),e.pagination.bullets=[],j.forEach(H=>{T.type!=="custom"&&(H.innerHTML=U||""),T.type==="bullets"&&e.pagination.bullets.push(...H.querySelectorAll(mc(T.bulletClass)))}),T.type!=="custom"&&i("paginationRender",j[0])}function C(){e.params.pagination=xL(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const T=e.params.pagination;if(!T.el)return;let P;typeof T.el=="string"&&e.isElement&&(P=e.el.querySelector(T.el)),!P&&typeof T.el=="string"&&(P=[...document.querySelectorAll(T.el)]),P||(P=T.el),!(!P||P.length===0)&&(e.params.uniqueNavElements&&typeof T.el=="string"&&Array.isArray(P)&&P.length>1&&(P=[...e.el.querySelectorAll(T.el)],P.length>1&&(P=P.filter(j=>Jb(j,".swiper")[0]===e.el)[0])),Array.isArray(P)&&P.length===1&&(P=P[0]),Object.assign(e.pagination,{el:P}),P=ps(P),P.forEach(j=>{T.type==="bullets"&&T.clickable&&j.classList.add(...(T.clickableClass||"").split(" ")),j.classList.add(T.modifierClass+T.type),j.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.type==="bullets"&&T.dynamicBullets&&(j.classList.add(`${T.modifierClass}${T.type}-dynamic`),l=0,T.dynamicMainBullets<1&&(T.dynamicMainBullets=1)),T.type==="progressbar"&&T.progressbarOpposite&&j.classList.add(T.progressbarOppositeClass),T.clickable&&j.addEventListener("click",m),e.enabled||j.classList.add(T.lockClass)}))}function b(){const T=e.params.pagination;if(u())return;let P=e.pagination.el;P&&(P=ps(P),P.forEach(j=>{j.classList.remove(T.hiddenClass),j.classList.remove(T.modifierClass+T.type),j.classList.remove(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.clickable&&(j.classList.remove(...(T.clickableClass||"").split(" ")),j.removeEventListener("click",m))})),e.pagination.bullets&&e.pagination.bullets.forEach(j=>j.classList.remove(...T.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const T=e.params.pagination;let{el:P}=e.pagination;P=ps(P),P.forEach(j=>{j.classList.remove(T.horizontalClass,T.verticalClass),j.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?x():(C(),_(),g())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&g()}),r("snapIndexChange",()=>{g()}),r("snapGridLengthChange",()=>{_(),g()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{el:T}=e.pagination;T&&(T=ps(T),T.forEach(P=>P.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{g()}),r("click",(T,P)=>{const j=P.target,U=ps(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&U&&U.length>0&&!j.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&j===e.navigation.nextEl||e.navigation.prevEl&&j===e.navigation.prevEl))return;const H=U[0].classList.contains(e.params.pagination.hiddenClass);i(H===!0?"paginationShow":"paginationHide"),U.forEach(N=>N.classList.toggle(e.params.pagination.hiddenClass))}});const k=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=ps(T),T.forEach(P=>P.classList.remove(e.params.pagination.paginationDisabledClass))),C(),_(),g()},x=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=ps(T),T.forEach(P=>P.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:k,disable:x,render:_,update:g,init:C,destroy:b})}function AL(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,u=s&&s.autoplay?s.autoplay.delay:3e3,d=s&&s.autoplay?s.autoplay.delay:3e3,p,m=new Date().getTime(),g,_,C,b,k,x,T;function P(K){!e||e.destroyed||!e.wrapperEl||K.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",P),!(T||K.detail&&K.detail.bySwiperTouchMove)&&R())}const j=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?g=!0:g&&(d=p,g=!1);const K=e.autoplay.paused?p:m+d-new Date().getTime();e.autoplay.timeLeft=K,i("autoplayTimeLeft",K,K/u),l=requestAnimationFrame(()=>{j()})},U=()=>{let K;return e.virtual&&e.params.virtual.enabled?K=e.slides.filter(J=>J.classList.contains("swiper-slide-active"))[0]:K=e.slides[e.activeIndex],K?parseInt(K.getAttribute("data-swiper-autoplay"),10):void 0},H=K=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),j();let ie=typeof K>"u"?e.params.autoplay.delay:K;u=e.params.autoplay.delay,d=e.params.autoplay.delay;const J=U();!Number.isNaN(J)&&J>0&&typeof K>"u"&&(ie=J,u=J,d=J),p=ie;const we=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(we,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,we,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(we,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,we,!0,!0),i("autoplay")),e.params.cssMode&&(m=new Date().getTime(),requestAnimationFrame(()=>{H()})))};return ie>0?(clearTimeout(a),a=setTimeout(()=>{ge()},ie)):requestAnimationFrame(()=>{ge()}),ie},N=()=>{m=new Date().getTime(),e.autoplay.running=!0,H(),i("autoplayStart")},S=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),i("autoplayStop")},A=(K,ie)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),K||(x=!0);const J=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",P):R()};if(e.autoplay.paused=!0,ie){k&&(p=e.params.autoplay.delay),k=!1,J();return}p=(p||e.params.autoplay.delay)-(new Date().getTime()-m),!(e.isEnd&&p<0&&!e.params.loop)&&(p<0&&(p=0),J())},R=()=>{e.isEnd&&p<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(m=new Date().getTime(),x?(x=!1,H(p)):H(),e.autoplay.paused=!1,i("autoplayResume"))},V=()=>{if(e.destroyed||!e.autoplay.running)return;const K=Is();K.visibilityState==="hidden"&&(x=!0,A(!0)),K.visibilityState==="visible"&&R()},B=K=>{K.pointerType==="mouse"&&(x=!0,T=!0,!(e.animating||e.autoplay.paused)&&A(!0))},D=K=>{K.pointerType==="mouse"&&(T=!1,e.autoplay.paused&&R())},re=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",B),e.el.addEventListener("pointerleave",D))},fe=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",B),e.el.removeEventListener("pointerleave",D))},Ce=()=>{Is().addEventListener("visibilitychange",V)},Be=()=>{Is().removeEventListener("visibilitychange",V)};r("init",()=>{e.params.autoplay.enabled&&(re(),Ce(),N())}),r("destroy",()=>{fe(),Be(),e.autoplay.running&&S()}),r("_freeModeStaticRelease",()=>{(C||x)&&R()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?S():A(!0,!0)}),r("beforeTransitionStart",(K,ie,J)=>{e.destroyed||!e.autoplay.running||(J||!e.params.autoplay.disableOnInteraction?A(!0,!0):S())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){S();return}_=!0,C=!1,x=!1,b=setTimeout(()=>{x=!0,C=!0,A(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!_)){if(clearTimeout(b),clearTimeout(a),e.params.autoplay.disableOnInteraction){C=!1,_=!1;return}C&&e.params.cssMode&&R(),C=!1,_=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(k=!0)}),Object.assign(e.autoplay,{start:N,stop:S,pause:A,resume:R})}const RL=()=>{const[t,e]=M.useState(window.innerWidth<768);M.useEffect(()=>{const r=()=>{e(window.innerWidth<768)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);const n=[{title:"Eventix",text:"Organize, create, and manage",image:t?"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg1%20caruseel%20mob.webp?alt=media&token=1a40d335-808e-4a34-b4b4-10b91b3a4065":"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg1%20caruusel.webp?alt=media&token=33ae14cc-287d-42c0-a2a6-a9171f6bed6a"},{title:"Eventix",text:"Organize, create, and manage",image:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg2%20carrusel.webp?alt=media&token=be71b30c-5834-4e3e-bc63-df308450fe8b"},{title:"Eventix",text:"Organize, create, and manage",image:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg3%20carrusel.webp?alt=media&token=6a6cd5f1-8505-401c-87ee-10af252c08da"}];return w.jsx(y1,{pagination:{clickable:!0},autoplay:{delay:4e3,disableOnInteraction:!1},modules:[PL,AL],className:"mySwiper",children:n.map((r,i)=>w.jsx(w1,{children:w.jsxs("div",{className:"banner-slide",style:{backgroundImage:`linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), 
                                linear-gradient(to bottom, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 1)), 
                                url(${r.image})`,backgroundSize:"cover",backgroundPosition:"center",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",textAlign:"center"},children:[w.jsx("h1",{id:"banner_title",children:r.title}),w.jsx("p",{id:"banner_text",children:r.text}),w.jsx(Qb,{showPrimary:!1,showSecondary:!0})]})},i))})},kL=()=>w.jsxs("div",{className:"landing-screen",children:[w.jsx(X7,{}),w.jsx(RL,{})]});var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|d>>6,_=d&63;u||(_=64,a||(g=64)),r.push(n[p],n[m],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new OL;const g=s<<2|l>>4;if(r.push(g),d!==64){const _=l<<4&240|d>>2;if(r.push(_),m!==64){const C=d<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NL=function(t){const e=dx(t);return hx.encodeByteArray(e,!0)},Ap=function(t){return NL(t).replace(/\./g,"")},fx=function(t){try{return hx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=()=>DL().__FIREBASE_DEFAULTS__,jL=()=>{if(typeof process>"u"||typeof oT>"u")return;const t=oT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fx(t[1]);return e&&JSON.parse(e)},Im=()=>{try{return ML()||jL()||FL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},px=t=>{var e,n;return(n=(e=Im())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mx=t=>{const e=px(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gx=()=>{var t;return(t=Im())===null||t===void 0?void 0:t.config},vx=t=>{var e;return(e=Im())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ap(JSON.stringify(n)),Ap(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $L(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function BL(){var t;const e=(t=Im())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WL(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GL(){return!BL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qL(){try{return typeof indexedDB=="object"}catch{return!1}}function KL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="FirebaseError";class Qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZL,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$d.prototype.create)}}class $d{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?QL(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Qi(i,l,r)}}function QL(t,e){return t.replace(YL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YL=/\{\$([^}]+)}/g;function XL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(aT(s)&&aT(a)){if(!wd(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JL(t,e){const n=new eO(t,e);return n.subscribe.bind(n)}class eO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yv),i.error===void 0&&(i.error=yv),i.complete===void 0&&(i.complete=yv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class zo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iO(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rO(t){return t===fa?void 0:t}function iO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const oO={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},aO=Xe.INFO,lO={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},uO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E1{constructor(e){this.name=e,this._logLevel=aO,this._logHandler=uO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const cO=(t,e)=>e.some(n=>t instanceof n);let lT,uT;function dO(){return lT||(lT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hO(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,fy=new WeakMap,wx=new WeakMap,wv=new WeakMap,T1=new WeakMap;function fO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(jo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&yx.set(n,t)}).catch(()=>{}),T1.set(e,t),e}function pO(t){if(fy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});fy.set(t,e)}let py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mO(t){py=t(py)}function gO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ev(this),e,...n);return wx.set(r,e.sort?e.sort():[e]),jo(r)}:hO().includes(t)?function(...e){return t.apply(Ev(this),e),jo(yx.get(this))}:function(...e){return jo(t.apply(Ev(this),e))}}function vO(t){return typeof t=="function"?gO(t):(t instanceof IDBTransaction&&pO(t),cO(t,dO())?new Proxy(t,py):t)}function jo(t){if(t instanceof IDBRequest)return fO(t);if(wv.has(t))return wv.get(t);const e=vO(t);return e!==t&&(wv.set(t,e),T1.set(e,t)),e}const Ev=t=>T1.get(t);function _O(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=jo(a);return r&&a.addEventListener("upgradeneeded",u=>{r(jo(a.result),u.oldVersion,u.newVersion,jo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const yO=["get","getKey","getAll","getAllKeys","count"],wO=["put","add","delete","clear"],Tv=new Map;function cT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tv.get(e))return Tv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yO.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return Tv.set(e,s),s}mO(t=>({...t,get:(e,n,r)=>cT(e,n)||t.get(e,n,r),has:(e,n)=>!!cT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const my="@firebase/app",dT="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new E1("@firebase/app"),SO="@firebase/app-compat",CO="@firebase/analytics-compat",IO="@firebase/analytics",bO="@firebase/app-check-compat",xO="@firebase/app-check",PO="@firebase/auth",AO="@firebase/auth-compat",RO="@firebase/database",kO="@firebase/data-connect",LO="@firebase/database-compat",OO="@firebase/functions",NO="@firebase/functions-compat",DO="@firebase/installations",MO="@firebase/installations-compat",jO="@firebase/messaging",FO="@firebase/messaging-compat",VO="@firebase/performance",$O="@firebase/performance-compat",BO="@firebase/remote-config",UO="@firebase/remote-config-compat",zO="@firebase/storage",HO="@firebase/storage-compat",WO="@firebase/firestore",GO="@firebase/vertexai-preview",qO="@firebase/firestore-compat",KO="firebase",ZO="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="[DEFAULT]",QO={[my]:"fire-core",[SO]:"fire-core-compat",[IO]:"fire-analytics",[CO]:"fire-analytics-compat",[xO]:"fire-app-check",[bO]:"fire-app-check-compat",[PO]:"fire-auth",[AO]:"fire-auth-compat",[RO]:"fire-rtdb",[kO]:"fire-data-connect",[LO]:"fire-rtdb-compat",[OO]:"fire-fn",[NO]:"fire-fn-compat",[DO]:"fire-iid",[MO]:"fire-iid-compat",[jO]:"fire-fcm",[FO]:"fire-fcm-compat",[VO]:"fire-perf",[$O]:"fire-perf-compat",[BO]:"fire-rc",[UO]:"fire-rc-compat",[zO]:"fire-gcs",[HO]:"fire-gcs-compat",[WO]:"fire-fst",[qO]:"fire-fst-compat",[GO]:"fire-vertex","fire-js":"fire-js",[KO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map,YO=new Map,vy=new Map;function hT(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(vy.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of Rp.values())hT(n,t);for(const n of YO.values())hT(n,t);return!0}function bm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new $d("app","Firebase",XO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=ZO;function Ex(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fo.create("bad-app-name",{appName:String(i)});if(n||(n=gx()),!n)throw Fo.create("no-options");const s=Rp.get(i);if(s){if(wd(n,s.options)&&wd(r,s.config))return s;throw Fo.create("duplicate-app",{appName:i})}const a=new sO(i);for(const u of vy.values())a.addComponent(u);const l=new JO(n,r,a);return Rp.set(i,l),l}function S1(t=gy){const e=Rp.get(t);if(!e&&t===gy&&gx())return Ex();if(!e)throw Fo.create("no-app",{appName:t});return e}function Bi(t,e,n){var r;let i=(r=QO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(l.join(" "));return}Na(new zo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebase-heartbeat-database",tN=1,Ed="firebase-heartbeat-store";let Sv=null;function Tx(){return Sv||(Sv=_O(eN,tN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fo.create("idb-open",{originalErrorMessage:t.message})})),Sv}async function nN(t){try{const n=(await Tx()).transaction(Ed),r=await n.objectStore(Ed).get(Sx(t));return await n.done,r}catch(e){if(e instanceof Qi)Ls.warn(e.message);else{const n=Fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function fT(t,e){try{const r=(await Tx()).transaction(Ed,"readwrite");await r.objectStore(Ed).put(e,Sx(t)),await r.done}catch(n){if(n instanceof Qi)Ls.warn(n.message);else{const r=Fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(r.message)}}}function Sx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1024,iN=30*24*60*60*1e3;class sN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=iN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pT(),{heartbeatsToSend:r,unsentEntries:i}=oN(this._heartbeatsCache.heartbeats),s=Ap(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ls.warn(n),""}}}function pT(){return new Date().toISOString().substring(0,10)}function oN(t,e=rN){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),mT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qL()?KL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mT(t){return Ap(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){Na(new zo("platform-logger",e=>new EO(e),"PRIVATE")),Na(new zo("heartbeat",e=>new sN(e),"PRIVATE")),Bi(my,dT,t),Bi(my,dT,"esm2017"),Bi("fire-js","")}lN("");var gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,Cx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function A(){}A.prototype=S.prototype,N.D=S.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(R,V,B){for(var D=Array(arguments.length-2),re=2;re<arguments.length;re++)D[re-2]=arguments[re];return S.prototype[V].apply(R,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,S,A){A||(A=0);var R=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)R[V]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(V=0;16>V;++V)R[V]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=N.g[0],A=N.g[1],V=N.g[2];var B=N.g[3],D=S+(B^A&(V^B))+R[0]+3614090360&4294967295;S=A+(D<<7&4294967295|D>>>25),D=B+(V^S&(A^V))+R[1]+3905402710&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(A^B&(S^A))+R[2]+606105819&4294967295,V=B+(D<<17&4294967295|D>>>15),D=A+(S^V&(B^S))+R[3]+3250441966&4294967295,A=V+(D<<22&4294967295|D>>>10),D=S+(B^A&(V^B))+R[4]+4118548399&4294967295,S=A+(D<<7&4294967295|D>>>25),D=B+(V^S&(A^V))+R[5]+1200080426&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(A^B&(S^A))+R[6]+2821735955&4294967295,V=B+(D<<17&4294967295|D>>>15),D=A+(S^V&(B^S))+R[7]+4249261313&4294967295,A=V+(D<<22&4294967295|D>>>10),D=S+(B^A&(V^B))+R[8]+1770035416&4294967295,S=A+(D<<7&4294967295|D>>>25),D=B+(V^S&(A^V))+R[9]+2336552879&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(A^B&(S^A))+R[10]+4294925233&4294967295,V=B+(D<<17&4294967295|D>>>15),D=A+(S^V&(B^S))+R[11]+2304563134&4294967295,A=V+(D<<22&4294967295|D>>>10),D=S+(B^A&(V^B))+R[12]+1804603682&4294967295,S=A+(D<<7&4294967295|D>>>25),D=B+(V^S&(A^V))+R[13]+4254626195&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(A^B&(S^A))+R[14]+2792965006&4294967295,V=B+(D<<17&4294967295|D>>>15),D=A+(S^V&(B^S))+R[15]+1236535329&4294967295,A=V+(D<<22&4294967295|D>>>10),D=S+(V^B&(A^V))+R[1]+4129170786&4294967295,S=A+(D<<5&4294967295|D>>>27),D=B+(A^V&(S^A))+R[6]+3225465664&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^A&(B^S))+R[11]+643717713&4294967295,V=B+(D<<14&4294967295|D>>>18),D=A+(B^S&(V^B))+R[0]+3921069994&4294967295,A=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(A^V))+R[5]+3593408605&4294967295,S=A+(D<<5&4294967295|D>>>27),D=B+(A^V&(S^A))+R[10]+38016083&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^A&(B^S))+R[15]+3634488961&4294967295,V=B+(D<<14&4294967295|D>>>18),D=A+(B^S&(V^B))+R[4]+3889429448&4294967295,A=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(A^V))+R[9]+568446438&4294967295,S=A+(D<<5&4294967295|D>>>27),D=B+(A^V&(S^A))+R[14]+3275163606&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^A&(B^S))+R[3]+4107603335&4294967295,V=B+(D<<14&4294967295|D>>>18),D=A+(B^S&(V^B))+R[8]+1163531501&4294967295,A=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(A^V))+R[13]+2850285829&4294967295,S=A+(D<<5&4294967295|D>>>27),D=B+(A^V&(S^A))+R[2]+4243563512&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^A&(B^S))+R[7]+1735328473&4294967295,V=B+(D<<14&4294967295|D>>>18),D=A+(B^S&(V^B))+R[12]+2368359562&4294967295,A=V+(D<<20&4294967295|D>>>12),D=S+(A^V^B)+R[5]+4294588738&4294967295,S=A+(D<<4&4294967295|D>>>28),D=B+(S^A^V)+R[8]+2272392833&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^A)+R[11]+1839030562&4294967295,V=B+(D<<16&4294967295|D>>>16),D=A+(V^B^S)+R[14]+4259657740&4294967295,A=V+(D<<23&4294967295|D>>>9),D=S+(A^V^B)+R[1]+2763975236&4294967295,S=A+(D<<4&4294967295|D>>>28),D=B+(S^A^V)+R[4]+1272893353&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^A)+R[7]+4139469664&4294967295,V=B+(D<<16&4294967295|D>>>16),D=A+(V^B^S)+R[10]+3200236656&4294967295,A=V+(D<<23&4294967295|D>>>9),D=S+(A^V^B)+R[13]+681279174&4294967295,S=A+(D<<4&4294967295|D>>>28),D=B+(S^A^V)+R[0]+3936430074&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^A)+R[3]+3572445317&4294967295,V=B+(D<<16&4294967295|D>>>16),D=A+(V^B^S)+R[6]+76029189&4294967295,A=V+(D<<23&4294967295|D>>>9),D=S+(A^V^B)+R[9]+3654602809&4294967295,S=A+(D<<4&4294967295|D>>>28),D=B+(S^A^V)+R[12]+3873151461&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^A)+R[15]+530742520&4294967295,V=B+(D<<16&4294967295|D>>>16),D=A+(V^B^S)+R[2]+3299628645&4294967295,A=V+(D<<23&4294967295|D>>>9),D=S+(V^(A|~B))+R[0]+4096336452&4294967295,S=A+(D<<6&4294967295|D>>>26),D=B+(A^(S|~V))+R[7]+1126891415&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~A))+R[14]+2878612391&4294967295,V=B+(D<<15&4294967295|D>>>17),D=A+(B^(V|~S))+R[5]+4237533241&4294967295,A=V+(D<<21&4294967295|D>>>11),D=S+(V^(A|~B))+R[12]+1700485571&4294967295,S=A+(D<<6&4294967295|D>>>26),D=B+(A^(S|~V))+R[3]+2399980690&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~A))+R[10]+4293915773&4294967295,V=B+(D<<15&4294967295|D>>>17),D=A+(B^(V|~S))+R[1]+2240044497&4294967295,A=V+(D<<21&4294967295|D>>>11),D=S+(V^(A|~B))+R[8]+1873313359&4294967295,S=A+(D<<6&4294967295|D>>>26),D=B+(A^(S|~V))+R[15]+4264355552&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~A))+R[6]+2734768916&4294967295,V=B+(D<<15&4294967295|D>>>17),D=A+(B^(V|~S))+R[13]+1309151649&4294967295,A=V+(D<<21&4294967295|D>>>11),D=S+(V^(A|~B))+R[4]+4149444226&4294967295,S=A+(D<<6&4294967295|D>>>26),D=B+(A^(S|~V))+R[11]+3174756917&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~A))+R[2]+718787259&4294967295,V=B+(D<<15&4294967295|D>>>17),D=A+(B^(V|~S))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var A=S-this.blockSize,R=this.B,V=this.h,B=0;B<S;){if(V==0)for(;B<=A;)i(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(R[V++]=N.charCodeAt(B++),V==this.blockSize){i(this,R),V=0;break}}else for(;B<S;)if(R[V++]=N[B++],V==this.blockSize){i(this,R),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var A=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=A&255,A/=256;for(this.u(N),N=Array(16),S=A=0;4>S;++S)for(var R=0;32>R;R+=8)N[A++]=this.g[S]>>>R&255;return N};function s(N,S){var A=l;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=S(N)}function a(N,S){this.h=S;for(var A=[],R=!0,V=N.length-1;0<=V;V--){var B=N[V]|0;R&&B==S||(A[V]=B,R=!1)}this.g=A}var l={};function u(N){return-128<=N&&128>N?s(N,function(S){return new a([S|0],0>S?-1:0)}):new a([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return k(d(-N));for(var S=[],A=1,R=0;N>=A;R++)S[R]=N/A|0,A*=4294967296;return new a(S,0)}function p(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return k(p(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=d(Math.pow(S,8)),R=m,V=0;V<N.length;V+=8){var B=Math.min(8,N.length-V),D=parseInt(N.substring(V,V+B),S);8>B?(B=d(Math.pow(S,B)),R=R.j(B).add(d(D))):(R=R.j(A),R=R.add(d(D)))}return R}var m=u(0),g=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(b(this))return-k(this).m();for(var N=0,S=1,A=0;A<this.g.length;A++){var R=this.i(A);N+=(0<=R?R:4294967296+R)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(b(this))return"-"+k(this).toString(N);for(var S=d(Math.pow(N,6)),A=this,R="";;){var V=j(A,S).g;A=x(A,V.j(S));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=V,C(A))return B+R;for(;6>B.length;)B="0"+B;R=B+R}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function b(N){return N.h==-1}t.l=function(N){return N=x(this,N),b(N)?-1:C(N)?0:1};function k(N){for(var S=N.g.length,A=[],R=0;R<S;R++)A[R]=~N.g[R];return new a(A,~N.h).add(g)}t.abs=function(){return b(this)?k(this):this},t.add=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],R=0,V=0;V<=S;V++){var B=R+(this.i(V)&65535)+(N.i(V)&65535),D=(B>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);R=D>>>16,B&=65535,D&=65535,A[V]=D<<16|B}return new a(A,A[A.length-1]&-2147483648?-1:0)};function x(N,S){return N.add(k(S))}t.j=function(N){if(C(this)||C(N))return m;if(b(this))return b(N)?k(this).j(k(N)):k(k(this).j(N));if(b(N))return k(this.j(k(N)));if(0>this.l(_)&&0>N.l(_))return d(this.m()*N.m());for(var S=this.g.length+N.g.length,A=[],R=0;R<2*S;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var V=0;V<N.g.length;V++){var B=this.i(R)>>>16,D=this.i(R)&65535,re=N.i(V)>>>16,fe=N.i(V)&65535;A[2*R+2*V]+=D*fe,T(A,2*R+2*V),A[2*R+2*V+1]+=B*fe,T(A,2*R+2*V+1),A[2*R+2*V+1]+=D*re,T(A,2*R+2*V+1),A[2*R+2*V+2]+=B*re,T(A,2*R+2*V+2)}for(R=0;R<S;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=S;R<2*S;R++)A[R]=0;return new a(A,0)};function T(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function P(N,S){this.g=N,this.h=S}function j(N,S){if(C(S))throw Error("division by zero");if(C(N))return new P(m,m);if(b(N))return S=j(k(N),S),new P(k(S.g),k(S.h));if(b(S))return S=j(N,k(S)),new P(k(S.g),S.h);if(30<N.g.length){if(b(N)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var A=g,R=S;0>=R.l(N);)A=U(A),R=U(R);var V=H(A,1),B=H(R,1);for(R=H(R,2),A=H(A,2);!C(R);){var D=B.add(R);0>=D.l(N)&&(V=V.add(A),B=D),R=H(R,1),A=H(A,1)}return S=x(N,V.j(S)),new P(V,S)}for(V=m;0<=N.l(S);){for(A=Math.max(1,Math.floor(N.m()/S.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),B=d(A),D=B.j(S);b(D)||0<D.l(N);)A-=R,B=d(A),D=B.j(S);C(B)&&(B=g),V=V.add(B),N=x(N,D)}return new P(V,N)}t.A=function(N){return j(this,N).h},t.and=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)&N.i(R);return new a(A,this.h&N.h)},t.or=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)|N.i(R);return new a(A,this.h|N.h)},t.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)^N.i(R);return new a(A,this.h^N.h)};function U(N){for(var S=N.g.length+1,A=[],R=0;R<S;R++)A[R]=N.i(R)<<1|N.i(R-1)>>>31;return new a(A,N.h)}function H(N,S){var A=S>>5;S%=32;for(var R=N.g.length-A,V=[],B=0;B<R;B++)V[B]=0<S?N.i(B+A)>>>S|N.i(B+A+1)<<32-S:N.i(B+A);return new a(V,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Cx=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,Sa=a}).apply(typeof gT<"u"?gT:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ix,kc,bx,Nf,_y,xx,Px,Ax;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,I){return h==Array.prototype||h==Object.prototype||(h[y]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var y=0;y<h.length;++y){var I=h[y];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,y){if(y)e:{var I=r;h=h.split(".");for(var F=0;F<h.length-1;F++){var G=h[F];if(!(G in I))break e;I=I[G]}h=h[h.length-1],F=I[h],y=y(F),y!=F&&y!=null&&e(I,h,{configurable:!0,writable:!0,value:y})}}function s(h,y){h instanceof String&&(h+="");var I=0,F=!1,G={next:function(){if(!F&&I<h.length){var Y=I++;return{value:y(Y,h[Y]),done:!1}}return F=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(h){return h||function(){return s(this,function(y,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,I){return h.call.apply(h.bind,arguments)}function m(h,y,I){if(!h)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,F),h.apply(y,G)}}return function(){return h.apply(y,arguments)}}function g(h,y,I){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,g.apply(null,arguments)}function _(h,y){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),h.apply(this,F)}}function C(h,y){function I(){}I.prototype=y.prototype,h.aa=y.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(F,G,Y){for(var le=Array(arguments.length-2),at=2;at<arguments.length;at++)le[at-2]=arguments[at];return y.prototype[G].apply(F,le)}}function b(h){const y=h.length;if(0<y){const I=Array(y);for(let F=0;F<y;F++)I[F]=h[F];return I}return[]}function k(h,y){for(let I=1;I<arguments.length;I++){const F=arguments[I];if(u(F)){const G=h.length||0,Y=F.length||0;h.length=G+Y;for(let le=0;le<Y;le++)h[G+le]=F[le]}else h.push(F)}}class x{constructor(y,I){this.i=y,this.j=I,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function T(h){return/^[\s\xa0]*$/.test(h)}function P(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function j(h){return j[" "](h),h}j[" "]=function(){};var U=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function H(h,y,I){for(const F in h)y.call(I,h[F],F,h)}function N(h,y){for(const I in h)y.call(void 0,h[I],I,h)}function S(h){const y={};for(const I in h)y[I]=h[I];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,y){let I,F;for(let G=1;G<arguments.length;G++){F=arguments[G];for(I in F)h[I]=F[I];for(let Y=0;Y<A.length;Y++)I=A[Y],Object.prototype.hasOwnProperty.call(F,I)&&(h[I]=F[I])}}function V(h){var y=1;h=h.split(":");const I=[];for(;0<y&&h.length;)I.push(h.shift()),y--;return h.length&&I.push(h.join(":")),I}function B(h){l.setTimeout(()=>{throw h},0)}function D(){var h=ie;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,I){const F=fe.get();F.set(y,I),this.h?this.h.next=F:this.g=F,this.h=F}}var fe=new x(()=>new Ce,h=>h.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(y,I){this.h=y,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,K=!1,ie=new re,J=()=>{const h=l.Promise.resolve(void 0);Be=()=>{h.then(we)}};var we=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(I){B(I)}var y=fe;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}K=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};l.addEventListener("test",I,y),l.removeEventListener("test",I,y)}catch{}return h}();function Ae(h,y){if(be.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,F=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(U){e:{try{j(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else I=="mouseover"?y=h.fromElement:I=="mouseout"&&(y=h.toElement);this.relatedTarget=y,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ae.aa.h.call(this)}}C(Ae,be);var Se={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),en=0;function yi(h,y,I,F,G){this.listener=h,this.proxy=null,this.src=y,this.type=I,this.capture=!!F,this.ha=G,this.key=++en,this.da=this.fa=!1}function Nn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dr(h){this.src=h,this.g={},this.h=0}Dr.prototype.add=function(h,y,I,F,G){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var le=Ji(h,y,F,G);return-1<le?(y=h[le],I||(y.fa=!1)):(y=new yi(y,this.src,Y,!!F,G),y.fa=I,h.push(y)),y};function Jr(h,y){var I=y.type;if(I in h.g){var F=h.g[I],G=Array.prototype.indexOf.call(F,y,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(F,G,1),Y&&(Nn(y),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Ji(h,y,I,F){for(var G=0;G<h.length;++G){var Y=h[G];if(!Y.da&&Y.listener==y&&Y.capture==!!I&&Y.ha==F)return G}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),pr={};function Hs(h,y,I,F,G){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Hs(h,y[Y],I,F,G);return null}return I=nl(I),h&&h[nt]?h.K(y,I,d(F)?!!F.capture:!!F,G):sa(h,y,I,!1,F,G)}function sa(h,y,I,F,G,Y){if(!y)throw Error("Invalid event type");var le=d(G)?!!G.capture:!!G,at=Gs(h);if(at||(h[Vt]=at=new Dr(h)),I=at.add(y,I,F,le,Y),I.proxy)return I;if(F=Zn(),I.proxy=F,F.src=h,F.listener=I,h.addEventListener)je||(G=le),G===void 0&&(G=!1),h.addEventListener(y.toString(),F,G);else if(h.attachEvent)h.attachEvent(es(y.toString()),F);else if(h.addListener&&h.removeListener)h.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Zn(){function h(I){return y.call(h.src,h.listener,I)}const y=tl;return h}function el(h,y,I,F,G){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)el(h,y[Y],I,F,G);else F=d(F)?!!F.capture:!!F,I=nl(I),h&&h[nt]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],I=Ji(Y,I,F,G),-1<I&&(Nn(Y[I]),Array.prototype.splice.call(Y,I,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=Gs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ji(y,I,F,G)),(I=-1<h?y[h]:null)&&Ws(I))}function Ws(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[nt])Jr(y.i,h);else{var I=h.type,F=h.proxy;y.removeEventListener?y.removeEventListener(I,F,h.capture):y.detachEvent?y.detachEvent(es(I),F):y.addListener&&y.removeListener&&y.removeListener(F),(I=Gs(y))?(Jr(I,h),I.h==0&&(I.src=null,y[Vt]=null)):Nn(h)}}}function es(h){return h in pr?pr[h]:pr[h]="on"+h}function tl(h,y){if(h.da)h=!0;else{y=new Ae(y,this);var I=h.listener,F=h.ha||h.src;h.fa&&Ws(h),h=I.call(F,y)}return h}function Gs(h){return h=h[Vt],h instanceof Dr?h:null}var oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function nl(h){return typeof h=="function"?h:(h[oa]||(h[oa]=function(y){return h.handleEvent(y)}),h[oa])}function ct(){ge.call(this),this.i=new Dr(this),this.M=this,this.F=null}C(ct,ge),ct.prototype[nt]=!0,ct.prototype.removeEventListener=function(h,y,I,F){el(this,h,y,I,F)};function Tt(h,y){var I,F=h.F;if(F)for(I=[];F;F=F.F)I.push(F);if(h=h.M,F=y.type||y,typeof y=="string")y=new be(y,h);else if(y instanceof be)y.target=y.target||h;else{var G=y;y=new be(F,h),R(y,G)}if(G=!0,I)for(var Y=I.length-1;0<=Y;Y--){var le=y.g=I[Y];G=wi(le,F,!0,y)&&G}if(le=y.g=h,G=wi(le,F,!0,y)&&G,G=wi(le,F,!1,y)&&G,I)for(Y=0;Y<I.length;Y++)le=y.g=I[Y],G=wi(le,F,!1,y)&&G}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var I=h.g[y],F=0;F<I.length;F++)Nn(I[F]);delete h.g[y],h.h--}}this.F=null},ct.prototype.K=function(h,y,I,F){return this.i.add(String(h),y,!1,I,F)},ct.prototype.L=function(h,y,I,F){return this.i.add(String(h),y,!0,I,F)};function wi(h,y,I,F){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,Y=0;Y<y.length;++Y){var le=y[Y];if(le&&!le.da&&le.capture==I){var at=le.listener,qt=le.ha||le.src;le.fa&&Jr(h.i,le),G=at.call(qt,F)!==!1&&G}}return G&&!F.defaultPrevented}function qs(h,y,I){if(typeof h=="function")I&&(h=g(h,I));else if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:l.setTimeout(h,y||0)}function Qn(h){h.g=qs(()=>{h.g=null,h.i&&(h.i=!1,Qn(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Yn extends ge{constructor(y,I){super(),this.m=y,this.l=I,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(h){ge.call(this),this.h=h,this.g={}}C(Ei,ge);var Ti=[];function Ks(h){H(h.g,function(y,I){this.g.hasOwnProperty(I)&&Ws(y)},h),h.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),Ks(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=l.JSON.stringify,rl=l.JSON.parse,Si=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Zs(){}Zs.prototype.h=null;function il(h){return h.h||(h.h=h.i())}function Qs(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ts(){be.call(this,"d")}C(ts,be);function ns(){be.call(this,"c")}C(ns,be);var Xn={},Ys=null;function Xs(){return Ys=Ys||new ct}Xn.La="serverreachability";function aa(h){be.call(this,Xn.La,h)}C(aa,be);function rs(h){const y=Xs();Tt(y,new aa(y))}Xn.STAT_EVENT="statevent";function is(h,y){be.call(this,Xn.STAT_EVENT,h),this.stat=y}C(is,be);function Ot(h){const y=Xs();Tt(y,new is(y,h))}Xn.Ma="timingevent";function ss(h,y){be.call(this,Xn.Ma,h),this.size=y}C(ss,be);function Ci(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},y)}function os(){this.g=!0}os.prototype.xa=function(){this.g=!1};function Jn(h,y,I,F,G,Y){h.info(function(){if(h.g)if(Y)for(var le="",at=Y.split("&"),qt=0;qt<at.length;qt++){var Je=at[qt].split("=");if(1<Je.length){var ht=Je[0];Je=Je[1];var xt=ht.split("_");le=2<=xt.length&&xt[1]=="type"?le+(ht+"="+Je+"&"):le+(ht+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+F+") [attempt "+G+"]: "+y+`
`+I+`
`+le})}function $(h,y,I,F,G,Y,le){h.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+G+"]: "+y+`
`+I+`
`+Y+" "+le})}function W(h,y,I,F){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ee(h,I)+(F?" "+F:"")})}function Z(h,y){h.info(function(){return"TIMEOUT: "+y})}os.prototype.info=function(){};function ee(h,y){if(!h.g)return y;if(!y)return null;try{var I=JSON.parse(y);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var F=I[h];if(!(2>F.length)){var G=F[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<G.length;le++)G[le]=""}}}}return Dn(I)}catch{return y}}var ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function ae(){}C(ae,Zs),ae.prototype.g=function(){return new XMLHttpRequest},ae.prototype.i=function(){return{}},xe=new ae;function _e(h,y,I,F){this.j=h,this.i=y,this.l=I,this.R=F||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var ye={},We={};function Ye(h,y,I){h.L=1,h.v=Fr(Nt(y)),h.m=I,h.P=!0,st(h,null)}function st(h,y){h.F=Date.now(),pt(h),h.A=Nt(h.v);var I=h.A,F=h.R;Array.isArray(F)||(F=[String(F)]),_h(I.i,"t",F),h.C=0,I=h.j.J,h.h=new ve,h.g=Ih(h.j,I?y:null,!h.m),0<h.O&&(h.M=new Yn(g(h.Y,h,h.g),h.O)),y=h.U,I=h.g,F=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ti[0]=G.toString()),G=Ti);for(var Y=0;Y<G.length;Y++){var le=Hs(I,G[Y],F||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),rs(),Jn(h.i,h.u,h.A,h.l,h.R,h.m)}_e.prototype.ca=function(h){h=h.target;const y=this.M;y&&jn(h)==3?y.j():this.Y(h)},_e.prototype.Y=function(h){try{if(h==this.g)e:{const xt=jn(this.g);var y=this.g.Ba();const io=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||xt!=4||y==7||(y==8||0>=io?rs(3):rs(2)),Mn(this);var I=this.g.Z();this.X=I;t:if(ze(this)){var F=Zu(this.g);h="";var G=F.length,Y=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),er(this);var le="";break t}this.h.i=new l.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,h+=this.h.i.decode(F[y],{stream:!(Y&&y==G-1)});F.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=I==200,$(this.i,this.u,this.A,this.l,this.R,xt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var at,qt=this.g;if((at=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(at)){var Je=at;break t}}Je=null}if(I=Je)W(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,I);else{this.o=!1,this.s=3,Ot(12),on(this),er(this);break e}}if(this.P){I=!0;let Bt;for(;!this.J&&this.C<le.length;)if(Bt=gt(this,le),Bt==We){xt==4&&(this.s=4,Ot(14),I=!1),W(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==ye){this.s=4,Ot(15),W(this.i,this.l,le,"[Invalid Chunk]"),I=!1;break}else W(this.i,this.l,Bt,null),Mr(this,Bt);if(ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||le.length!=0||this.h.h||(this.s=1,Ot(16),I=!1),this.o=this.o&&I,!I)W(this.i,this.l,le,"[Invalid Chunked Response]"),on(this),er(this);else if(0<le.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),fl(ht),ht.M=!0,Ot(11))}}else W(this.i,this.l,le,null),Mr(this,le);xt==4&&on(this),this.o&&!this.J&&(xt==4?Yu(this.j,this):(this.o=!1,pt(this)))}else Rg(this.g),I==400&&0<le.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),on(this),er(this)}}}catch{}finally{}};function ze(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function gt(h,y){var I=h.C,F=y.indexOf(`
`,I);return F==-1?We:(I=Number(y.substring(I,F)),isNaN(I)?ye:(F+=1,F+I>y.length?We:(y=y.slice(F,F+I),h.C=F+I,y)))}_e.prototype.cancel=function(){this.J=!0,on(this)};function pt(h){h.S=Date.now()+h.I,Ii(h,h.I)}function Ii(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ci(g(h.ba,h),y)}function Mn(h){h.B&&(l.clearTimeout(h.B),h.B=null)}_e.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Z(this.i,this.A),this.L!=2&&(rs(),Ot(17)),on(this),this.s=2,er(this)):Ii(this,this.S-h)};function er(h){h.j.G==0||h.J||Yu(h.j,h)}function on(h){Mn(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Ks(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Mr(h,y){try{var I=h.j;if(I.G!=0&&(I.g==h||ue(I.h,h))){if(!h.K&&ue(I.h,h)&&I.G==3){try{var F=I.Da.g.parse(y)}catch{F=null}if(Array.isArray(F)&&F.length==3){var G=F;if(G[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)ml(I),dl(I);else break e;hl(I),Ot(18)}}else I.za=G[1],0<I.za-I.T&&37500>G[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ci(g(I.Za,I),6e3));if(1>=gr(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else cs(I,11)}else if((h.K||I.g==h)&&ml(I),!T(y))for(G=I.Da.g.parse(y),y=0;y<G.length;y++){let Je=G[y];if(I.T=Je[0],Je=Je[1],I.G==2)if(Je[0]=="c"){I.K=Je[1],I.ia=Je[2];const ht=Je[3];ht!=null&&(I.la=ht,I.j.info("VER="+I.la));const xt=Je[4];xt!=null&&(I.Aa=xt,I.j.info("SVER="+I.Aa));const io=Je[5];io!=null&&typeof io=="number"&&0<io&&(F=1.5*io,I.L=F,I.j.info("backChannelRequestTimeoutMs_="+F)),F=I;const Bt=h.g;if(Bt){const vl=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var Y=F.h;Y.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Re(Y,Y.h),Y.h=null))}if(F.D){const Ri=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ri&&(F.ya=Ri,De(F.I,F.D,Ri))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),F=I;var le=h;if(F.qa=gl(F,F.J?F.ia:null,F.W),le.K){$t(F.h,le);var at=le,qt=F.L;qt&&(at.I=qt),at.B&&(Mn(at),pt(at)),F.g=le}else ni(F);0<I.i.length&&ro(I)}else Je[0]!="stop"&&Je[0]!="close"||cs(I,7);else I.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?cs(I,7):cl(I):Je[0]!="noop"&&I.l&&I.l.ta(Je),I.v=0)}}rs(4)}catch{}}var mn=class{constructor(h,y){this.g=h,this.map=y}};function bi(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gr(h){return h.h?1:h.g?h.g.size:0}function ue(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Re(h,y){h.g?h.g.add(y):h.h=y}function $t(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}bi.prototype.cancel=function(){if(this.i=rt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rt(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const I of h.g.values())y=y.concat(I.D);return y}return b(h.i)}function an(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(u(h)){for(var y=[],I=h.length,F=0;F<I;F++)y.push(h[F]);return y}y=[],I=0;for(F in h)y[I++]=h[F];return y}function Js(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(u(h)||typeof h=="string"){var y=[];h=h.length;for(var I=0;I<h;I++)y.push(I);return y}y=[],I=0;for(const F in h)y[I++]=F;return y}}}function Fe(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(u(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var I=Js(h),F=an(h),G=F.length,Y=0;Y<G;Y++)y.call(void 0,F[Y],I&&I[Y],h)}var St=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fu(h,y){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var F=h[I].indexOf("="),G=null;if(0<=F){var Y=h[I].substring(0,F);G=h[I].substring(F+1)}else Y=h[I];y(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function jr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof jr){this.h=h.h,sl(this,h.j),this.o=h.o,this.g=h.g,as(this,h.s),this.l=h.l;var y=h.i,I=new ls;I.i=y.i,y.g&&(I.g=new Map(y.g),I.h=y.h),Pi(this,I),this.m=h.m}else h&&(y=String(h).match(St))?(this.h=!1,sl(this,y[1]||"",!0),this.o=ei(y[2]||""),this.g=ei(y[3]||"",!0),as(this,y[4]),this.l=ei(y[5]||"",!0),Pi(this,y[6]||"",!0),this.m=ei(y[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}jr.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ti(y,eo,!0),":");var I=this.g;return(I||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ti(y,eo,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(ti(I,I.charAt(0)=="/"?Bu:$u,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",ti(I,Uu)),h.join("")};function Nt(h){return new jr(h)}function sl(h,y,I){h.j=I?ei(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function as(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Pi(h,y,I){y instanceof ls?(h.i=y,Vr(h.i,h.h)):(I||(y=ti(y,ol)),h.i=new ls(y,h.h))}function De(h,y,I){h.i.set(y,I)}function Fr(h){return De(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ei(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ti(h,y,I){return typeof h=="string"?(h=encodeURI(h).replace(y,Vu),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Vu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eo=/[#\/\?@]/g,$u=/[#\?:]/g,Bu=/[#\?]/g,ol=/[#\?@]/g,Uu=/#/g;function ls(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function vr(h){h.g||(h.g=new Map,h.h=0,h.i&&Fu(h.i,function(y,I){h.add(decodeURIComponent(y.replace(/\+/g," ")),I)}))}t=ls.prototype,t.add=function(h,y){vr(this),this.i=null,h=Le(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(y),this.h+=1,this};function zu(h,y){vr(h),y=Le(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function al(h,y){return vr(h),y=Le(h,y),h.g.has(y)}t.forEach=function(h,y){vr(this),this.g.forEach(function(I,F){I.forEach(function(G){h.call(y,G,F,this)},this)},this)},t.na=function(){vr(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),I=[];for(let F=0;F<y.length;F++){const G=h[F];for(let Y=0;Y<G.length;Y++)I.push(y[F])}return I},t.V=function(h){vr(this);let y=[];if(typeof h=="string")al(this,h)&&(y=y.concat(this.g.get(Le(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)y=y.concat(h[I])}return y},t.set=function(h,y){return vr(this),this.i=null,h=Le(this,h),al(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function _h(h,y,I){zu(h,y),0<I.length&&(h.i=null,h.g.set(Le(h,y),b(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var I=0;I<y.length;I++){var F=y[I];const Y=encodeURIComponent(String(F)),le=this.V(F);for(F=0;F<le.length;F++){var G=Y;le[F]!==""&&(G+="="+encodeURIComponent(String(le[F]))),h.push(G)}}return this.i=h.join("&")};function Le(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Vr(h,y){y&&!h.j&&(vr(h),h.i=null,h.g.forEach(function(I,F){var G=F.toLowerCase();F!=G&&(zu(this,F),_h(this,G,I))},h)),h.j=y}function dt(h,y){const I=new os;if(l.Image){const F=new Image;F.onload=_($r,I,"TestLoadImage: loaded",!0,y,F),F.onerror=_($r,I,"TestLoadImage: error",!1,y,F),F.onabort=_($r,I,"TestLoadImage: abort",!1,y,F),F.ontimeout=_($r,I,"TestLoadImage: timeout",!1,y,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=h}else y(!1)}function yh(h,y){const I=new os,F=new AbortController,G=setTimeout(()=>{F.abort(),$r(I,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:F.signal}).then(Y=>{clearTimeout(G),Y.ok?$r(I,"TestPingServer: ok",!0,y):$r(I,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),$r(I,"TestPingServer: error",!1,y)})}function $r(h,y,I,F,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),F(I)}catch{}}function Hu(){this.g=new Si}function Wu(h,y,I){const F=I||"";try{Fe(h,function(G,Y){let le=G;d(G)&&(le=Dn(G)),y.push(F+Y+"="+encodeURIComponent(le))})}catch(G){throw y.push(F+"type="+encodeURIComponent("_badmap")),G}}function Br(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Br,Zs),Br.prototype.g=function(){return new to(this.l,this.j)},Br.prototype.i=function(h){return function(){return h}}({});function to(h,y){ct.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(to,ct),t=to.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,_r(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||l).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bt(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;no(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function no(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?bt(this):_r(this),this.readyState==3&&no(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,bt(this))},t.Qa=function(h){this.g&&(this.response=h,bt(this))},t.ga=function(){this.g&&bt(this)};function bt(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_r(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var I=y.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=y.next();return h.join(`\r
`)};function _r(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gu(h){let y="";return H(h,function(I,F){y+=F,y+=":",y+=I,y+=`\r
`}),y}function ll(h,y,I){e:{for(F in I){var F=!1;break e}F=!0}F||(I=Gu(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):De(h,y,I))}function Ct(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ct,ct);var wh=/^https?$/i,qu=["POST","PUT"];t=Ct.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,I,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?il(this.o):il(xe),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Eh(this,Y);return}if(h=I||"",I=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var G in F)I.set(G,F[G]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const Y of F.keys())I.set(Y,F.get(Y));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(I.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call(qu,y,void 0))||F||G||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of I)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Eh(this,Y)}};function Eh(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ku(h),ul(h)}function Ku(h){h.A||(h.A=!0,Tt(h,"complete"),Tt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Tt(this,"complete"),Tt(this,"abort"),ul(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ul(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ge(this):this.bb())},t.bb=function(){Ge(this)};function Ge(h){if(h.h&&typeof a<"u"&&(!h.v[1]||jn(h)!=4||h.Z()!=2)){if(h.u&&jn(h)==4)qs(h.Ea,0,h);else if(Tt(h,"readystatechange"),jn(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var I;if(!(I=y)){var F;if(F=le===0){var G=String(h.D).match(St)[1]||null;!G&&l.self&&l.self.location&&(G=l.self.location.protocol.slice(0,-1)),F=!wh.test(G?G.toLowerCase():"")}I=F}if(I)Tt(h,"complete"),Tt(h,"success");else{h.m=6;try{var Y=2<jn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",Ku(h)}}finally{ul(h)}}}}function ul(h,y){if(h.g){tr(h);const I=h.g,F=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Tt(h,"ready");try{I.onreadystatechange=F}catch{}}}function tr(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function jn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),rl(y)}};function Zu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rg(h){const y={};h=(h.g&&2<=jn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<h.length;F++){if(T(h[F]))continue;var I=V(h[F]);const G=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Y=y[G]||[];y[G]=Y,Y.push(I)}N(y,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(h,y,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||y}function Th(h){this.Aa=0,this.i=[],this.j=new os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,h),this.cb=us("retryDelaySeedMs",1e4,h),this.Wa=us("forwardChannelMaxRetries",2,h),this.wa=us("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(h&&h.concurrentRequestLimit),this.Da=new Hu,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Th.prototype,t.la=8,t.G=1,t.connect=function(h,y,I,F){Ot(0),this.W=h,this.H=y||{},I&&F!==void 0&&(this.H.OSID=I,this.H.OAID=F),this.F=this.X,this.I=gl(this,null,this.W),ro(this)};function cl(h){if(Sh(h),h.G==3){var y=h.U++,I=Nt(h.I);if(De(I,"SID",h.K),De(I,"RID",y),De(I,"TYPE","terminate"),la(h,I),y=new _e(h,h.j,y),y.L=2,y.v=Fr(Nt(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(y.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=y.v,I=!0),I||(y.g=Ih(y.j,null),y.g.ea(y.v)),y.F=Date.now(),pt(y)}Ch(h)}function dl(h){h.g&&(fl(h),h.g.cancel(),h.g=null)}function Sh(h){dl(h),h.u&&(l.clearTimeout(h.u),h.u=null),ml(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function ro(h){if(!xi(h.h)&&!h.s){h.s=!0;var y=h.Ga;Be||J(),K||(Be(),K=!0),ie.add(y,h),h.B=0}}function kg(h,y){return gr(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ci(g(h.Ga,h,y),Xu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new _e(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=S(Y),R(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var y=0,I=0;I<this.i.length;I++){t:{var F=this.i[I];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(y+=F,4096<y){y=I;break e}if(y===4096||I===this.i.length-1){y=I+1;break e}}y=1e3}else y=1e3;y=Qu(this,G,y),I=Nt(this.I),De(I,"RID",h),De(I,"CVER",22),this.D&&De(I,"X-HTTP-Session-Id",this.D),la(this,I),Y&&(this.O?y="headers="+encodeURIComponent(String(Gu(Y)))+"&"+y:this.m&&ll(I,this.m,Y)),Re(this.h,G),this.Ua&&De(I,"TYPE","init"),this.P?(De(I,"$req",y),De(I,"SID","null"),G.T=!0,Ye(G,I,null)):Ye(G,I,y),this.G=2}}else this.G==3&&(h?yr(this,h):this.i.length==0||xi(this.h)||yr(this))};function yr(h,y){var I;y?I=y.l:I=h.U++;const F=Nt(h.I);De(F,"SID",h.K),De(F,"RID",I),De(F,"AID",h.T),la(h,F),h.m&&h.o&&ll(F,h.m,h.o),I=new _e(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Qu(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Re(h.h,I),Ye(I,F,y)}function la(h,y){h.H&&H(h.H,function(I,F){De(y,F,I)}),h.l&&Fe({},function(I,F){De(y,F,I)})}function Qu(h,y,I){I=Math.min(h.i.length,I);var F=h.l?g(h.l.Na,h.l,h):null;e:{var G=h.i;let Y=-1;for(;;){const le=["count="+I];Y==-1?0<I?(Y=G[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let at=!0;for(let qt=0;qt<I;qt++){let Je=G[qt].g;const ht=G[qt].map;if(Je-=Y,0>Je)Y=Math.max(0,G[qt].g-100),at=!1;else try{Wu(ht,le,"req"+Je+"_")}catch{F&&F(ht)}}if(at){F=le.join("&");break e}}}return h=h.i.splice(0,I),y.D=h,F}function ni(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Be||J(),K||(Be(),K=!0),ie.add(y,h),h.v=0}}function hl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ci(g(h.Fa,h),Xu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,pl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ci(g(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),dl(this),pl(this))};function fl(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function pl(h){h.g=new _e(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Nt(h.qa);De(y,"RID","rpc"),De(y,"SID",h.K),De(y,"AID",h.T),De(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&De(y,"TO",h.ja),De(y,"TYPE","xmlhttp"),la(h,y),h.m&&h.o&&ll(y,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=Fr(Nt(y)),I.m=null,I.P=!0,st(I,h)}t.Za=function(){this.C!=null&&(this.C=null,dl(this),hl(this),Ot(19))};function ml(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Yu(h,y){var I=null;if(h.g==y){ml(h),fl(h),h.g=null;var F=2}else if(ue(h.h,y))I=y.D,$t(h.h,y),F=1;else return;if(h.G!=0){if(y.o)if(F==1){I=y.m?y.m.length:0,y=Date.now()-y.F;var G=h.B;F=Xs(),Tt(F,new ss(F,I)),ro(h)}else ni(h);else if(G=y.s,G==3||G==0&&0<y.X||!(F==1&&kg(h,y)||F==2&&hl(h)))switch(I&&0<I.length&&(y=h.h,y.i=y.i.concat(I)),G){case 1:cs(h,5);break;case 4:cs(h,10);break;case 3:cs(h,6);break;default:cs(h,2)}}}function Xu(h,y){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*y}function cs(h,y){if(h.j.info("Error code "+y),y==2){var I=g(h.fb,h),F=h.Xa;const G=!F;F=new jr(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||sl(F,"https"),Fr(F),G?dt(F.toString(),I):yh(F.toString(),I)}else Ot(2);h.G=0,h.l&&h.l.sa(y),Ch(h),Sh(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Ch(h){if(h.G=0,h.ka=[],h.l){const y=rt(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ka,y),k(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function gl(h,y,I){var F=I instanceof jr?Nt(I):new jr(I);if(F.g!="")y&&(F.g=y+"."+F.g),as(F,F.s);else{var G=l.location;F=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var Y=new jr(null);F&&sl(Y,F),y&&(Y.g=y),G&&as(Y,G),I&&(Y.l=I),F=Y}return I=h.D,y=h.ya,I&&y&&De(F,I,y),De(F,"VER",h.la),la(h,F),F}function Ih(h,y,I){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ct(new Br({eb:I})):new Ct(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}t=Ju.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ua(){}ua.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){ct.call(this),this.g=new Th(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!T(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!T(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ur(this)}C(ln,ct),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){cl(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=Dn(h),h=I);y.i.push(new mn(y.Ya++,h)),y.G==3&&ro(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,ln.aa.N.call(this)};function Ai(h){ts.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const I in y){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Ai,ts);function bh(){ns.call(this),this.status=1}C(bh,ns);function Ur(h){this.g=h}C(Ur,Ju),Ur.prototype.ua=function(){Tt(this.g,"a")},Ur.prototype.ta=function(h){Tt(this.g,new Ai(h))},Ur.prototype.sa=function(h){Tt(this.g,new bh)},Ur.prototype.ra=function(){Tt(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Ax=function(){return new ua},Px=function(){return Xs()},xx=Xn,_y={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,Nf=ce,Ee.COMPLETE="complete",bx=Ee,Qs.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,kc=Qs,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,Ix=Ct}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new E1("@firebase/firestore");function gc(){return Da.logLevel}function Te(t,...e){if(Da.logLevel<=Xe.DEBUG){const n=e.map(C1);Da.debug(`Firestore (${Ru}): ${t}`,...n)}}function Os(t,...e){if(Da.logLevel<=Xe.ERROR){const n=e.map(C1);Da.error(`Firestore (${Ru}): ${t}`,...n)}}function hu(t,...e){if(Da.logLevel<=Xe.WARN){const n=e.map(C1);Da.warn(`Firestore (${Ru}): ${t}`,...n)}}function C1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: `+t;throw Os(e),new Error(e)}function ut(t,e){t||Me()}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class cN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dN{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new Rx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new bn(e)}}class hN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ut(this.o===void 0);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new pN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function fu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new rn(0,0))}static max(){return new Ve(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(),r===void 0?r=e.length-n:r>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Td.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Td?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends Td{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const vN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Td{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return vN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(yt.fromString(e))}static fromName(e){return new Ie(yt.fromString(e).popFirst(5))}static empty(){return new Ie(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new yt(e.slice()))}}function _N(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Ho(i,Ie.empty(),e)}function yN(t){return new Ho(t.readTime,t.key,-1)}class Ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ho(Ve.min(),Ie.empty(),-1)}static max(){return new Ho(Ve.max(),Ie.empty(),-1)}}function wN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==EN)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(p=>{a[d]=p,++l,l===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function SN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}I1.oe=-1;function xm(t){return t==null}function kp(t){return t===0&&1/t==-1/0}function CN(t){return typeof t=="number"&&Number.isInteger(t)&&!kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=s??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yT(this.data.getIterator())}getIteratorFrom(e){return new yT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class yT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new wn(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ox("Invalid base64 string: "+s):s}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const IN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(t){if(ut(!!t),typeof t=="string"){let e=0;const n=IN.exec(t);if(ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x1(t){const e=t.mapValue.fields.__previous_value__;return b1(e)?x1(e):e}function Sd(t){const e=Wo(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r,i,s,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class Cd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b1(t)?4:PN(t)?9007199254740991:xN(t)?10:11:Me()}function Ki(t,e){if(t===e)return!0;const n=ja(t);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Wo(i.timestampValue),l=Wo(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ma(i.bytesValue).isEqual(Ma(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ut(i.geoPointValue.latitude)===Ut(s.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ut(i.integerValue)===Ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ut(i.doubleValue),l=Ut(s.doubleValue);return a===l?kp(a)===kp(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return fu(t.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(_T(a)!==_T(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Ki(a[u],l[u])))return!1;return!0}(t,e);default:return Me()}}function Id(t,e){return(t.values||[]).find(n=>Ki(n,e))!==void 0}function pu(t,e){if(t===e)return 0;const n=ja(t),r=ja(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ut(s.integerValue||s.doubleValue),u=Ut(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return wT(t.timestampValue,e.timestampValue);case 4:return wT(Sd(t),Sd(e));case 5:return it(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Ma(s),u=Ma(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=it(l[d],u[d]);if(p!==0)return p}return it(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=it(Ut(s.latitude),Ut(a.latitude));return l!==0?l:it(Ut(s.longitude),Ut(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ET(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,d,p;const m=s.fields||{},g=a.fields||{},_=(l=m.value)===null||l===void 0?void 0:l.arrayValue,C=(u=g.value)===null||u===void 0?void 0:u.arrayValue,b=it(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0);return b!==0?b:ET(_,C)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===af.mapValue&&a===af.mapValue)return 0;if(s===af.mapValue)return 1;if(a===af.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const g=it(u[m],p[m]);if(g!==0)return g;const _=pu(l[u[m]],d[p[m]]);if(_!==0)return _}return it(u.length,p.length)}(t.mapValue,e.mapValue);default:throw Me()}}function wT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=Wo(t),r=Wo(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function ET(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=pu(n[i],r[i]);if(s)return s}return it(n.length,r.length)}function mu(t){return yy(t)}function yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ma(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=yy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${yy(n.fields[a])}`;return i+"}"}(t.mapValue):Me()}function TT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wy(t){return!!t&&"integerValue"in t}function P1(t){return!!t&&"arrayValue"in t}function ST(t){return!!t&&"nullValue"in t}function CT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function xN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=_n.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Gc(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Df(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ga(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sr(Gc(this.value))}}function Nx(t){const e=[];return Ga(t.fields,(n,r)=>{const i=new _n([n]);if(Df(r)){const s=Nx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Pn(e,0,Ve.min(),Ve.min(),Ve.min(),sr.empty(),0)}static newFoundDocument(e,n,r,i){return new Pn(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Pn(e,2,n,Ve.min(),Ve.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Ve.min(),Ve.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.position=e,this.inclusive=n}}function IT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(a.referenceValue),n.key):r=pu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n="asc"){this.field=e,this.dir=n}}function AN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{}class Xt extends Dx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kN(e,n,r):n==="array-contains"?new NN(e,r):n==="in"?new DN(e,r):n==="not-in"?new MN(e,r):n==="array-contains-any"?new jN(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LN(e,r):new ON(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pu(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends Dx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new pi(e,n)}matches(e){return Mx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mx(t){return t.op==="and"}function jx(t){return RN(t)&&Mx(t)}function RN(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function Ey(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(jx(t))return t.filters.map(e=>Ey(e)).join(",");{const e=t.filters.map(n=>Ey(n)).join(",");return`${t.op}(${e})`}}function Fx(t,e){return t instanceof Xt?function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&Ki(r.value,i.value)}(t,e):t instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&Fx(a,i.filters[l]),!0):!1}(t,e):void Me()}function Vx(t){return t instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${mu(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(Vx).join(" ,")+"}"}(t):"Filter"}class kN extends Xt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class LN extends Xt{constructor(e,n){super(e,"in",n),this.keys=$x("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ON extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=$x("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $x(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class NN extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P1(n)&&Id(n.arrayValue,this.value)}}class DN extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Id(this.value.arrayValue,n)}}class MN extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Id(this.value.arrayValue,n)}}class jN extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ue=null}}function xT(t,e=null,n=[],r=[],i=null,s=null,a=null){return new FN(t,e,n,r,i,s,a)}function A1(t){const e=$e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ey(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),e.ue=n}return e.ue}function R1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bT(t.startAt,e.startAt)&&bT(t.endAt,e.endAt)}function Ty(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VN(t,e,n,r,i,s,a,l){return new Hd(t,e,n,r,i,s,a,l)}function Pm(t){return new Hd(t)}function PT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bx(t){return t.collectionGroup!==null}function qc(t){const e=$e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new wn(_n.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Op(s,r))}),n.has(_n.keyField().canonicalString())||e.ce.push(new Op(_n.keyField(),r))}return e.ce}function Ui(t){const e=$e(t);return e.le||(e.le=$N(e,qc(t))),e.le}function $N(t,e){if(t.limitType==="F")return xT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Op(i.field,s)});const n=t.endAt?new Lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lp(t.startAt.position,t.startAt.inclusive):null;return xT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sy(t,e){const n=t.filters.concat([e]);return new Hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cy(t,e,n){return new Hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Am(t,e){return R1(Ui(t),Ui(e))&&t.limitType===e.limitType}function Ux(t){return`${A1(Ui(t))}|lt:${t.limitType}`}function Pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Vx(i)).join(", ")}]`),xm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mu(i)).join(",")),`Target(${r})`}(Ui(t))}; limitType=${t.limitType})`}function Rm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const d=IT(a,l,u);return a.inclusive?d<=0:d<0}(r.startAt,qc(r),i)||r.endAt&&!function(a,l,u){const d=IT(a,l,u);return a.inclusive?d>=0:d>0}(r.endAt,qc(r),i))}(t,e)}function BN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zx(t){return(e,n)=>{let r=!1;for(const i of qc(t)){const s=UN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function UN(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),d=l.data.field(s);return u!==null&&d!==null?pu(u,d):Me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Lx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Lt(Ie.comparator);function Ns(){return zN}const Hx=new Lt(Ie.comparator);function Lc(...t){let e=Hx;for(const n of t)e=e.insert(n.key,n);return e}function Wx(t){let e=Hx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ya(){return Kc()}function Gx(){return Kc()}function Kc(){return new ku(t=>t.toString(),(t,e)=>t.isEqual(e))}const HN=new Lt(Ie.comparator),WN=new wn(Ie.comparator);function Ze(...t){let e=WN;for(const n of t)e=e.add(n);return e}const GN=new wn(it);function qN(){return GN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function qx(t){return{integerValue:""+t}}function KN(t,e){return CN(e)?qx(e):k1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this._=void 0}}function ZN(t,e,n){return t instanceof Np?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&b1(s)&&(s=x1(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof gu?Zx(t,e):t instanceof bd?Qx(t,e):function(i,s){const a=Kx(i,s),l=AT(a)+AT(i.Pe);return wy(a)&&wy(i.Pe)?qx(l):k1(i.serializer,l)}(t,e)}function QN(t,e,n){return t instanceof gu?Zx(t,e):t instanceof bd?Qx(t,e):n}function Kx(t,e){return t instanceof Dp?function(r){return wy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Np extends km{}class gu extends km{constructor(e){super(),this.elements=e}}function Zx(t,e){const n=Yx(e);for(const r of t.elements)n.some(i=>Ki(i,r))||n.push(r);return{arrayValue:{values:n}}}class bd extends km{constructor(e){super(),this.elements=e}}function Qx(t,e){let n=Yx(e);for(const r of t.elements)n=n.filter(i=>!Ki(i,r));return{arrayValue:{values:n}}}class Dp extends km{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function AT(t){return Ut(t.integerValue||t.doubleValue)}function Yx(t){return P1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.field=e,this.transform=n}}function XN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gu&&i instanceof gu||r instanceof bd&&i instanceof bd?fu(r.elements,i.elements,Ki):r instanceof Dp&&i instanceof Dp?Ki(r.Pe,i.Pe):r instanceof Np&&i instanceof Np}(t.transform,e.transform)}class JN{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lm{}function Xx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new L1(t.key,Kr.none()):new Wd(t.key,t.data,Kr.none());{const n=t.data,r=sr.empty();let i=new wn(_n.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Xo(t.key,r,new Cr(i.toArray()),Kr.none())}}function eD(t,e,n){t instanceof Wd?function(i,s,a){const l=i.value.clone(),u=kT(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Xo?function(i,s,a){if(!Mf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=kT(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(Jx(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Zc(t,e,n,r){return t instanceof Wd?function(s,a,l,u){if(!Mf(s.precondition,a))return l;const d=s.value.clone(),p=LT(s.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xo?function(s,a,l,u){if(!Mf(s.precondition,a))return l;const d=LT(s.fieldTransforms,u,a),p=a.data;return p.setAll(Jx(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,l){return Mf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function tD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Kx(r.transform,i||null);s!=null&&(n===null&&(n=sr.empty()),n.set(r.field,s))}return n||null}function RT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fu(r,i,(s,a)=>XN(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wd extends Lm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xo extends Lm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Jx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kT(t,e,n){const r=new Map;ut(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,QN(a,l,n[i]))}return r}function LT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,ZN(s,a,e))}return r}class L1 extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nD extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Gx();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=Xx(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&fu(this.mutations,e.mutations,(n,r)=>RT(n,r))&&fu(this.baseMutations,e.baseMutations,(n,r)=>RT(n,r))}}class O1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length);let i=function(){return HN}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new O1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,et;function oD(t){switch(t){default:return Me();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function eP(t){if(t===void 0)return Os("GRPC error has no .code"),te.UNKNOWN;switch(t){case Zt.OK:return te.OK;case Zt.CANCELLED:return te.CANCELLED;case Zt.UNKNOWN:return te.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return te.INTERNAL;case Zt.UNAVAILABLE:return te.UNAVAILABLE;case Zt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Zt.NOT_FOUND:return te.NOT_FOUND;case Zt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Zt.ABORTED:return te.ABORTED;case Zt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Zt.DATA_LOSS:return te.DATA_LOSS;default:return Me()}}(et=Zt||(Zt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Sa([4294967295,4294967295],0);function OT(t){const e=aD().encode(t),n=new Cx;return n.update(e),new Uint8Array(n.digest())}function NT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sa([n,r],0),new Sa([i,s],0)]}class N1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Sa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Sa.fromNumber(r)));return i.compare(lD)===1&&(i=new Sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=OT(e),[r,i]=NT(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new N1(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=OT(e),[r,i]=NT(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Om(Ve.min(),i,new Lt(it),Ns(),Ze())}}class Gd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gd(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class tP{constructor(e,n){this.targetId=e,this.me=n}}class nP{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DT{constructor(){this.fe=0,this.ge=jT(),this.pe=Tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ze(),n=Ze(),r=Ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me()}}),new Gd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ns(),this.qe=MT(),this.Qe=new Lt(it)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ty(s))if(r===0){const a=new Ie(s.path);this.Ue(n,a,Pn.newNoDocument(a,Ve.min()))}else ut(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Ma(r).toUint8Array()}catch(u){if(u instanceof Ox)return hu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new N1(a,i,s)}catch(u){return hu(u instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const l=this.Je(a);if(l){if(s.current&&Ty(l.target)){const u=new Ie(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,Pn.newNoDocument(u,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Ze();this.qe.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Om(e,n,this.Qe,this.ke,r);return this.ke=Ns(),this.qe=MT(),this.Qe=new Lt(it),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new DT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wn(it),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new DT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function MT(){return new Lt(Ie.comparator)}function jT(){return new Lt(Ie.comparator)}const cD={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hD={and:"AND",or:"OR"};class fD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iy(t,e){return t.useProto3Json||xm(e)?e:{value:e}}function Mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pD(t,e){return Mp(t,e.toTimestamp())}function zi(t){return ut(!!t),Ve.fromTimestamp(function(n){const r=Wo(n);return new rn(r.seconds,r.nanos)}(t))}function D1(t,e){return by(t,e).canonicalString()}function by(t,e){const n=function(i){return new yt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iP(t){const e=yt.fromString(t);return ut(uP(e)),e}function xy(t,e){return D1(t.databaseId,e.path)}function Cv(t,e){const n=iP(e);if(n.get(1)!==t.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(oP(n))}function sP(t,e){return D1(t.databaseId,e)}function mD(t){const e=iP(t);return e.length===4?yt.emptyPath():oP(e)}function Py(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oP(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FT(t,e,n){return{name:xy(t,e),fields:n.value.mapValue.fields}}function gD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(ut(p===void 0||typeof p=="string"),Tn.fromBase64String(p||"")):(ut(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Tn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const p=d.code===void 0?te.UNKNOWN:eP(d.code);return new me(p,d.message||"")}(a);n=new nP(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cv(t,r.document.name),s=zi(r.document.updateTime),a=r.document.createTime?zi(r.document.createTime):Ve.min(),l=new sr({mapValue:{fields:r.document.fields}}),u=Pn.newFoundDocument(i,s,a,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new jf(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cv(t,r.document),s=r.readTime?zi(r.readTime):Ve.min(),a=Pn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new jf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cv(t,r.document),s=r.removedTargetIds||[];n=new jf([],s,i,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new sD(i,s),l=r.targetId;n=new tP(l,a)}}return n}function vD(t,e){let n;if(e instanceof Wd)n={update:FT(t,e.key,e.value)};else if(e instanceof L1)n={delete:xy(t,e.key)};else if(e instanceof Xo)n={update:FT(t,e.key,e.data),updateMask:bD(e.fieldMask)};else{if(!(e instanceof nD))return Me();n={verify:xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Np)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof gu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof bd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dp)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me()}(t,e.precondition)),n}function _D(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?zi(i.updateTime):zi(s);return a.isEqual(Ve.min())&&(a=zi(s)),new JN(a,i.transformResults||[])}(n,e))):[]}function yD(t,e){return{documents:[sP(t,e.path)]}}function wD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sP(t,i);const s=function(d){if(d.length!==0)return lP(pi.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(g){return{field:Al(g.field),direction:SD(g.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Iy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function ED(t){let e=mD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const g=aP(m);return g instanceof pi&&jx(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(g=>function(C){return new Op(Rl(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,xm(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,_=m.values||[];return new Lp(_,g)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const g=!m.before,_=m.values||[];return new Lp(_,g)}(n.endAt)),VN(e,i,a,s,l,"F",u,d)}function TD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rl(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rl(n.unaryFilter.field);return Xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Rl(n.unaryFilter.field);return Xt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(t):t.fieldFilter!==void 0?function(n){return Xt.create(Rl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>aP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me()}}(n.compositeFilter.op))}(t):Me()}function SD(t){return cD[t]}function CD(t){return dD[t]}function ID(t){return hD[t]}function Al(t){return{fieldPath:t.canonicalString()}}function Rl(t){return _n.fromServerFormat(t.fieldPath)}function lP(t){return t instanceof Xt?function(n){if(n.op==="=="){if(CT(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NAN"}};if(ST(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CT(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NAN"}};if(ST(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(n.field),op:CD(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(i=>lP(i));return r.length===1?r[0]:{compositeFilter:{op:ID(n.op),filters:r}}}(t):Me()}function bD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,i,s=Ve.min(),a=Ve.min(),l=Tn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.ct=e}}function PD(t){const e=ED({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.un=new RD}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Ho.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class RD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wn(yt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vu(0)}static kn(){return new vu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.changes=new ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zc(r.mutation,i,Cr.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=ya();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Lc();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ya();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=Ns();const a=Kc(),l=function(){return Kc()}();return n.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Xo)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),Zc(p.mutation,d,p.mutation.getFieldMask(),rn.now())):a.set(d.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var m;return l.set(d,new LD(p,(m=a.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Kc();let i=new Lt((a,l)=>a-l),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||Cr.empty();p=l.applyToLocalView(d,p),r.set(u,p);const m=(i.get(l.batchId)||Ze()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,m=Gx();p.forEach(g=>{if(!s.has(g)){const _=Xx(n.get(g),r.get(g));_!==null&&m.set(g,_),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return se.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(ya());let l=-1,u=s;return a.next(d=>se.forEach(d,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(p)?se.resolve():this.remoteDocumentCache.getEntry(e,p).next(g=>{u=u.insert(p,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Ze())).next(p=>({batchId:l,changes:Wx(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=Lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Lc();return this.indexManager.getCollectionParents(e,s).next(l=>se.forEach(l,u=>{const d=function(m,g){return new Hd(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,Pn.newInvalidDocument(p)))});let l=Lc();return a.forEach((u,d)=>{const p=s.get(u);p!==void 0&&Zc(p.mutation,d,Cr.empty(),rn.now()),Rm(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zi(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PD(i.bundledQuery),readTime:zi(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.overlays=new Lt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ya();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=ya(),s=n.length+1,a=new Ie(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Lt((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=ya(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=ya(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return se.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new iD(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.Tr=new wn(dn.Er),this.dr=new wn(dn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ie(new yt([])),r=new dn(n,e),i=new dn(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new yt([])),r=new dn(n,e),i=new dn(n,e+1);let s=Ze();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new dn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||it(e.wr,n.wr)}static Ar(e,n){return it(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wn(dn.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new rD(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.br=this.br.add(new dn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(a)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const l=this.Dr(a.wr);s.push(l)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(it);return n.forEach(i=>{const s=new dn(i,0),a=new dn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],l=>{r=r.add(l.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const a=new dn(new Ie(s),0);let l=new wn(it);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.wr)),!0)},a),se.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ut(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return se.forEach(n.mutations,i=>{const s=new dn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new dn(n,0),i=this.br.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.Mr=e,this.docs=function(){return new Lt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=Ns();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ns();const a=n.path,l=new Ie(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||wN(yN(p),r)<=0||(i.has(p.key)||Rm(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Me()}Or(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VD(this)}getSize(e){return se.resolve(this.size)}}class VD extends kD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.persistence=e,this.Nr=new ku(n=>A1(n),R1),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new M1,this.targetCount=0,this.kr=vu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new I1(0),this.Kr=!1,this.Kr=!0,this.$r=new MD,this.referenceDelegate=e(this),this.Ur=new $D(this),this.indexManager=new AD,this.remoteDocumentCache=function(i){return new FD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new xD(n),this.Gr=new ND(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new jD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new UD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class UD extends TN{constructor(e){super(),this.currentSequenceNumber=e}}class j1{constructor(e){this.persistence=e,this.Jr=new M1,this.Yr=null}static Zr(e){return new j1(e)}get Xr(){if(this.Yr)return this.Yr;throw Me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const i=Ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ze(),i=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new F1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GL()?8:SN(On())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new zD;return this.Xi(e,n,a).next(l=>{if(s.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(gc()<=Xe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(gc()<=Xe.DEBUG&&Te("QueryEngine","Query:",Pl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gc()<=Xe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):se.resolve())}Yi(e,n){if(PT(n))return se.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cy(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ze(...s);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,l);return this.ns(n,d,a,u.readTime)?this.Yi(e,Cy(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return PT(n)||i.isEqual(Ve.min())?se.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?se.resolve(null):(gc()<=Xe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pl(n)),this.rs(e,a,n,_N(i,-1)).next(l=>l))})}ts(e,n){let r=new wn(zx(e));return n.forEach((i,s)=>{Rm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return gc()<=Xe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Pl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ho.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Lt(it),this._s=new ku(s=>A1(s),R1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GD(t,e,n,r){return new WD(t,e,n,r)}async function cP(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let u=Ze();for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:l}))})})}function qD(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,d,p){const m=d.batch,g=m.keys();let _=se.resolve();return g.forEach(C=>{_=_.next(()=>p.getEntry(u,C)).next(b=>{const k=d.docVersions.get(C);ut(k!==null),b.version.compareTo(k)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),p.addEntry(b)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Ze();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dP(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function KD(t,e){const n=$e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((p,m)=>{const g=i.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,m)));let _=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(Tn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),function(b,k,x){return b.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,_,p)&&l.push(n.Ur.updateTargetData(s,_))});let u=Ns(),d=Ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(ZD(s,a,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(Ve.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return se.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.os=i,s))}function ZD(t,e,n){let r=Ze(),i=Ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ns();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ve.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Te("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Ps:a,Is:i}})}function QD(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YD(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new xo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ay(t,e,n){const r=$e(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!zd(a))throw a;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function VT(t,e,n){const r=$e(t);let i=Ve.min(),s=Ze();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,p){const m=$e(u),g=m._s.get(p);return g!==void 0?se.resolve(m.os.get(g)):m.Ur.getTargetData(d,p)}(r,a,Ui(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Ve.min(),n?s:Ze())).next(l=>(XD(r,BN(e),l),{documents:l,Ts:s})))}function XD(t,e,n){let r=t.us.get(e)||Ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class $T{constructor(){this.activeTargetIds=qN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(){this.so=new $T,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $T,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=null;function Iv(){return lf===null?lf=function(){return 268435456+Math.round(2147483648*Math.random())}():lf++,"0x"+lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class rM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const l=Iv(),u=this.xo(n,r.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,a),this.No(n,u,d,i).then(p=>(Te("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw hu("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,a,l){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ru}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=tM[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Iv();return new Promise((a,l)=>{const u=new Ix;u.setWithCredentials(!0),u.listenOnce(bx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nf.NO_ERROR:const p=u.getResponseJson();Te(In,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Nf.TIMEOUT:Te(In,`RPC '${e}' ${s} timed out`),l(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const m=u.getStatus();if(Te(In,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const C=function(k){const x=k.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(x)>=0?x:te.UNKNOWN}(_.status);l(new me(C,_.message))}else l(new me(te.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new me(te.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{Te(In,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Te(In,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const i=Iv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ax(),l=Px(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");Te(In,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=a.createWebChannel(p,u);let g=!1,_=!1;const C=new nM({Io:k=>{_?Te(In,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(g||(Te(In,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Te(In,`RPC '${e}' stream ${i} sending:`,k),m.send(k))},To:()=>m.close()}),b=(k,x,T)=>{k.listen(x,P=>{try{T(P)}catch(j){setTimeout(()=>{throw j},0)}})};return b(m,kc.EventType.OPEN,()=>{_||(Te(In,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),b(m,kc.EventType.CLOSE,()=>{_||(_=!0,Te(In,`RPC '${e}' stream ${i} transport closed`),C.So())}),b(m,kc.EventType.ERROR,k=>{_||(_=!0,hu(In,`RPC '${e}' stream ${i} transport errored:`,k),C.So(new me(te.UNAVAILABLE,"The operation could not be completed")))}),b(m,kc.EventType.MESSAGE,k=>{var x;if(!_){const T=k.data[0];ut(!!T);const P=T,j=P.error||((x=P[0])===null||x===void 0?void 0:x.error);if(j){Te(In,`RPC '${e}' stream ${i} received error:`,j);const U=j.status;let H=function(A){const R=Zt[A];if(R!==void 0)return eP(R)}(U),N=j.message;H===void 0&&(H=te.INTERNAL,N="Unknown error status: "+U+" with message "+j.message),_=!0,C.So(new me(H,N)),m.close()}else Te(In,`RPC '${e}' stream ${i} received:`,T),C.bo(T)}}),b(l,xx.STAT_EVENT,k=>{k.stat===_y.PROXY?Te(In,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===_y.NOPROXY&&Te(In,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function bv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){return new fD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,r,i,s,a,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Os(n.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new me(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iM extends fP{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gD(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ve.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ve.min():a.readTime?zi(a.readTime):Ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Py(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Ty(u)?{documents:yD(s,u)}:{query:wD(s,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=rP(s,a.resumeToken);const d=Iy(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ve.min())>0){l.readTime=Mp(s,a.snapshotVersion.toTimestamp());const d=Iy(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=TD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.a_(n)}}class sM extends fP{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_D(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Py(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,by(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(te.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,by(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(te.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Os(n),this.D_=!1):Te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{qa(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=$e(u);d.L_.add(4),await qd(d),d.q_.set("Unknown"),d.L_.delete(4),await Dm(d)}(this))})}),this.q_=new aM(r,i)}}async function Dm(t){if(qa(t))for(const e of t.B_)await e(!0)}async function qd(t){for(const e of t.B_)await e(!1)}function pP(t,e){const n=$e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),U1(n)?B1(n):Lu(n).r_()&&$1(n,e))}function V1(t,e){const n=$e(t),r=Lu(n);n.N_.delete(e),r.r_()&&mP(n,e),n.N_.size===0&&(r.r_()?r.o_():qa(n)&&n.q_.set("Unknown"))}function $1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lu(t).A_(e)}function mP(t,e){t.Q_.xe(e),Lu(t).R_(e)}function B1(t){t.Q_=new uD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lu(t).start(),t.q_.v_()}function U1(t){return qa(t)&&!Lu(t).n_()&&t.N_.size>0}function qa(t){return $e(t).L_.size===0}function gP(t){t.Q_=void 0}async function uM(t){t.q_.set("Online")}async function cM(t){t.N_.forEach((e,n)=>{$1(t,e)})}async function dM(t,e){gP(t),U1(t)?(t.q_.M_(e),B1(t)):t.q_.set("Unknown")}async function hM(t,e,n){if(t.q_.set("Online"),e instanceof nP&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jp(t,r)}else if(e instanceof jf?t.Q_.Ke(e):e instanceof tP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ve.min()))try{const r=await dP(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.Q_.rt(a);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,d)=>{const p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Tn.EMPTY_BYTE_STRING,p.snapshotVersion)),mP(s,u);const m=new xo(p.target,u,d,p.sequenceNumber);$1(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Te("RemoteStore","Failed to raise snapshot:",r),await jp(t,r)}}async function jp(t,e,n){if(!zd(e))throw e;t.L_.add(1),await qd(t),t.q_.set("Offline"),n||(n=()=>dP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dm(t)})}function vP(t,e){return e().catch(n=>jp(t,n,e))}async function Mm(t){const e=$e(t),n=Go(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fM(e);)try{const i=await QD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pM(e,i)}catch(i){await jp(e,i)}_P(e)&&yP(e)}function fM(t){return qa(t)&&t.O_.length<10}function pM(t,e){t.O_.push(e);const n=Go(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _P(t){return qa(t)&&!Go(t).n_()&&t.O_.length>0}function yP(t){Go(t).start()}async function mM(t){Go(t).p_()}async function gM(t){const e=Go(t);for(const n of t.O_)e.m_(n.mutations)}async function vM(t,e,n){const r=t.O_.shift(),i=O1.from(r,e,n);await vP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mm(t)}async function _M(t,e){e&&Go(t).V_&&await async function(r,i){if(function(a){return oD(a)&&a!==te.ABORTED}(i.code)){const s=r.O_.shift();Go(r).s_(),await vP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Mm(r)}}(t,e),_P(t)&&yP(t)}async function UT(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const r=qa(n);n.L_.add(3),await qd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dm(n)}async function yM(t,e){const n=$e(t);e?(n.L_.delete(2),await Dm(n)):e||(n.L_.add(2),await qd(n),n.q_.set("Unknown"))}function Lu(t){return t.K_||(t.K_=function(n,r,i){const s=$e(n);return s.w_(),new iM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:uM.bind(null,t),Ro:cM.bind(null,t),mo:dM.bind(null,t),d_:hM.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),U1(t)?B1(t):t.q_.set("Unknown")):(await t.K_.stop(),gP(t))})),t.K_}function Go(t){return t.U_||(t.U_=function(n,r,i){const s=$e(n);return s.w_(),new sM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mM.bind(null,t),mo:_M.bind(null,t),f_:gM.bind(null,t),g_:vM.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Mm(t)):(await t.U_.stop(),t.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new z1(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H1(t,e){if(Os("AsyncQueue",`${e}: ${t}`),zd(t))return new me(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Lc(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new eu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.W_=new Lt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _u{constructor(e,n,r,i,s,a,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new _u(e,n,eu.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EM{constructor(){this.queries=HT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=$e(n),s=i.queries;i.queries=HT(),s.forEach((a,l)=>{for(const u of l.j_)u.onError(r)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function HT(){return new ku(t=>Ux(t),Am)}async function W1(t,e){const n=$e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new wM,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=H1(a,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&q1(n)}async function G1(t,e){const n=$e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TM(t,e){const n=$e(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.j_)l.X_(i)&&(r=!0);a.z_=i}}r&&q1(n)}function SM(t,e,n){const r=$e(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function q1(t){t.Y_.forEach(e=>{e.next()})}var Ry,WT;(WT=Ry||(Ry={})).ea="default",WT.Cache="cache";class K1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.key=e}}class EP{constructor(e){this.key=e}}class CM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ze(),this.mutatedKeys=Ze(),this.Aa=zx(e),this.Ra=new eu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zT,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const g=i.get(p),_=Rm(this.query,m)?m:null,C=!!g&&this.mutatedKeys.has(g.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;g&&_?g.data.isEqual(_.data)?C!==b&&(r.track({type:3,doc:_}),k=!0):this.ga(g,_)||(r.track({type:2,doc:_}),k=!0,(u&&this.Aa(_,u)>0||d&&this.Aa(_,d)<0)&&(l=!0)):!g&&_?(r.track({type:0,doc:_}),k=!0):g&&!_&&(r.track({type:1,doc:g}),k=!0,(u||d)&&(l=!0)),k&&(_?(a=a.add(_),s=b?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:a,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,m)=>function(_,C){const b=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return b(_)-b(C)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,a.length!==0||d?{snapshot:new _u(this.query,e.Ra,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new EP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wP(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _u.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bM{constructor(e){this.key=e,this.va=!1}}class xM{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ku(l=>Ux(l),Am),this.Ma=new Map,this.xa=new Set,this.Oa=new Lt(Ie.comparator),this.Na=new Map,this.La=new M1,this.Ba={},this.ka=new Map,this.qa=vu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PM(t,e,n=!0){const r=xP(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await TP(r,e,n,!0),i}async function AM(t,e){const n=xP(t);await TP(n,e,!0,!1)}async function TP(t,e,n,r){const i=await YD(t.localStore,Ui(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await RM(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&pP(t.remoteStore,i),l}async function RM(t,e,n,r,i){t.Ka=(m,g,_)=>async function(b,k,x,T){let P=k.view.ma(x);P.ns&&(P=await VT(b.localStore,k.query,!1).then(({documents:N})=>k.view.ma(N,P)));const j=T&&T.targetChanges.get(k.targetId),U=T&&T.targetMismatches.get(k.targetId)!=null,H=k.view.applyChanges(P,b.isPrimaryClient,j,U);return qT(b,k.targetId,H.wa),H.snapshot}(t,m,g,_);const s=await VT(t.localStore,e,!0),a=new CM(e,s.Ts),l=a.ma(s.documents),u=Gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,u);qT(t,n,d.wa);const p=new IM(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function kM(t,e,n){const r=$e(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Am(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&V1(r.remoteStore,i.targetId),ky(r,i.targetId)}).catch(Ud)):(ky(r,i.targetId),await Ay(r.localStore,i.targetId,!0))}async function LM(t,e){const n=$e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),V1(n.remoteStore,r.targetId))}async function OM(t,e,n){const r=$M(t);try{const i=await function(a,l){const u=$e(a),d=rn.now(),p=l.reduce((_,C)=>_.add(C.key),Ze());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=Ns(),b=Ze();return u.cs.getEntries(_,p).next(k=>{C=k,C.forEach((x,T)=>{T.isValidDocument()||(b=b.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(k=>{m=k;const x=[];for(const T of l){const P=tD(T,m.get(T.key).overlayedDocument);P!=null&&x.push(new Xo(T.key,P,Nx(P.value.mapValue),Kr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,x,l)}).next(k=>{g=k;const x=k.applyToLocalDocumentSet(m,b);return u.documentOverlayCache.saveOverlays(_,k.batchId,x)})}).then(()=>({batchId:g.batchId,changes:Wx(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let d=a.Ba[a.currentUser.toKey()];d||(d=new Lt(it)),d=d.insert(l,u),a.Ba[a.currentUser.toKey()]=d}(r,i.batchId,n),await Kd(r,i.changes),await Mm(r.remoteStore)}catch(i){const s=H1(i,"Failed to persist write");n.reject(s)}}async function SP(t,e){const n=$e(t);try{const r=await KD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?ut(a.va):i.removedDocuments.size>0&&(ut(a.va),a.va=!1))}),await Kd(n,r,e)}catch(r){await Ud(r)}}function GT(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const l=a.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=$e(a);u.onlineState=l;let d=!1;u.queries.forEach((p,m)=>{for(const g of m.j_)g.Z_(l)&&(d=!0)}),d&&q1(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NM(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Lt(Ie.comparator);a=a.insert(s,Pn.newNoDocument(s,Ve.min()));const l=Ze().add(s),u=new Om(Ve.min(),new Map,new Lt(it),a,l);await SP(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Z1(r)}else await Ay(r.localStore,e,!1).then(()=>ky(r,e,n)).catch(Ud)}async function DM(t,e){const n=$e(t),r=e.batch.batchId;try{const i=await qD(n.localStore,e);IP(n,r,null),CP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kd(n,i)}catch(i){await Ud(i)}}async function MM(t,e,n){const r=$e(t);try{const i=await function(a,l){const u=$e(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next(m=>(ut(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);IP(r,e,n),CP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kd(r,i)}catch(i){await Ud(i)}}function CP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function IP(t,e,n){const r=$e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ky(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||bP(t,r)})}function bP(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(V1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Z1(t))}function qT(t,e,n){for(const r of n)r instanceof wP?(t.La.addReference(r.key,e),jM(t,r)):r instanceof EP?(Te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||bP(t,r.key)):Me()}function jM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Te("SyncEngine","New document in limbo: "+n),t.xa.add(r),Z1(t))}function Z1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(yt.fromString(e)),r=t.qa.next();t.Na.set(r,new bM(n)),t.Oa=t.Oa.insert(n,r),pP(t.remoteStore,new xo(Ui(Pm(n.path)),r,"TargetPurposeLimboResolution",I1.oe))}}async function Kd(t,e,n){const r=$e(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{a.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);const m=F1.Wi(u.targetId,d);s.push(m)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(u,d){const p=$e(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>se.forEach(d,g=>se.forEach(g.$i,_=>p.persistence.referenceDelegate.addReference(m,g.targetId,_)).next(()=>se.forEach(g.Ui,_=>p.persistence.referenceDelegate.removeReference(m,g.targetId,_)))))}catch(m){if(!zd(m))throw m;Te("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const _=p.os.get(g),C=_.snapshotVersion,b=_.withLastLimboFreeSnapshotVersion(C);p.os=p.os.insert(g,b)}}}(r.localStore,s))}async function FM(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const r=await cP(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new me(te.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kd(n,r.hs)}}function VM(t,e){const n=$e(t),r=n.Na.get(e);if(r&&r.va)return Ze().add(r.key);{let i=Ze();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const l=n.Fa.get(a);i=i.unionWith(l.view.Va)}return i}}function xP(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NM.bind(null,e),e.Ca.d_=TM.bind(null,e.eventManager),e.Ca.$a=SM.bind(null,e.eventManager),e}function $M(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MM.bind(null,e),e}class Fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return GD(this.persistence,new HD,e.initialUser,this.serializer)}Ga(e){return new BD(j1.Zr,this.serializer)}Wa(e){return new JD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fp.provider={build:()=>new Fp};class Ly{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FM.bind(null,this.syncEngine),await yM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EM}()}createDatastore(e){const n=Nm(e.databaseInfo.databaseId),r=function(s){return new rM(s)}(e.databaseInfo);return function(s,a,l,u){return new oM(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new lM(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>GT(this.syncEngine,n,0),function(){return BT.D()?new BT:new eM}())}createSyncEngine(e,n){return function(i,s,a,l,u,d,p){const m=new xM(i,s,a,l,u,d);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=$e(i);Te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await qd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bn.UNAUTHENTICATED,this.clientId=kx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{Te("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Te("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=H1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xv(t,e){t.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UM(t);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UT(e.remoteStore,i)),t._onlineComponents=e}async function UM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await xv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;hu("Error using user provided cache. Falling back to memory cache: "+n),await xv(t,new Fp)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await xv(t,new Fp);return t._offlineComponents}async function PP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await KT(t,t._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await KT(t,new Ly))),t._onlineComponents}function zM(t){return PP(t).then(e=>e.syncEngine)}async function Vp(t){const e=await PP(t),n=e.eventManager;return n.onListen=PM.bind(null,e.syncEngine),n.onUnlisten=kM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LM.bind(null,e.syncEngine),n}function HM(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const p=new Q1({next:g=>{p.Za(),a.enqueueAndForget(()=>G1(s,m));const _=g.docs.has(l);!_&&g.fromCache?d.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&u&&u.source==="server"?d.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new K1(Pm(l.path),p,{includeMetadataChanges:!0,_a:!0});return W1(s,m)}(await Vp(t),t.asyncQueue,e,n,r)),r.promise}function WM(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const p=new Q1({next:g=>{p.Za(),a.enqueueAndForget(()=>G1(s,m)),g.fromCache&&u.source==="server"?d.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new K1(l,p,{includeMetadataChanges:!0,_a:!0});return W1(s,m)}(await Vp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e,n){if(!n)throw new me(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GM(t,e,n,r){if(e===!0&&r===!0)throw new me(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QT(t){if(!Ie.isDocumentKey(t))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YT(t){if(Ie.isDocumentKey(t))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jm(t);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uN;switch(r.type){case"firstParty":return new fN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ZT.get(n);r&&(Te("ComponentProvider","Removing Datastore"),ZT.delete(n),r.terminate())}(this),Promise.resolve()}}function qM(t,e,n,r={}){var i;const s=(t=cr(t,Fm))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=bn.MOCK_USER;else{l=_x(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bn(d)}t._authCredentials=new cN(new Rx(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ka(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Vo extends Ka{constructor(e,n,r){super(e,n,Pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ie(e))}withConverter(e){return new Vo(this.firestore,e,this._path)}}function zn(t,e,...n){if(t=Et(t),RP("collection","path",e),t instanceof Fm){const r=yt.fromString(e,...n);return YT(r),new Vo(t,null,r)}{if(!(t instanceof Rn||t instanceof Vo))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return YT(r),new Vo(t.firestore,null,r)}}function ot(t,e,...n){if(t=Et(t),arguments.length===1&&(e=kx.newId()),RP("doc","path",e),t instanceof Fm){const r=yt.fromString(e,...n);return QT(r),new Rn(t,null,new Ie(r))}{if(!(t instanceof Rn||t instanceof Vo))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return QT(r),new Rn(t.firestore,t instanceof Vo?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hP(this,"async_queue_retry"),this.Vu=()=>{const r=bv();r&&Te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new bs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zd(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Os("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=z1.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function eS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ds extends Fm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JT(e),this._firestoreClient=void 0,await e}}}function Vm(t,e){const n=typeof t=="object"?t:S1(),r=typeof t=="string"?t:"(default)",i=bm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mx("firestore");s&&qM(i,...s)}return i}function $m(t){if(t._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KM(t),t._firestoreClient}function KM(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,d,p){return new bN(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AP(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new BM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yu(Tn.fromBase64String(e))}catch(n){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yu(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^__.*__$/;class QM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wd(e,this.data,n,this.fieldTransforms)}}class kP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class zm{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $p(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LP(this.Cu)&&ZM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class YM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nm(e)}Qu(e,n,r,i=!1){return new zm({Cu:e,methodName:n,qu:r,path:_n.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hm(t){const e=t._freezeSettings(),n=Nm(t._databaseId);return new YM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OP(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);ew("Data must be an object, but it was:",a,r);const l=NP(r,a);let u,d;if(s.merge)u=new Cr(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const g=Oy(e,m,n);if(!a.contains(g))throw new me(te.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);MP(p,g)||p.push(g)}u=new Cr(p),d=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=a.fieldTransforms;return new QM(new sr(l),u,d)}class Zd extends Um{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}function XM(t,e,n){return new zm({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class J1 extends Um{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=XM(this,e,!0),r=this.Ku.map(s=>Ou(s,n)),i=new gu(r);return new YN(e.path,i)}isEqual(e){return e instanceof J1&&wd(this.Ku,e.Ku)}}function JM(t,e,n,r){const i=t.Qu(1,e,n);ew("Data must be an object, but it was:",i,r);const s=[],a=sr.empty();Ga(r,(u,d)=>{const p=tw(e,u,n);d=Et(d);const m=i.Nu(p);if(d instanceof Zd)s.push(p);else{const g=Ou(d,m);g!=null&&(s.push(p),a.set(p,g))}});const l=new Cr(s);return new kP(a,l,i.fieldTransforms)}function ej(t,e,n,r,i,s){const a=t.Qu(1,e,n),l=[Oy(e,r,n)],u=[i];if(s.length%2!=0)throw new me(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(Oy(e,s[g])),u.push(s[g+1]);const d=[],p=sr.empty();for(let g=l.length-1;g>=0;--g)if(!MP(d,l[g])){const _=l[g];let C=u[g];C=Et(C);const b=a.Nu(_);if(C instanceof Zd)d.push(_);else{const k=Ou(C,b);k!=null&&(d.push(_),p.set(_,k))}}const m=new Cr(d);return new kP(p,m,a.fieldTransforms)}function tj(t,e,n,r=!1){return Ou(n,t.Qu(r?4:3,e))}function Ou(t,e){if(DP(t=Et(t)))return ew("Unsupported field value:",e,t),NP(t,e);if(t instanceof Um)return function(r,i){if(!LP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let u=Ou(l,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rn.fromDate(r);return{timestampValue:Mp(i.serializer,s)}}if(r instanceof rn){const s=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mp(i.serializer,s)}}if(r instanceof Y1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yu)return{bytesValue:rP(i.serializer,r._byteString)};if(r instanceof Rn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:D1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof X1)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return k1(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jm(r)}`)}(t,e)}function NP(t,e){const n={};return Lx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(t,(r,i)=>{const s=Ou(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Y1||t instanceof yu||t instanceof Rn||t instanceof Um||t instanceof X1)}function ew(t,e,n){if(!DP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Oy(t,e,n){if((e=Et(e))instanceof Bm)return e._internalPath;if(typeof e=="string")return tw(t,e);throw $p("Field path arguments must be of type string or ",t,!1,void 0,n)}const nj=new RegExp("[~\\*/\\[\\]]");function tw(t,e,n){if(e.search(nj)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bm(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $p(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new me(te.INVALID_ARGUMENT,l+t+u)}function MP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rj extends jP{data(){return super.data()}}function nw(t,e){return typeof e=="string"?tw(t,e):e instanceof Bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rw{}class ij extends rw{}function xs(t,e,...n){let r=[];e instanceof rw&&r.push(e),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof iw).length,l=s.filter(u=>u instanceof Wm).length;if(a>1||a>0&&l>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wm extends ij{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wm(e,n,r)}_apply(e){const n=this._parse(e);return VP(e._query,n),new Ka(e.firestore,e.converter,Sy(e._query,n))}_parse(e){const n=Hm(e.firestore);return function(s,a,l,u,d,p,m){let g;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){nS(m,p);const _=[];for(const C of m)_.push(tS(u,s,C));g={arrayValue:{values:_}}}else g=tS(u,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||nS(m,p),g=tj(l,a,m,p==="in"||p==="not-in");return Xt.create(d,p,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function An(t,e,n){const r=e,i=nw("where",t);return Wm._create(i,r,n)}class iw extends rw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)VP(a,u),a=Sy(a,u)}(e._query,n),new Ka(e.firestore,e.converter,Sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tS(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bx(e)&&n.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!Ie.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TT(t,new Ie(r))}if(n instanceof Rn)return TT(t,n._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jm(n)}.`)}function nS(t,e){if(!Array.isArray(t)||t.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VP(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sj{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ga(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Ut(a.doubleValue));return new X1(s)}convertGeoPoint(e){return new Y1(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=x1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);ut(uP(r));const i=new Cd(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(n)||Os(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BP extends jP{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ff extends BP{data(e={}){return super.data(e)}}class UP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ff(this._firestore,this._userDataWriter,r.key,r,new Nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new Ff(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Nc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ff(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Nc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:oj(l.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){t=cr(t,Rn);const e=cr(t.firestore,Ds);return HM($m(e),t._key).then(n=>HP(e,t,n))}class sw extends sj{constructor(e){super(),this.firestore=e}convertBytes(e){return new yu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function wu(t){t=cr(t,Ka);const e=cr(t.firestore,Ds),n=$m(e),r=new sw(e);return FP(t._query),WM(n,t._query).then(i=>new UP(e,r,t,i))}function ow(t,e,n){t=cr(t,Rn);const r=cr(t.firestore,Ds),i=$P(t.converter,e);return Gm(r,[OP(Hm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kr.none())])}function Zi(t,e,n,...r){t=cr(t,Rn);const i=cr(t.firestore,Ds),s=Hm(i);let a;return a=typeof(e=Et(e))=="string"||e instanceof Bm?ej(s,"updateDoc",t._key,e,n,r):JM(s,"updateDoc",t._key,e),Gm(i,[a.toMutation(t._key,Kr.exists(!0))])}function aj(t){return Gm(cr(t.firestore,Ds),[new L1(t._key,Kr.none())])}function zP(t,e){const n=cr(t.firestore,Ds),r=ot(t),i=$P(t.converter,e);return Gm(n,[OP(Hm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function Hi(t,...e){var n,r,i;t=Et(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||eS(e[a])||(s=e[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(eS(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[a+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,d,p;if(t instanceof Rn)d=cr(t.firestore,Ds),p=Pm(t._key.path),u={next:m=>{e[a]&&e[a](HP(d,t,m))},error:e[a+1],complete:e[a+2]};else{const m=cr(t,Ka);d=cr(m.firestore,Ds),p=m._query;const g=new sw(d);u={next:_=>{e[a]&&e[a](new UP(d,g,m,_))},error:e[a+1],complete:e[a+2]},FP(t._query)}return function(g,_,C,b){const k=new Q1(b),x=new K1(_,k,C);return g.asyncQueue.enqueueAndForget(async()=>W1(await Vp(g),x)),()=>{k.Za(),g.asyncQueue.enqueueAndForget(async()=>G1(await Vp(g),x))}}($m(d),p,l,u)}function Gm(t,e){return function(r,i){const s=new bs;return r.asyncQueue.enqueueAndForget(async()=>OM(await zM(r),i,s)),s.promise}($m(t),e)}function HP(t,e,n){const r=n.docs.get(e._key),i=new sw(t);return new BP(t,i,e._key,r,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return new Zd("deleteField")}function uj(...t){return new J1("arrayUnion",t)}(function(e,n=!0){(function(i){Ru=i})(Wa),Na(new zo("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Ds(new dN(r.getProvider("auth-internal")),new mN(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Bi(vT,"4.7.3",e),Bi(vT,"4.7.3","esm2017")})();var cj="firebase",dj="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(cj,dj,"app");function aw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hj=WP,GP=new $d("auth","Firebase",WP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new E1("@firebase/auth");function fj(t,...e){Bp.logLevel<=Xe.WARN&&Bp.warn(`Auth (${Wa}): ${t}`,...e)}function Vf(t,...e){Bp.logLevel<=Xe.ERROR&&Bp.error(`Auth (${Wa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,...e){throw lw(t,...e)}function Wi(t,...e){return lw(t,...e)}function qP(t,e,n){const r=Object.assign(Object.assign({},hj()),{[e]:n});return new $d("auth","Firebase",r).create(e,{appName:t.name})}function Gi(t){return qP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GP.create(t,...e)}function Ne(t,e,...n){if(!t)throw lw(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vf(e),new Error(e)}function Ms(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pj(){return rS()==="http:"||rS()==="https:"}function rS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pj()||zL()||"connection"in navigator)?navigator.onLine:!0}function gj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=$L()||HL()}get(){return mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new Qd(3e4,6e4);function $s(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yi(t,e,n,r,i={}){return ZP(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Bd(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},s);return UL()||(d.referrerPolicy="no-referrer"),KP.fetch()(QP(t,t.config.apiHost,n,l),d)})}async function ZP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vj),e);try{const i=new wj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw uf(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw uf(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw uf(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw qP(t,p,d);mi(t,p)}}catch(i){if(i instanceof Qi)throw i;mi(t,"network-request-failed",{message:String(i)})}}async function Yd(t,e,n,r,i={}){const s=await Yi(t,e,n,r,i);return"mfaPendingCredential"in s&&mi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function QP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?uw(t.config,i):`${t.config.apiScheme}://${i}`}function yj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),_j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wi(t,e,r);return i.customData._tokenResponse=n,i}function iS(t){return t!==void 0&&t.enterprise!==void 0}class Ej{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Tj(t,e){return Yi(t,"GET","/v2/recaptchaConfig",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function YP(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cj(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=cw(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Qc(Pv(i.auth_time)),issuedAtTime:Qc(Pv(i.iat)),expirationTime:Qc(Pv(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pv(t){return Number(t)*1e3}function cw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const i=fx(n);return i?JSON.parse(i):(Vf("Failed to decode base64 JWT payload"),null)}catch(i){return Vf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sS(t){const e=cw(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qi&&Ij(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ij({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Eu(t,YP(n,{idToken:r}));Ne(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?XP(s.providerUserInfo):[],l=Pj(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Dy(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function xj(t){const e=Et(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XP(t){return t.map(e=>{var{providerId:n}=e,r=aw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e){const n=await ZP(t,{},async()=>{const r=Bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=QP(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",KP.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rj(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=sS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Aj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new tu;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ts{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=aw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cj(this,e)}reload(){return xj(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Eu(this,Sj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,u,d,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(d=n.createdAt)!==null&&d!==void 0?d:void 0,T=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:j,isAnonymous:U,providerData:H,stsTokenManager:N}=n;Ne(P&&N,e,"internal-error");const S=tu.fromJSON(this.name,N);Ne(typeof P=="string",e,"internal-error"),ao(m,e.name),ao(g,e.name),Ne(typeof j=="boolean",e,"internal-error"),Ne(typeof U=="boolean",e,"internal-error"),ao(_,e.name),ao(C,e.name),ao(b,e.name),ao(k,e.name),ao(x,e.name),ao(T,e.name);const A=new Ts({uid:P,auth:e,email:g,emailVerified:j,displayName:m,isAnonymous:U,photoURL:C,phoneNumber:_,tenantId:b,stsTokenManager:S,createdAt:x,lastLoginAt:T});return H&&Array.isArray(H)&&(A.providerData=H.map(R=>Object.assign({},R))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new tu;i.updateFromServerResponse(n);const s=new Ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?XP(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new tu;l.updateFromIdToken(r);const u=new Ts({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Dy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;function Ss(t){Ms(t instanceof Function,"Expected a class definition");let e=oS.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JP.type="NONE";const aS=JP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e,n){return`firebase:${t}:${e}:${n}`}class nu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$f(this.userKey,i.apiKey,s),this.fullPersistenceKey=$f("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nu(Ss(aS),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Ss(aS);const a=$f(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(a);if(p){const m=Ts._fromJSON(e,p);d!==s&&(l=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new nu(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new nu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s4(e))return"Blackberry";if(o4(e))return"Webos";if(t4(e))return"Safari";if((e.includes("chrome/")||n4(e))&&!e.includes("edge/"))return"Chrome";if(i4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function e4(t=On()){return/firefox\//i.test(t)}function t4(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n4(t=On()){return/crios\//i.test(t)}function r4(t=On()){return/iemobile/i.test(t)}function i4(t=On()){return/android/i.test(t)}function s4(t=On()){return/blackberry/i.test(t)}function o4(t=On()){return/webos/i.test(t)}function dw(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kj(t=On()){var e;return dw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lj(){return WL()&&document.documentMode===10}function a4(t=On()){return dw(t)||i4(t)||o4(t)||s4(t)||/windows phone/i.test(t)||r4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t,e=[]){let n;switch(t){case"Browser":n=lS(On());break;case"Worker":n=`${lS(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",$s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=6;class Mj{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Dj,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uS(this),this.idTokenSubscription=new uS(this),this.beforeStateQueue=new Oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await nu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YP(this,{idToken:e}),r=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ui(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Gi(this));const n=e?Et(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nj(this),n=new Mj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $d("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await nu.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Za(t){return Et(t)}class uS{constructor(e){this.auth=e,this.observer=null,this.addObserver=JL(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fj(t){qm=t}function u4(t){return qm.loadJS(t)}function Vj(){return qm.recaptchaEnterpriseScript}function $j(){return qm.gapiScript}function Bj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Uj="recaptcha-enterprise",zj="NO_RECAPTCHA";class Hj{constructor(e){this.type=Uj,this.auth=Za(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{Tj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Ej(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;iS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(zj)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&iS(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Vj();u.length!==0&&(u+=l),u4(u).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function cS(t,e,n,r=!1){const i=new Hj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function My(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await cS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await cS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e){const n=bm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(wd(s,e??{}))return i;mi(i,"already-initialized")}return n.initialize({options:e})}function Gj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qj(t,e,n){const r=Za(t);Ne(r._canInitEmulator,r,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=c4(e),{host:a,port:l}=Kj(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Zj()}function c4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kj(t){const e=c4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dS(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:dS(a)}}}function dS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function Qj(t,e){return Yi(t,"POST","/v1/accounts:update",e)}async function Yj(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e){return Yd(t,"POST","/v1/accounts:signInWithPassword",$s(t,e))}async function Jj(t,e){return Yi(t,"POST","/v1/accounts:sendOobCode",$s(t,e))}async function eF(t,e){return Jj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}async function nF(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends hw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return My(e,n,"signInWithPassword",Xj);case"emailLink":return tF(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return My(e,r,"signUpPassword",Yj);case"emailLink":return nF(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e){return Yd(t,"POST","/v1/accounts:signInWithIdp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF="http://localhost";class Fa extends hw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=aw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Fa(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ru(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ru(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ru(e,n)}buildRequest(){const e={requestUri:rF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sF(t){const e=Ac(Rc(t)).link,n=e?Ac(Rc(e)).deep_link_id:null,r=Ac(Rc(t)).deep_link_id;return(r?Ac(Rc(r)).link:null)||r||n||e||t}class fw{constructor(e){var n,r,i,s,a,l;const u=Ac(Rc(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=iF((i=u.mode)!==null&&i!==void 0?i:null);Ne(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=sF(e);try{return new fw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,n){return xd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fw.parseLink(n);return Ne(r,"argument-error"),xd._fromEmailAndCode(e,r.code,r.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends d4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Xd{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Xd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Xd{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Xd{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e){return Yd(t,"POST","/v1/accounts:signUp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ts._fromIdTokenResponse(e,r,i),a=hS(r);return new Va({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hS(r);return new Va({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Qi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zp(e,n,r,i)}}function h4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zp._fromErrorAndOperation(t,s,e,r):s})}async function aF(t,e,n=!1){const r=await Eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e,n=!1){const{auth:r}=t;if(ui(r.app))return Promise.reject(Gi(r));const i="reauthenticate";try{const s=await Eu(t,h4(r,i,e,t),n);Ne(s.idToken,r,"internal-error");const a=cw(s.idToken);Ne(a,r,"internal-error");const{sub:l}=a;return Ne(t.uid===l,r,"user-mismatch"),Va._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e,n=!1){if(ui(t.app))return Promise.reject(Gi(t));const r="signIn",i=await h4(t,r,e),s=await Va._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function lF(t,e){return p4(Za(t),e)}async function uF(t,e){return f4(Et(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t){const e=Za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cF(t,e,n){if(ui(t.app))return Promise.reject(Gi(t));const r=Za(t),a=await My(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oF).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&m4(t),u}),l=await Va._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function dF(t,e,n){return ui(t.app)?Promise.reject(Gi(t)):lF(Et(t),Qa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m4(t),r})}async function hF(t,e){const n=Et(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await eF(n.auth,i);s!==t.email&&await t.reload()}function fF(t,e){const n=Et(t);return ui(n.auth.app)?Promise.reject(Gi(n.auth)):pF(n,e)}async function pF(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e);const a=await Eu(t,Qj(r,s));await t._updateTokensIfNecessary(a,!0)}function mF(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function gF(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function vF(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}const Hp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hp,"1"),this.storage.removeItem(Hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=1e3,yF=10;class v4 extends g4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Lj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_F)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v4.type="LOCAL";const wF=v4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends g4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_4.type="SESSION";const y4=_4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),u=await EF(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const d=pw("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function SF(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function CF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bF(){return w4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="firebaseLocalStorageDb",xF=1,Wp="firebaseLocalStorage",T4="fbase_key";class Jd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zm(t,e){return t.transaction([Wp],e?"readwrite":"readonly").objectStore(Wp)}function PF(){const t=indexedDB.deleteDatabase(E4);return new Jd(t).toPromise()}function jy(){const t=indexedDB.open(E4,xF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wp,{keyPath:T4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wp)?e(r):(r.close(),await PF(),e(await jy()))})})}async function fS(t,e,n){const r=Zm(t,!0).put({[T4]:e,value:n});return new Jd(r).toPromise()}async function AF(t,e){const n=Zm(t,!1).get(e),r=await new Jd(n).toPromise();return r===void 0?null:r.value}function pS(t,e){const n=Zm(t,!0).delete(e);return new Jd(n).toPromise()}const RF=800,kF=3;class S4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(bF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CF(),!this.activeServiceWorker)return;this.sender=new TF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await fS(e,Hp,"1"),await pS(e,Hp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zm(i,!1).getAll();return new Jd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S4.type="LOCAL";const LF=S4;new Qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t,e){return e?Ss(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends hw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ru(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ru(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ru(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NF(t){return p4(t.auth,new mw(t),t.bypassAuthState)}function DF(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),f4(n,new mw(t),t.bypassAuthState)}async function MF(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),aF(n,new mw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NF;case"linkViaPopup":case"linkViaRedirect":return MF;case"reauthViaPopup":case"reauthViaRedirect":return DF;default:mi(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new Qd(2e3,1e4);class Hl extends C4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jF.get())};e()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="pendingRedirect",Bf=new Map;class VF extends C4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const r=await $F(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $F(t,e){const n=zF(e),r=UF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function BF(t,e){Bf.set(t._key(),e)}function UF(t){return Ss(t._redirectPersistence)}function zF(t){return $f(FF,t.config.apiKey,t.name)}async function HF(t,e,n=!1){if(ui(t.app))return Promise.reject(Gi(t));const r=Za(t),i=OF(r,e),a=await new VF(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=10*60*1e3;class GF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!I4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WF&&this.cachedEventUids.clear(),this.cachedEventUids.has(mS(e))}saveEventToCache(e){this.cachedEventUids.add(mS(e)),this.lastProcessedEventTime=Date.now()}}function mS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e={}){return Yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QF=/^https?/;async function YF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KF(t);for(const n of e)try{if(XF(n))return}catch{}mi(t,"unauthorized-domain")}function XF(t){const e=Ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!QF.test(n))return!1;if(ZF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new Qd(3e4,6e4);function gS(){const t=qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eV(t){return new Promise((e,n)=>{var r,i,s;function a(){gS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gS(),n(Wi(t,"network-request-failed"))},timeout:JF.get()})}if(!((i=(r=qi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qi().gapi)===null||s===void 0)&&s.load)a();else{const l=Bj("iframefcb");return qi()[l]=()=>{gapi.load?a():n(Wi(t,"network-request-failed"))},u4(`${$j()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function tV(t){return Uf=Uf||eV(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new Qd(5e3,15e3),rV="__/auth/iframe",iV="emulator/auth/iframe",sV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aV(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uw(e,iV):`https://${t.config.authDomain}/${rV}`,r={apiKey:e.apiKey,appName:t.name,v:Wa},i=oV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bd(r).slice(1)}`}async function lV(t){const e=await tV(t),n=qi().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:aV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Wi(t,"network-request-failed"),l=qi().setTimeout(()=>{s(a)},nV.get());function u(){qi().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cV=500,dV=600,hV="_blank",fV="http://localhost";class vS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pV(t,e,n,r=cV,i=dV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},uV),{width:r.toString(),height:i.toString(),top:s,left:a}),d=On().toLowerCase();n&&(l=n4(d)?hV:n),e4(d)&&(e=e||fV,u.scrollbars="yes");const p=Object.entries(u).reduce((g,[_,C])=>`${g}${_}=${C},`,"");if(kj(d)&&l!=="_self")return mV(e||"",l),new vS(null);const m=window.open(e||"",l,p);Ne(m,t,"popup-blocked");try{m.focus()}catch{}return new vS(m)}function mV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="__/auth/handler",vV="emulator/auth/handler",_V=encodeURIComponent("fac");async function _S(t,e,n,r,i,s){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wa,eventId:i};if(e instanceof d4){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",XL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))a[p]=m}if(e instanceof Xd){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),d=u?`#${_V}=${encodeURIComponent(u)}`:"";return`${yV(t)}?${Bd(l).slice(1)}${d}`}function yV({config:t}){return t.emulator?uw(t,vV):`https://${t.authDomain}/${gV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="webStorageSupport";class wV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y4,this._completeRedirectFn=HF,this._overrideRedirectResult=BF}async _openPopup(e,n,r,i){var s;Ms((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await _S(e,n,r,Ny(),i);return pV(e,a,pw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await _S(e,n,r,Ny(),i);return SF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ms(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lV(e),r=new GF(e);return n.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Av,{type:Av},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Av];a!==void 0&&n(!!a),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return a4()||t4()||dw()}}const EV=wV;var yS="@firebase/auth",wS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CV(t){Na(new zo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l4(t)},d=new jj(r,i,s,u);return Gj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Na(new zo("auth-internal",e=>{const n=Za(e.getProvider("auth").getImmediate());return(r=>new TV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(yS,wS,SV(t)),Bi(yS,wS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=5*60,bV=vx("authIdTokenMaxAge")||IV;let ES=null;const xV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bV)return;const i=n==null?void 0:n.token;ES!==i&&(ES=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gw(t=S1()){const e=bm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wj(t,{popupRedirectResolver:EV,persistence:[LF,wF,y4]}),r=vx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=xV(s.toString());gF(n,a,()=>a(n.currentUser)),mF(n,l=>a(l))}}const i=px("auth");return i&&qj(n,`http://${i}`),n}function PV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Fj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",PV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CV("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firebasestorage.googleapis.com",x4="storageBucket",AV=2*60*1e3,RV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft extends Qi{constructor(e,n,r=0){super(Rv(e),`Firebase Storage: ${n} (${Rv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function Rv(t){return"storage/"+t}function vw(){const t="An unknown error occurred, please check the error payload for server response.";return new Ft(Mt.UNKNOWN,t)}function kV(t){return new Ft(Mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LV(t){return new Ft(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft(Mt.UNAUTHENTICATED,t)}function NV(){return new Ft(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DV(t){return new Ft(Mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function MV(){return new Ft(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jV(){return new Ft(Mt.CANCELED,"User canceled the upload/download.")}function FV(t){return new Ft(Mt.INVALID_URL,"Invalid URL '"+t+"'.")}function VV(t){return new Ft(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $V(){return new Ft(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+x4+"' property when initializing the app?")}function BV(){return new Ft(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UV(){return new Ft(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zV(t){return new Ft(Mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fy(t){return new Ft(Mt.INVALID_ARGUMENT,t)}function P4(){return new Ft(Mt.APP_DELETED,"The Firebase app was deleted.")}function HV(t){return new Ft(Mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yc(t,e){return new Ft(Mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vc(t){throw new Ft(Mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ir.makeFromUrl(e,n)}catch{return new Ir(e,"")}if(r.path==="")return r;throw VV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${m}/${p}/b/${i}/o${g}`,"i"),C={bucket:1,path:3},b=n===b4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",x=new RegExp(`^https?://${b}/${i}/${k}`,"i"),P=[{regex:l,indices:u,postModify:s},{regex:_,indices:C,postModify:d},{regex:x,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<P.length;j++){const U=P[j],H=U.regex.exec(e);if(H){const N=H[U.indices.bucket];let S=H[U.indices.path];S||(S=""),r=new Ir(N,S),U.postModify(r);break}}if(r==null)throw FV(e);return r}}class WV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function u(){return l===2}let d=!1;function p(...k){d||(d=!0,e.apply(null,k))}function m(k){i=setTimeout(()=>{i=null,t(_,u())},k)}function g(){s&&clearTimeout(s)}function _(k,...x){if(d){g();return}if(k){g(),p.call(null,k,...x);return}if(u()||a){g(),p.call(null,k,...x);return}r<64&&(r*=2);let P;l===1?(l=2,P=0):P=(r+Math.random())*1e3,m(P)}let C=!1;function b(k){C||(C=!0,g(),!d&&(i!==null?(k||(l=2),clearTimeout(i),m(0)):k||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,b(!0)},n),b}function qV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){return t!==void 0}function ZV(t){return typeof t=="object"&&!Array.isArray(t)}function _w(t){return typeof t=="string"||t instanceof String}function TS(t){return yw()&&t instanceof Blob}function yw(){return typeof Blob<"u"}function SS(t,e,n,r){if(r<e)throw Fy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function A4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ca;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ca||(Ca={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,r,i,s,a,l,u,d,p,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,C)=>{this.resolve_=_,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Ca.NO_ERROR,u=s.getStatus();if(!l||QV(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Ca.ABORT;r(!1,new cf(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new cf(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());KV(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=vw();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?P4():jV();a(u)}else{const u=MV();a(u)}};this.canceled_?n(!1,new cf(!1,null,!0)):this.backoffId_=GV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function e$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function t$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function n$(t,e,n,r,i,s,a=!0){const l=A4(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return e$(d,e),XV(d,n),JV(d,s),t$(d,r),new YV(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function i$(...t){const e=r$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yw())return new Blob(t);throw new Ft(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function s$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){if(typeof atob>"u")throw zV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kv{constructor(e,n){this.data=e,this.contentType=n||null}}function a$(t,e){switch(t){case Fi.RAW:return new kv(R4(e));case Fi.BASE64:case Fi.BASE64URL:return new kv(k4(t,e));case Fi.DATA_URL:return new kv(u$(e),c$(e))}throw vw()}function R4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function l$(t){let e;try{e=decodeURIComponent(t)}catch{throw Yc(Fi.DATA_URL,"Malformed data URL.")}return R4(e)}function k4(t,e){switch(t){case Fi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Yc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Yc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=o$(e)}catch(i){throw i.message.includes("polyfill")?i:Yc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class L4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yc(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=d$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function u$(t){const e=new L4(t);return e.base64?k4(Fi.BASE64,e.rest):l$(e.rest)}function c$(t){return new L4(t).contentType}function d$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){let r=0,i="";TS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(TS(this.data_)){const r=this.data_,i=s$(r,e,n);return i===null?null:new Eo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Eo(r,!0)}}static getBlob(...e){if(yw()){const n=e.map(r=>r instanceof Eo?r.data_:r);return new Eo(i$.apply(null,n))}else{const n=e.map(a=>_w(a)?a$(Fi.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new Eo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){let e;try{e=JSON.parse(t)}catch{return null}return ZV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function f$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function N4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t,e){return e}class Vn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||p$}}let df=null;function m$(t){return!_w(t)||t.length<2?t:N4(t)}function D4(){if(df)return df;const t=[];t.push(new Vn("bucket")),t.push(new Vn("generation")),t.push(new Vn("metageneration")),t.push(new Vn("name","fullPath",!0));function e(s,a){return m$(a)}const n=new Vn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Vn("size");return i.xform=r,t.push(i),t.push(new Vn("timeCreated")),t.push(new Vn("updated")),t.push(new Vn("md5Hash",null,!0)),t.push(new Vn("cacheControl",null,!0)),t.push(new Vn("contentDisposition",null,!0)),t.push(new Vn("contentEncoding",null,!0)),t.push(new Vn("contentLanguage",null,!0)),t.push(new Vn("contentType",null,!0)),t.push(new Vn("metadata","customMetadata",!0)),df=t,df}function g$(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ir(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function v$(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return g$(r,t),r}function M4(t,e,n){const r=O4(e);return r===null?null:v$(t,r,n)}function _$(t,e,n,r){const i=O4(e);if(i===null||!_w(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(d=>{const p=t.bucket,m=t.fullPath,g="/b/"+a(p)+"/o/"+a(m),_=ww(g,n,r),C=A4({alt:"media",token:d});return _+C})[0]}function y$(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class j4{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){if(!t)throw vw()}function w$(t,e){function n(r,i){const s=M4(t,i,e);return F4(s!==null),s}return n}function E$(t,e){function n(r,i){const s=M4(t,i,e);return F4(s!==null),_$(s,i,t.host,t._protocol)}return n}function V4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=NV():i=OV():n.getStatus()===402?i=LV(t.bucket):n.getStatus()===403?i=DV(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function T$(t){const e=V4(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=kV(t.path)),s.serverResponse=i.serverResponse,s}return n}function S$(t,e,n){const r=e.fullServerUrl(),i=ww(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new j4(i,s,E$(t,n),a);return l.errorHandler=T$(e),l}function C$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function I$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=C$(null,e)),r}function b$(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let P="";for(let j=0;j<2;j++)P=P+Math.random().toString().slice(2);return P}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const d=I$(e,r,i),p=y$(d,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+u+"--",_=Eo.getBlob(m,r,g);if(_===null)throw BV();const C={name:d.fullPath},b=ww(s,t.host,t._protocol),k="POST",x=t.maxUploadRetryTime,T=new j4(b,k,w$(t,n),x);return T.urlParams=C,T.headers=a,T.body=_.uploadData(),T.errorHandler=V4(e),T}class x${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class P$ extends x${initXhr(){this.xhr_.responseType="text"}}function $4(){return new P$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this._service=e,n instanceof Ir?this._location=n:this._location=Ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $a(e,n)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return N4(this._location.path)}get storage(){return this._service}get parent(){const e=h$(this._location.path);if(e===null)return null;const n=new Ir(this._location.bucket,e);return new $a(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HV(e)}}function A$(t,e,n){t._throwIfRoot("uploadBytes");const r=b$(t.storage,t._location,D4(),new Eo(e,!0),n);return t.storage.makeRequestWithTokens(r,$4).then(i=>({metadata:i,ref:t}))}function R$(t){t._throwIfRoot("getDownloadURL");const e=S$(t.storage,t._location,D4());return t.storage.makeRequestWithTokens(e,$4).then(n=>{if(n===null)throw UV();return n})}function k$(t,e){const n=f$(t._location.path,e),r=new Ir(t._location.bucket,n);return new $a(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t){return/^[A-Za-z]+:\/\//.test(t)}function O$(t,e){return new $a(t,e)}function B4(t,e){if(t instanceof Ew){const n=t;if(n._bucket==null)throw $V();const r=new $a(n,n._bucket);return e!=null?B4(r,e):r}else return e!==void 0?k$(t,e):t}function N$(t,e){if(e&&L$(e)){if(t instanceof Ew)return O$(t,e);throw Fy("To use ref(service, url), the first argument must be a Storage instance.")}else return B4(t,e)}function CS(t,e){const n=e==null?void 0:e[x4];return n==null?null:Ir.makeFromBucketSpec(n,t)}function D$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_x(i,t.app.options.projectId))}class Ew{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=b4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AV,this._maxUploadRetryTime=RV,this._requests=new Set,i!=null?this._bucket=Ir.makeFromBucketSpec(i,this._host):this._bucket=CS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=CS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $a(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new WV(P4());{const a=n$(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const IS="@firebase/storage",bS="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="storage";function M$(t,e,n){return t=Et(t),A$(t,e,n)}function j$(t){return t=Et(t),R$(t)}function F$(t,e){return t=Et(t),N$(t,e)}function V$(t=S1(),e){t=Et(t);const r=bm(t,U4).getImmediate({identifier:e}),i=mx("storage");return i&&$$(r,...i),r}function $$(t,e,n,r={}){D$(t,e,n,r)}function B$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ew(n,r,i,e,Wa)}function U$(){Na(new zo(U4,B$,"PUBLIC").setMultipleInstances(!0)),Bi(IS,bS,""),Bi(IS,bS,"esm2017")}U$();const z$={apiKey:"AIzaSyAPJBKfnpcxHtkPkS18CH4mb9AeFCq_9nY",authDomain:"programacion-ec39e.firebaseapp.com",projectId:"programacion-ec39e",storageBucket:"programacion-ec39e.appspot.com",messagingSenderId:"136757147578",appId:"1:136757147578:web:57d88a0060a8c982564f83"},Qm=Ex(z$),po=gw(Qm),Qe=Vm(Qm),H$=Vm(Qm),W$=V$(Qm),G$=zn(Qe,"receipts"),q$=zn(Qe,"events");zn(Qe,"goals");const K$=async()=>{const t=zn(H$,"shopping");return(await wu(t)).docs.map(r=>({id:Number(r.id),image:r.data().image||"",name:r.data().name||"Sin nombre",price:r.data().price||0,disponibility:r.data().disponibility||0,eventType:r.data().eventType||"Desconocido"}))},Z$=async(t,e)=>{try{const n=ot(Qe,"funds",t),r=await kn(n);if(r.exists()){const i=r.data();let s;Array.isArray(i==null?void 0:i.currentAmount)?s=[...i.currentAmount,e]:s=((i==null?void 0:i.currentAmount)||0)+e,await Zi(n,{currentAmount:s}),console.log("Meta actualizada exitosamente")}else console.error("No se encontr el documento de meta")}catch(n){console.error("Error al agregar fondos:",n)}};console.log(Z$);const Q$=({closeModal:t,handleInviteUser:e,searchValue:n,setSearchValue:r,filteredUsers:i,selectedUsers:s,handleUserSelect:a,handleRemoveUser:l})=>{const u=d=>d.split(new RegExp(`(${n})`,"gi")).map((m,g)=>m.toLowerCase()===n.toLowerCase()?w.jsx("span",{className:"highlight",children:m},g):m);return w.jsx("div",{className:"modal",children:w.jsxs("div",{className:"modalContent",children:[w.jsx("button",{className:"closemodal_button",onClick:t,children:"x"}),w.jsx("h1",{className:"add_title",children:"Add a new guest"}),w.jsx("input",{type:"text",placeholder:"Guest name",value:n,onChange:d=>r(d.target.value),className:"searchInput"}),n.trim()!==""&&w.jsx(w.Fragment,{children:i.length===0?w.jsx("p",{children:"No users found"}):w.jsx("div",{className:"user-list",children:i.map(d=>w.jsxs("div",{className:"user-item",onClick:()=>a(d),children:[w.jsx("img",{src:d.img,alt:d.username,className:"user-image"}),w.jsx("p",{className:"user-name",children:u(d.username)})]},d.id))})}),w.jsx("h3",{className:"sent_title",children:"Sent to"}),w.jsx("div",{className:"selected-users",children:s.map(d=>w.jsxs("div",{className:"selected-user-card",children:[w.jsx("img",{src:d.img,alt:d.username,className:"selected-user-image"}),w.jsx("p",{id:"selected_user_name",children:d.username}),w.jsx("button",{className:"eliminate_guest",onClick:()=>l(d.id),children:"x"})]},d.id))}),w.jsx("div",{className:"modalActions",children:w.jsx("button",{className:"Addguest_button",onClick:e,disabled:s.length===0,children:"Add guests"})})]})})},z4=M.createContext(void 0),Y$=({children:t})=>{const[e,n]=M.useState(null);return M.useEffect(()=>{(async s=>{const a=ot(Qe,"users",s),l=await kn(a);if(l.exists()){const u=l.data();n({uid:u.uid,username:u.username||"Guest",email:u.email,img:u.img||"",accountAmount:u.accountAmount||0})}else console.error("No such document!"),n(null)})("quMBLJzSb2cY49eDz2QcqDmhy742")},[]),w.jsx(z4.Provider,{value:{user:e,setUser:n},children:t})},eh=()=>{const t=M.useContext(z4);if(!t)throw new Error("useUser must be used within a UserProvider");return t};let X$={data:""},J$=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||X$,eB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tB=/\/\*[^]*?\*\/|  +/g,xS=/\n+/g,To=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?To(a,s):s+"{"+To(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=To(a,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=To.p?To.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ms={},H4=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+H4(t[n]);return e}return t},nB=(t,e,n,r,i)=>{let s=H4(t),a=ms[s]||(ms[s]=(u=>{let d=0,p=11;for(;d<u.length;)p=101*p+u.charCodeAt(d++)>>>0;return"go"+p})(s));if(!ms[a]){let u=s!==t?t:(d=>{let p,m,g=[{}];for(;p=eB.exec(d.replace(tB,""));)p[4]?g.shift():p[3]?(m=p[3].replace(xS," ").trim(),g.unshift(g[0][m]=g[0][m]||{})):g[0][p[1]]=p[2].replace(xS," ").trim();return g[0]})(t);ms[a]=To(i?{["@keyframes "+a]:u}:u,n?"":"."+a)}let l=n&&ms.g?ms.g:null;return n&&(ms.g=ms[a]),((u,d,p,m)=>{m?d.data=d.data.replace(m,u):d.data.indexOf(u)===-1&&(d.data=p?u+d.data:d.data+u)})(ms[a],e,r,l),a},rB=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let l=a(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=u?"."+u:l&&typeof l=="object"?l.props?"":To(l,""):l===!1?"":l}return r+i+(a??"")},"");function Ym(t){let e=this||{},n=t.call?t(e.p):t;return nB(n.unshift?n.raw?rB(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,J$(e.target),e.g,e.o,e.k)}let W4,Vy,$y;Ym.bind({g:1});let js=Ym.bind({k:1});function iB(t,e,n,r){To.p=e,W4=t,Vy=n,$y=r}function Jo(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let l=Object.assign({},s),u=l.className||i.className;n.p=Object.assign({theme:Vy&&Vy()},l),n.o=/ *go\d+/.test(u),l.className=Ym.apply(n,r)+(u?" "+u:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),$y&&d[0]&&$y(l),W4(d,l)}return i}}var sB=t=>typeof t=="function",Gp=(t,e)=>sB(t)?t(e):t,oB=(()=>{let t=0;return()=>(++t).toString()})(),G4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),aB=20,zf=new Map,lB=1e3,PS=t=>{if(zf.has(t))return;let e=setTimeout(()=>{zf.delete(t),Ya({type:4,toastId:t})},lB);zf.set(t,e)},uB=t=>{let e=zf.get(t);e&&clearTimeout(e)},By=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,aB)};case 1:return e.toast.id&&uB(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?By(t,{type:1,toast:n}):By(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?PS(r):t.toasts.forEach(s=>{PS(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Hf=[],Wf={toasts:[],pausedAt:void 0},Ya=t=>{Wf=By(Wf,t),Hf.forEach(e=>{e(Wf)})},cB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dB=(t={})=>{let[e,n]=M.useState(Wf);M.useEffect(()=>(Hf.push(n),()=>{let i=Hf.indexOf(n);i>-1&&Hf.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,a;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||cB[i.type],style:{...t.style,...(a=t[i.type])==null?void 0:a.style,...i.style}}});return{...e,toasts:r}},hB=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||oB()}),th=t=>(e,n)=>{let r=hB(e,t,n);return Ya({type:2,toast:r}),r.id},br=(t,e)=>th("blank")(t,e);br.error=th("error");br.success=th("success");br.loading=th("loading");br.custom=th("custom");br.dismiss=t=>{Ya({type:3,toastId:t})};br.remove=t=>Ya({type:4,toastId:t});br.promise=(t,e,n)=>{let r=br.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(br.success(Gp(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{br.error(Gp(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var fB=(t,e)=>{Ya({type:1,toast:{id:t,height:e}})},pB=()=>{Ya({type:5,time:Date.now()})},mB=t=>{let{toasts:e,pausedAt:n}=dB(t);M.useEffect(()=>{if(n)return;let s=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(u<0){l.visible&&br.dismiss(l.id);return}return setTimeout(()=>br.dismiss(l.id),u)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=M.useCallback(()=>{n&&Ya({type:6,time:Date.now()})},[n]),i=M.useCallback((s,a)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:d}=a||{},p=e.filter(_=>(_.position||d)===(s.position||d)&&_.height),m=p.findIndex(_=>_.id===s.id),g=p.filter((_,C)=>C<m&&_.visible).length;return p.filter(_=>_.visible).slice(...l?[g+1]:[0,g]).reduce((_,C)=>_+(C.height||0)+u,0)},[e]);return{toasts:e,handlers:{updateHeight:fB,startPause:pB,endPause:r,calculateOffset:i}}},gB=js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vB=js`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_B=js`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yB=Jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_B} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wB=js`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EB=Jo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wB} 1s linear infinite;
`,TB=js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SB=js`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CB=Jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,IB=Jo("div")`
  position: absolute;
`,bB=Jo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xB=js`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PB=Jo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,AB=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?M.createElement(PB,null,e):e:n==="blank"?null:M.createElement(bB,null,M.createElement(EB,{...r}),n!=="loading"&&M.createElement(IB,null,n==="error"?M.createElement(yB,{...r}):M.createElement(CB,{...r})))},RB=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kB=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,LB="0%{opacity:0;} 100%{opacity:1;}",OB="0%{opacity:1;} 100%{opacity:0;}",NB=Jo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DB=Jo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MB=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=G4()?[LB,OB]:[RB(n),kB(n)];return{animation:e?`${js(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${js(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jB=M.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?MB(t.position||e||"top-center",t.visible):{opacity:0},s=M.createElement(AB,{toast:t}),a=M.createElement(DB,{...t.ariaProps},Gp(t.message,t));return M.createElement(NB,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):M.createElement(M.Fragment,null,s,a))});iB(M.createElement);var FB=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=M.useCallback(a=>{if(a){let l=()=>{let u=a.getBoundingClientRect().height;r(t,u)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return M.createElement("div",{ref:s,className:e,style:n},i)},VB=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:G4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},$B=Ym`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hf=16,BB=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:l,handlers:u}=mB(n);return M.createElement("div",{style:{position:"fixed",zIndex:9999,top:hf,left:hf,right:hf,bottom:hf,pointerEvents:"none",...s},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let p=d.position||e,m=u.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),g=VB(p,m);return M.createElement(FB,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?$B:"",style:g},d.type==="custom"?Gp(d.message,d):i?i(d):M.createElement(jB,{toast:d,position:p}))}))},cn=br;const UB=({users:t,searchValue:e,setSearchValue:n,closeModal:r,selectedUsers:i,setSelectedUsers:s,handleInviteUser:a})=>{const{user:l}=eh(),u=(l==null?void 0:l.uid)||"",[d,p]=M.useState(e);M.useEffect(()=>{const b=setTimeout(()=>{p(e)},800);return()=>{clearTimeout(b)}},[e]);const m=b=>{b.id===u?cn.error("You cannot invite yourself!"):i.some(k=>k.id===b.id)||(s([...i,b]),n(""))},g=b=>{s(i.filter(k=>k.id!==b))},_=t.filter(b=>b.username.toLowerCase().includes(d.toLowerCase())),C=async()=>{try{await a(),cn.success("Invitation sent successfully."),r()}catch{cn.error("Hubo un error al enviar la invitacin.")}};return w.jsx(Q$,{closeModal:r,handleInviteUser:C,searchValue:e,setSearchValue:n,filteredUsers:_,selectedUsers:i,handleUserSelect:m,handleRemoveUser:g})},zB=({eventId:t,closeModal:e})=>{const[n,r]=M.useState([]),[i,s]=M.useState(!0),[a,l]=M.useState(null);return M.useEffect(()=>{(async()=>{try{s(!0);const d=zn(Qe,"invitations"),p=xs(d,An("eventId","==",t),An("status","==","accepted")),m=await wu(p);if(m.empty)r([]);else{const g=m.docs.map(_=>({id:_.id,username:_.data().username}));r(g)}}catch(d){console.error("Error fetching invitations:",d),l("Error loading the guests.")}finally{s(!1)}})()},[t]),w.jsx("div",{className:"guest-modal-overlay",onClick:e,children:w.jsxs("div",{className:"guest-modal",onClick:u=>u.stopPropagation(),children:[w.jsx("h2",{children:"Event Guests"}),w.jsx("button",{onClick:e,children:"X"}),i?w.jsx("p",{children:"Loading guests..."}):a?w.jsx("p",{children:a}):n.length===0?w.jsx("p",{children:"No accepted guests for this event."}):w.jsx("ul",{children:n.map(u=>w.jsx("li",{children:u.username},u.id))})]})})},AS=t=>w.jsxs("div",{className:"FunctionBtn",children:[t.NextShooping&&w.jsxs("button",{onClick:t.NextShooping,children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",children:w.jsx("path",{d:"M35.5771 9.4284C35.4568 9.28448 35.3064 9.16871 35.1365 9.08929C34.9666 9.00987 34.7813 8.96872 34.5938 8.96875H8.75734L7.97418 4.66695C7.86691 4.07651 7.55582 3.54245 7.09514 3.15787C6.63447 2.77329 6.05342 2.56259 5.45332 2.5625H2.5625C2.22269 2.5625 1.8968 2.69749 1.65652 2.93777C1.41624 3.17805 1.28125 3.50394 1.28125 3.84375C1.28125 4.18356 1.41624 4.50945 1.65652 4.74973C1.8968 4.99001 2.22269 5.125 2.5625 5.125H5.44531L9.53891 27.5933C9.65949 28.2597 9.95397 28.8823 10.3925 29.3983C9.78722 29.9637 9.35032 30.6856 9.13028 31.4842C8.91024 32.2827 8.91566 33.1266 9.14593 33.9222C9.3762 34.7178 9.82234 35.4341 10.4349 35.9917C11.0474 36.5493 11.8024 36.9263 12.6161 37.081C13.4298 37.2356 14.2705 37.1619 15.0448 36.868C15.8192 36.5741 16.4971 36.0714 17.0032 35.4158C17.5094 34.7601 17.824 33.9771 17.9123 33.1535C18.0006 32.33 17.8591 31.498 17.5035 30.75H24.7778C24.4911 31.3501 24.3428 32.0068 24.3438 32.6719C24.3438 33.5588 24.6068 34.4258 25.0995 35.1633C25.5923 35.9007 26.2926 36.4755 27.112 36.8149C27.9314 37.1543 28.8331 37.2431 29.703 37.0701C30.5729 36.8971 31.3719 36.47 31.9991 35.8428C32.6262 35.2157 33.0533 34.4166 33.2263 33.5467C33.3994 32.6768 33.3106 31.7752 32.9711 30.9558C32.6317 30.1364 32.057 29.436 31.3195 28.9433C30.5821 28.4505 29.715 28.1875 28.8281 28.1875H13.3202C13.0201 28.1875 12.7296 28.0821 12.4993 27.8898C12.2689 27.6975 12.1134 27.4305 12.0598 27.1353L11.5521 24.3438H30.1302C31.0304 24.3436 31.9019 24.0276 32.5929 23.4507C33.2839 22.8738 33.7506 22.0727 33.9115 21.1871L35.859 10.479C35.892 10.2939 35.8838 10.1039 35.8351 9.92231C35.7864 9.74074 35.6983 9.57212 35.5771 9.4284ZM15.375 32.6719C15.375 33.052 15.2623 33.4236 15.0511 33.7396C14.8399 34.0557 14.5398 34.302 14.1886 34.4475C13.8374 34.5929 13.451 34.631 13.0782 34.5568C12.7054 34.4827 12.3629 34.2996 12.0942 34.0308C11.8254 33.7621 11.6423 33.4196 11.5682 33.0468C11.494 32.674 11.5321 32.2876 11.6775 31.9364C11.823 31.5852 12.0693 31.2851 12.3854 31.0739C12.7014 30.8627 13.073 30.75 13.4531 30.75C13.9628 30.75 14.4517 30.9525 14.8121 31.3129C15.1725 31.6733 15.375 32.1622 15.375 32.6719ZM30.75 32.6719C30.75 33.052 30.6373 33.4236 30.4261 33.7396C30.2149 34.0557 29.9148 34.302 29.5636 34.4475C29.2124 34.5929 28.826 34.631 28.4532 34.5568C28.0804 34.4827 27.7379 34.2996 27.4692 34.0308C27.2004 33.7621 27.0173 33.4196 26.9432 33.0468C26.869 32.674 26.9071 32.2876 27.0525 31.9364C27.198 31.5852 27.4443 31.2851 27.7604 31.0739C28.0764 30.8627 28.448 30.75 28.8281 30.75C29.3378 30.75 29.8267 30.9525 30.1871 31.3129C30.5475 31.6733 30.75 32.1622 30.75 32.6719ZM31.3906 20.729C31.3368 21.0251 31.1806 21.2927 30.9493 21.4851C30.7179 21.6775 30.4263 21.7823 30.1254 21.7812H11.086L9.2234 11.5312H33.0579L31.3906 20.729Z",fill:"#0E0D35"})}),"Shopping"]}),w.jsxs("button",{onClick:t.NextFound,children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",children:w.jsx("path",{d:"M36.8888 22.5916C36.412 22.2248 35.8571 21.9729 35.2671 21.8554C34.6771 21.7379 34.068 21.758 33.4871 21.9142L26.7861 23.4549C26.942 22.7963 26.9468 22.111 26.8002 21.4503C26.6536 20.7896 26.3593 20.1706 25.9395 19.6399C25.5196 19.1091 24.985 18.6802 24.3759 18.3854C23.7667 18.0905 23.0987 17.9374 22.4219 17.9375H14.4045C13.7312 17.9358 13.0642 18.0676 12.4421 18.3251C11.82 18.5827 11.2551 18.961 10.7801 19.4382L7.15738 23.0625H2.5625C1.88288 23.0625 1.2311 23.3325 0.750539 23.813C0.269977 24.2936 0 24.9454 0 25.625L0 32.0313C0 32.7109 0.269977 33.3627 0.750539 33.8432C1.2311 34.3238 1.88288 34.5938 2.5625 34.5938H19.2188C19.3235 34.5938 19.4279 34.5809 19.5295 34.5553L29.7795 31.9928C29.8448 31.9773 29.9086 31.9558 29.97 31.9288L36.1953 29.2798L36.2658 29.2477C36.8641 28.9488 37.3764 28.5024 37.7545 27.9507C38.1326 27.399 38.3641 26.7602 38.427 26.0943C38.49 25.4284 38.3824 24.7575 38.1144 24.1447C37.8464 23.5319 37.4268 22.9975 36.8952 22.5916H36.8888ZM2.5625 25.625H6.40625V32.0313H2.5625V25.625ZM35.1431 26.9399L29.0571 29.5312L19.0586 32.0313H8.96875V24.8739L12.5931 21.2511C12.8302 21.0121 13.1124 20.8227 13.4234 20.6937C13.7343 20.5648 14.0678 20.4989 14.4045 20.5H22.4219C22.9316 20.5 23.4204 20.7025 23.7808 21.0629C24.1413 21.4233 24.3438 21.9122 24.3438 22.4219C24.3438 22.9316 24.1413 23.4204 23.7808 23.7808C23.4204 24.1413 22.9316 24.3438 22.4219 24.3438H17.9375C17.5977 24.3438 17.2718 24.4787 17.0315 24.719C16.7912 24.9593 16.6562 25.2852 16.6562 25.625C16.6562 25.9648 16.7912 26.2907 17.0315 26.531C17.2718 26.7713 17.5977 26.9063 17.9375 26.9063H23.0625C23.1589 26.906 23.2551 26.8952 23.3492 26.8742L34.0796 24.4062L34.1293 24.3934C34.4569 24.3025 34.8065 24.3359 35.1109 24.4872C35.4153 24.6386 35.653 24.8971 35.7782 25.2132C35.9035 25.5292 35.9074 25.8804 35.7892 26.1992C35.6711 26.518 35.4392 26.7818 35.1383 26.9399H35.1431ZM26.2656 15.375C26.5822 15.3754 26.8982 15.3496 27.2105 15.2981C27.5619 16.3416 28.2046 17.2627 29.0628 17.9525C29.921 18.6422 30.9588 19.0719 32.0534 19.1905C33.148 19.3092 34.2537 19.112 35.2398 18.6221C36.2259 18.1323 37.0511 17.3704 37.6179 16.4264C38.1846 15.4825 38.4693 14.396 38.4381 13.2954C38.407 12.1948 38.0613 11.1261 37.4421 10.2157C36.8228 9.30534 35.9558 8.5913 34.9436 8.15803C33.9314 7.72477 32.8163 7.59039 31.7302 7.77078C31.3919 6.7654 30.7828 5.87282 29.97 5.19127C29.1571 4.50972 28.172 4.06564 27.123 3.90787C26.0741 3.75011 25.0019 3.88479 24.0245 4.2971C23.0472 4.7094 22.2025 5.38334 21.5835 6.24476C20.9644 7.10617 20.5951 8.12166 20.516 9.17948C20.4369 10.2373 20.6511 11.2964 21.1352 12.2403C21.6192 13.1842 22.3543 13.9763 23.2595 14.5293C24.1646 15.0824 25.2049 15.375 26.2656 15.375ZM35.875 13.4531C35.875 14.0866 35.6871 14.7059 35.3352 15.2327C34.9832 15.7594 34.483 16.17 33.8977 16.4124C33.3124 16.6549 32.6683 16.7183 32.047 16.5947C31.4256 16.4711 30.8549 16.166 30.4069 15.7181C29.959 15.2701 29.6539 14.6994 29.5303 14.078C29.4067 13.4567 29.4701 12.8126 29.7126 12.2273C29.955 11.642 30.3656 11.1418 30.8923 10.7898C31.4191 10.4379 32.0384 10.25 32.6719 10.25C33.5214 10.25 34.3361 10.5875 34.9368 11.1882C35.5375 11.7889 35.875 12.6036 35.875 13.4531ZM26.2656 6.40625C26.9644 6.4066 27.6439 6.63545 28.2005 7.05789C28.7571 7.48034 29.1603 8.07322 29.3486 8.74614C28.6924 9.20786 28.1398 9.80146 27.7261 10.489C27.3125 11.1765 27.0469 11.9428 26.9463 12.7388C26.7226 12.7871 26.4945 12.8118 26.2656 12.8125C25.4161 12.8125 24.6014 12.475 24.0007 11.8743C23.4 11.2736 23.0625 10.4589 23.0625 9.60938C23.0625 8.75986 23.4 7.94513 24.0007 7.34443C24.6014 6.74372 25.4161 6.40625 26.2656 6.40625Z",fill:"#0E0D35"})}),"Found"]}),w.jsxs("button",{onClick:t.NextInvite,children:[t.InviteButtonIcon||w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:w.jsx("path",{d:"M27.7527 9.46877C27.7527 9.12896 27.8877 8.80307 28.128 8.56279C28.3683 8.32251 28.6942 8.18752 29.034 8.18752H31.5965V5.62502C31.5965 5.28521 31.7314 4.95932 31.9717 4.71904C32.212 4.47876 32.5379 4.34377 32.8777 4.34377C33.2175 4.34377 33.5434 4.47876 33.7837 4.71904C34.024 4.95932 34.159 5.28521 34.159 5.62502V8.18752H36.7215C37.0613 8.18752 37.3872 8.32251 37.6274 8.56279C37.8677 8.80307 38.0027 9.12896 38.0027 9.46877C38.0027 9.80858 37.8677 10.1345 37.6274 10.3747C37.3872 10.615 37.0613 10.75 36.7215 10.75H34.159V13.3125C34.159 13.6523 34.024 13.9782 33.7837 14.2185C33.5434 14.4588 33.2175 14.5938 32.8777 14.5938C32.5379 14.5938 32.212 14.4588 31.9717 14.2185C31.7314 13.9782 31.5965 13.6523 31.5965 13.3125V10.75H29.034C28.6942 10.75 28.3683 10.615 28.128 10.3747C27.8877 10.1345 27.7527 9.80858 27.7527 9.46877ZM37.7721 18.2261C38.3574 21.7056 37.8218 25.2811 36.2426 28.4363C34.6634 31.5916 32.1223 34.1633 28.9862 35.7802C25.8501 37.3971 22.2813 37.9755 18.7951 37.4319C15.3088 36.8883 12.0855 35.2508 9.59059 32.7559C7.09565 30.2609 5.45816 27.0377 4.91455 23.5514C4.37095 20.0651 4.94935 16.4963 6.56626 13.3602C8.18316 10.2241 10.7549 7.68305 13.9101 6.10384C17.0654 4.52464 20.6409 3.98905 24.1204 4.57439C24.453 4.63321 24.7489 4.82097 24.9437 5.09684C25.1386 5.37271 25.2167 5.71436 25.1609 6.04748C25.1052 6.3806 24.9202 6.67824 24.6461 6.87566C24.3721 7.07308 24.0312 7.1543 23.6976 7.10166C21.6766 6.76169 19.6058 6.86619 17.6294 7.40789C15.6529 7.94959 13.8182 8.91547 12.253 10.2383C10.6878 11.5612 9.4296 13.2092 8.56605 15.0677C7.70251 16.9263 7.25433 18.9507 7.25271 21C7.24968 24.4501 8.5177 27.7804 10.8146 30.3547C12.2436 28.284 14.2529 26.6821 16.5898 25.7503C15.3345 24.7615 14.4185 23.4062 13.9691 21.8727C13.5198 20.3392 13.5595 18.7038 14.0827 17.194C14.6059 15.6841 15.5866 14.3748 16.8885 13.4482C18.1903 12.5215 19.7485 12.0235 21.3465 12.0235C22.9444 12.0235 24.5026 12.5215 25.8045 13.4482C27.1063 14.3748 28.087 15.6841 28.6102 17.194C29.1334 18.7038 29.1731 20.3392 28.7238 21.8727C28.2745 23.4062 27.3584 24.7615 26.1031 25.7503C28.4401 26.6821 30.4494 28.284 31.8783 30.3547C34.1752 27.7804 35.4432 24.4501 35.4402 21C35.4403 20.2123 35.3749 19.4259 35.2448 18.6489C35.2153 18.4823 35.2192 18.3114 35.2561 18.1462C35.2931 17.981 35.3623 17.8248 35.46 17.6866C35.5577 17.5483 35.6817 17.4308 35.8251 17.3408C35.9684 17.2508 36.1281 17.19 36.2951 17.1621C36.462 17.1342 36.6328 17.1396 36.7977 17.1781C36.9625 17.2165 37.1181 17.2873 37.2554 17.3862C37.3927 17.4851 37.5091 17.6103 37.5978 17.7545C37.6865 17.8986 37.7457 18.0589 37.7721 18.2261ZM21.3465 24.8438C22.3601 24.8438 23.351 24.5432 24.1938 23.98C25.0366 23.4169 25.6934 22.6165 26.0813 21.68C26.4692 20.7435 26.5707 19.7131 26.373 18.7189C26.1752 17.7248 25.6871 16.8116 24.9704 16.0948C24.2536 15.3781 23.3405 14.89 22.3463 14.6922C21.3521 14.4945 20.3217 14.596 19.3852 14.9839C18.4487 15.3718 17.6483 16.0287 17.0852 16.8715C16.522 17.7143 16.2215 18.7051 16.2215 19.7188C16.2215 21.078 16.7614 22.3816 17.7225 23.3427C18.6837 24.3038 19.9872 24.8438 21.3465 24.8438ZM21.3465 35.0938C24.4749 35.0969 27.5146 34.054 29.9821 32.1309C29.0552 30.6813 27.7783 29.4883 26.2691 28.662C24.76 27.8356 23.0671 27.4025 21.3465 27.4025C19.6259 27.4025 17.933 27.8356 16.4238 28.662C14.9146 29.4883 13.6377 30.6813 12.7108 32.1309C15.1784 34.054 18.218 35.0969 21.3465 35.0938Z",fill:"#0E0D35"})}),t.InviteButtonText||"Invite"]})]}),HB=t=>{const[e,n]=M.useState([]),r=Vm();return M.useEffect(()=>{(async()=>{if(t.trim()===""){n([]);return}try{const s=xs(zn(r,"users"),An("username",">=",t),An("username","<=",t+"")),l=(await wu(s)).docs.map(u=>({id:u.id,...u.data()}));n(l)}catch(s){console.error("Error fetching filtered users: ",s)}})()},[t,r]),e},WB=t=>{const[e,n]=M.useState(!1),[r,i]=M.useState(""),[s,a]=M.useState([]),[l,u]=M.useState([]),[d,p]=M.useState(4),m=Vm(),g=HB(r),_=async j=>{const U=ot(m,"events",j),H=await kn(U);if(H.exists()){const N=H.data();return{eventType:(N==null?void 0:N.eventType)||"",eventDate:(N==null?void 0:N.date)||"",startTime:(N==null?void 0:N.startTime)||"",creatorId:(N==null?void 0:N.userId)||"",eventName:(N==null?void 0:N.name)||""}}return{eventType:"",eventDate:"",startTime:"",creatorId:"",eventName:""}},C=async j=>{if(!j)return{creatorName:"",creatorImg:""};const U=ot(m,"users",j),H=await kn(U);if(H.exists()){const N=H.data();return{creatorName:(N==null?void 0:N.username)||"",creatorImg:(N==null?void 0:N.img)||""}}return{creatorName:"",creatorImg:""}},b=async j=>{const U=ot(m,"users",j),H=await kn(U);if(H.exists()){const N=H.data();return{username:(N==null?void 0:N.username)||"",img:(N==null?void 0:N.img)||""}}return{username:"",img:""}},k=async()=>{if(!t||s.length===0){console.error("No users selected or event ID is missing");return}try{const j=await _(t),U=j.creatorId,{creatorName:H,creatorImg:N}=await C(U),S=[];for(const A of s){const R=await b(A.id),V=A.img,B={userId:A.id,eventId:t,eventType:j.eventType,eventDate:j.eventDate,startTime:j.startTime,userImg:V,creatorName:H,creatorId:U,creatorImg:N,username:R.username,eventName:j.eventName};S.push(B);const D=zn(m,"invitations"),re=ot(D,`${t}_${A.id}`);await ow(re,{...B,status:"pending",dateSent:new Date().toISOString()}),console.log(`Invitacin enviada a: ${R.username} para el evento: ${t}`)}u(A=>[...A,...S]),n(!1),a([])}catch(j){console.error("Error inviting users: ",j)}},x=()=>{n(!0)},T=()=>{p(j=>j+4)},P=l.slice(0,d);return{isModalOpen:e,setIsModalOpen:n,filteredUsers:g,searchValue:r,setSearchValue:i,selectedUsers:s,setSelectedUsers:a,handleInviteUser:k,handleNextInvite:x,sentInvitations:l,visibleInvitations:P,loadMoreInvitations:T}},q4=t=>{const[e,n]=M.useState([]),[r,i]=M.useState([]),[s,a]=M.useState(3),[l,u]=M.useState(!0),[d,p]=M.useState(null),m=M.useCallback(()=>{window.innerWidth<768?a(1):window.innerWidth<1024?a(2):a(4)},[]);return M.useEffect(()=>(m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)),[m]),M.useEffect(()=>{if(!t){p("User ID is required"),u(!1);return}u(!0),(async()=>{try{const _=xs(zn(Qe,"invitations"),An("userId","==",t),An("status","==","accepted")),C=Hi(_,b=>{const k=b.docs.map(T=>T.data());i(k);const x=[...new Set(k.map(T=>T.eventId))];if(x.length>0){const T=xs(zn(Qe,"events"),An("__name__","in",x)),P=Hi(T,U=>{const H=U.docs.map(N=>({id:N.id,...N.data()}));n(H),u(!1)});return(async()=>{const U=xs(zn(Qe,"invitations"),An("eventId","in",x),An("status","==","accepted"));Hi(U,H=>{const N=H.docs.map(S=>S.data());i(N)})})(),()=>{P()}}else n([]),u(!1)});return()=>C()}catch(_){console.error("Error fetching events: ",_),p("Error loading events. Please try again later."),u(!1)}})()},[t]),{profiles:e,invitations:r,slidesPerView:s,loading:l,error:d}},GB=t=>{const e=Xr(),n=()=>{e(-1)};return w.jsx("div",{className:"BackBtn",children:w.jsxs("button",{onClick:n,children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:w.jsx("path",{d:"M20.8648 25.0102C20.9548 25.0998 21.0262 25.2063 21.0749 25.3235C21.1236 25.4406 21.1487 25.5662 21.1487 25.693C21.1487 25.8198 21.1236 25.9454 21.0749 26.0625C21.0262 26.1797 20.9548 26.2861 20.8648 26.3758C20.7748 26.4655 20.6679 26.5366 20.5503 26.5851C20.4328 26.6336 20.3067 26.6586 20.1794 26.6586C20.0521 26.6586 19.9261 26.6336 19.8085 26.5851C19.6909 26.5366 19.5841 26.4655 19.4941 26.3758L9.80684 16.7248C9.71677 16.6351 9.64532 16.5287 9.59657 16.4115C9.54782 16.2944 9.52273 16.1688 9.52273 16.042C9.52273 15.9151 9.54782 15.7895 9.59657 15.6724C9.64532 15.5552 9.71677 15.4488 9.80684 15.3591L19.4941 5.70812C19.6758 5.52703 19.9224 5.42529 20.1794 5.42529C20.4365 5.42529 20.683 5.52703 20.8648 5.70812C21.0466 5.88921 21.1487 6.13483 21.1487 6.39093C21.1487 6.64704 21.0466 6.89265 20.8648 7.07374L11.8617 16.042L20.8648 25.0102Z",fill:"#0E0D35"})}),w.jsx("p",{children:t.NameEvent})]})})},qB=t=>{const{state:e}=Fd(),n=Xr(),r=e==null?void 0:e.id,i=(e==null?void 0:e.userType)||"Guest",{isModalOpen:s,setIsModalOpen:a,searchValue:l,setSearchValue:u,filteredUsers:d,selectedUsers:p,setSelectedUsers:m,handleInviteUser:g}=WB(r),{invitations:_}=q4(e==null?void 0:e.userId),[C,b]=M.useState(!1),k=()=>{n(`/shopping/${r}`,{state:{eventType:t.EventType,eventId:r}})},x=()=>{n(`/found/${r}`,{state:{eventType:t.EventType,eventId:r}})},T=()=>{a(!0),console.log("Invitacin enviada por el Host")},P=()=>{console.log("Invitacin enviada por el Guest"),b(!0)},j=()=>{a(!1),u(""),m([])},U=()=>{b(!1)},[H,N]=M.useState(null);return M.useEffect(()=>{(async()=>{const A=ot(Qe,"events",r),R=await kn(A);R.exists()?(console.log("Event data:",R.data()),N(R.data())):console.log("No such document!")})()},[r]),H?w.jsxs("div",{className:"InfoCard",children:[w.jsx(GB,{NameEvent:H.name}),w.jsx("div",{className:"ImgBanner",children:w.jsx("img",{src:t.img,alt:""})}),w.jsx("div",{className:"NameEvent",children:w.jsx("h1",{children:t.NameEvent})}),w.jsx("div",{className:"Host",children:w.jsx("p",{children:t.Host})}),w.jsxs("div",{className:"InfoSecttion1",children:[w.jsxs("div",{id:"row1",children:[w.jsxs("div",{className:"EventDescription",children:[w.jsx("img",{src:"https://raw.githubusercontent.com/valen-web/LAB5/refs/heads/main/Group%201000004562d.png",alt:"EventTypeIcon"}),w.jsx("p",{children:t.EventType})]}),w.jsxs("div",{className:"EventDescription",children:[w.jsx("img",{src:"https://raw.githubusercontent.com/valen-web/LAB5/refs/heads/main/Group%201000004562.png",alt:"DressCodeIcon"}),w.jsx("p",{children:t.DressCode})]})]}),w.jsxs("div",{id:"row2",children:[w.jsxs("div",{className:"EventDescription",children:[w.jsx("img",{src:"https://raw.githubusercontent.com/valen-web/LAB5/refs/heads/main/Group%201000004561.png",alt:"DateIcon"}),w.jsx("p",{children:t.Date})]}),w.jsxs("div",{className:"EventDescription",children:[w.jsx("img",{src:"https://raw.githubusercontent.com/valen-web/LAB5/refs/heads/main/Group%20100000456e.png",alt:"StartTimeIcon"}),w.jsx("p",{children:t.StartTime})]})]}),w.jsxs("div",{id:"row3",children:[w.jsxs("div",{className:"EventDescription",children:[w.jsx("img",{src:"https://raw.githubusercontent.com/valen-web/LAB5/refs/heads/main/dcc.png",alt:"LocationIcon"}),w.jsx("p",{children:t.Location})]}),w.jsx("div",{className:"EditEventButton",children:w.jsx("img",{src:"https://raw.githubusercontent.com/valen-web/LAB5/refs/heads/main/download.webp",alt:"Esiteven"})})]})]}),w.jsxs("div",{className:"InfoSecttion2",children:[w.jsxs("div",{id:"info_desc_info",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Description:"})," "]}),w.jsx("p",{children:t.Description})]}),w.jsxs("div",{id:"FunctionBtns",children:[i==="Host"&&w.jsx(AS,{NextShooping:k,NextFound:x,NextInvite:T}),i==="Guest"&&w.jsx(AS,{NextFound:x,NextInvite:P,InviteButtonText:"Guests",InviteButtonIcon:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:w.jsx("path",{d:"M27.7527 9.46877C27.7527 9.12896 27.8877 8.80307 28.128 8.56279C28.3683 8.32251 28.6942 8.18752 29.034 8.18752H31.5965V5.62502C31.5965 5.28521 31.7314 4.95932 31.9717 4.71904C32.212 4.47876 32.5379 4.34377 32.8777 4.34377C33.2175 4.34377 33.5434 4.47876 33.7837 4.71904C34.024 4.95932 34.159 5.28521 34.159 5.62502V8.18752H36.7215C37.0613 8.18752 37.3872 8.32251 37.6274 8.56279C37.8677 8.80307 38.0027 9.12896 38.0027 9.46877C38.0027 9.80858 37.8677 10.1345 37.6274 10.3747C37.3872 10.615 37.0613 10.75 36.7215 10.75H34.159V13.3125C34.159 13.6523 34.024 13.9782 33.7837 14.2185C33.5434 14.4588 33.2175 14.5938 32.8777 14.5938C32.5379 14.5938 32.212 14.4588 31.9717 14.2185C31.7314 13.9782 31.5965 13.6523 31.5965 13.3125V10.75H29.034C28.6942 10.75 28.3683 10.615 28.128 10.3747C27.8877 10.1345 27.7527 9.80858 27.7527 9.46877ZM37.7721 18.2261C38.3574 21.7056 37.8218 25.2811 36.2426 28.4363C34.6634 31.5916 32.1223 34.1633 28.9862 35.7802C25.8501 37.3971 22.2813 37.9755 18.7951 37.4319C15.3088 36.8883 12.0855 35.2508 9.59059 32.7559C7.09565 30.2609 5.45816 27.0377 4.91455 23.5514C4.37095 20.0651 4.94935 16.4963 6.56626 13.3602C8.18316 10.2241 10.7549 7.68305 13.9101 6.10384C17.0654 4.52464 20.6409 3.98905 24.1204 4.57439C24.453 4.63321 24.7489 4.82097 24.9437 5.09684C25.1386 5.37271 25.2167 5.71436 25.1609 6.04748C25.1052 6.3806 24.9202 6.67824 24.6461 6.87566C24.3721 7.07308 24.0312 7.1543 23.6976 7.10166C21.6766 6.76169 19.6058 6.86619 17.6294 7.40789C15.6529 7.94959 13.8182 8.91547 12.253 10.2383C10.6878 11.5612 9.4296 13.2092 8.56605 15.0677C7.70251 16.9263 7.25433 18.9507 7.25271 21C7.24968 24.4501 8.5177 27.7804 10.8146 30.3547C12.2436 28.284 14.2529 26.6821 16.5898 25.7503C15.3345 24.7615 14.4185 23.4062 13.9691 21.8727C13.5198 20.3392 13.5595 18.7038 14.0827 17.194C14.6059 15.6841 15.5866 14.3748 16.8885 13.4482C18.1903 12.5215 19.7485 12.0235 21.3465 12.0235C22.9444 12.0235 24.5026 12.5215 25.8045 13.4482C27.1063 14.3748 28.087 15.6841 28.6102 17.194C29.1334 18.7038 29.1731 20.3392 28.7238 21.8727C28.2745 23.4062 27.3584 24.7615 26.1031 25.7503C28.4401 26.6821 30.4494 28.284 31.8783 30.3547C34.1752 27.7804 35.4432 24.4501 35.4402 21C35.4403 20.2123 35.3749 19.4259 35.2448 18.6489C35.2153 18.4823 35.2192 18.3114 35.2561 18.1462C35.2931 17.981 35.3623 17.8248 35.46 17.6866C35.5577 17.5483 35.6817 17.4308 35.8251 17.3408C35.9684 17.2508 36.1281 17.19 36.2951 17.1621C36.462 17.1342 36.6328 17.1396 36.7977 17.1781C36.9625 17.2165 37.1181 17.2873 37.2554 17.3862C37.3927 17.4851 37.5091 17.6103 37.5978 17.7545C37.6865 17.8986 37.7457 18.0589 37.7721 18.2261ZM21.3465 24.8438C22.3601 24.8438 23.351 24.5432 24.1938 23.98C25.0366 23.4169 25.6934 22.6165 26.0813 21.68C26.4692 20.7435 26.5707 19.7131 26.373 18.7189C26.1752 17.7248 25.6871 16.8116 24.9704 16.0948C24.2536 15.3781 23.3405 14.89 22.3463 14.6922C21.3521 14.4945 20.3217 14.596 19.3852 14.9839C18.4487 15.3718 17.6483 16.0287 17.0852 16.8715C16.522 17.7143 16.2215 18.7051 16.2215 19.7188C16.2215 21.078 16.7614 22.3816 17.7225 23.3427C18.6837 24.3038 19.9872 24.8438 21.3465 24.8438ZM21.3465 35.0938C24.4749 35.0969 27.5146 34.054 29.9821 32.1309C29.0552 30.6813 27.7783 29.4883 26.2691 28.662C24.76 27.8356 23.0671 27.4025 21.3465 27.4025C19.6259 27.4025 17.933 27.8356 16.4238 28.662C14.9146 29.4883 13.6377 30.6813 12.7108 32.1309C15.1784 34.054 18.218 35.0969 21.3465 35.0938Z",fill:"#0E0D35"})})})]})]}),C&&w.jsx(zB,{eventId:r,closeModal:U,invitations:_}),s&&w.jsx(UB,{users:d,searchValue:l,setSearchValue:u,closeModal:j,selectedUsers:p,setSelectedUsers:m,handleInviteUser:g})]}):w.jsx("p",{children:"Loading event details..."})},KB=({eventId:t})=>{const[e,n]=M.useState(null);return M.useEffect(()=>{(async()=>{const i=ot(Qe,"events",t),s=await kn(i);s.exists()?(console.log("Event data:",s.data()),n(s.data())):console.log("No such document!")})()},[t]),e?w.jsx(w.Fragment,{children:w.jsx("div",{className:"MapInfo",children:w.jsx(qB,{img:e.image,NameEvent:e.name,Host:e.host,EventType:e.eventType,DressCode:e.dressCode,Date:e.date,StartTime:e.startTime,Location:e.location,Description:e.description})})}):w.jsx("p",{children:"Loading event details..."})},ZB=({creatorId:t})=>{const[e,n]=M.useState([]),[r,i]=M.useState(0);M.useEffect(()=>{if(console.log("Creator ID in InvitationsAccept:",t),!t){console.error("Creator ID is missing.");return}(async()=>{try{const l=zn(Qe,"invitations"),u=xs(l,An("creatorId","==",t),An("status","==","accepted")),d=await wu(u);if(d.empty){console.log("No accepted invitations found for this creator.");return}const p=[];d.forEach(m=>{const g=m.data();console.log("Invitation Data:",g),g.userId&&g.username&&g.userImg?p.push({id:g.userId,name:g.username,profileUrl:g.userImg,eventName:g.eventName||"Unknown Event"}):console.warn("Missing fields in invitation data:",g)}),n(p),console.log("Accepted Users:",p)}catch(l){console.error("Error fetching accepted users:",l)}})()},[t]),M.useEffect(()=>{e.length>5&&i(e.length-5)},[e]);const s=e.slice(r,r+5);return w.jsx("div",{id:"acepted_invitations_shadow",children:w.jsxs("div",{id:"acepted_invitations_div",children:[w.jsx("h2",{id:"acepted_invitations_tittles",children:"Your notifications"}),s.length>0?s.map(a=>w.jsxs("div",{id:"acepted_invitation",children:[w.jsx("img",{id:"img_acc",src:a.profileUrl,alt:a.name}),w.jsx("div",{id:"acepted_invitation_text",children:w.jsxs("p",{id:"text_accepted_p",children:[a.name," accepted the invitation for ",w.jsx("br",{}),w.jsx("span",{className:"bold-text",children:a.eventName})]})})]},a.id)):w.jsx("p",{id:"no_accepted_inv_acc",children:"No accepted invitations yet."})]})})},Xm=()=>{const{userId:t}=Vd(),e=Xr(),{user:n}=eh(),[r,i]=M.useState(!1),[s,a]=M.useState(0),[l,u]=M.useState(!1),d=(n==null?void 0:n.username)||"Guest",p=(n==null?void 0:n.img)||"https://via.placeholder.com/50";M.useEffect(()=>{if(t){const C=ot(Qe,"users",t,"notifications","accepted"),b=Hi(C,k=>{if(k.exists()){const x=k.data();x&&x.hasAccepted&&(a(T=>T+1),u(!0))}});return()=>b()}},[t]);const m=()=>{i(C=>!C),u(!1)},g=()=>{n!=null&&n.uid&&(e(`/main/${n.uid}`),e("/login"))},_=()=>{t?e(`/profile/${t}`):console.error("User ID is not available.")};return w.jsxs("nav",{className:"nav_bar2",children:[w.jsx("h1",{className:"app_name",onClick:g,children:"Eventix"}),w.jsx("h1",{className:"app_name_responsive",onClick:g,children:"Eventix"}),w.jsxs("div",{className:"user-container",children:[w.jsxs("button",{id:"svg_button",onClick:m,className:l?"notification-active":"",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:w.jsx("path",{d:"M21.0002 28C21.0002 28.2652 20.8949 28.5196 20.7073 28.7071C20.5198 28.8946 20.2654 29 20.0002 29H12.0002C11.735 29 11.4807 28.8946 11.2931 28.7071C11.1056 28.5196 11.0002 28.2652 11.0002 28C11.0002 27.7348 11.1056 27.4804 11.2931 27.2929C11.4807 27.1054 11.735 27 12.0002 27H20.0002C20.2654 27 20.5198 27.1054 20.7073 27.2929C20.8949 27.4804 21.0002 27.7348 21.0002 28ZM27.7315 24C27.558 24.3056 27.3061 24.5595 27.0017 24.7353C26.6974 24.911 26.3517 25.0024 26.0002 25H6.00023C5.64865 24.9995 5.30341 24.9064 4.9993 24.73C4.69519 24.5535 4.44297 24.3 4.26804 23.9951C4.09312 23.6901 4.00168 23.3444 4.00294 22.9928C4.0042 22.6412 4.09812 22.2962 4.27523 21.9925C4.96898 20.7975 6.00023 17.4175 6.00023 13C6.00023 10.3478 7.0538 7.8043 8.92916 5.92893C10.8045 4.05357 13.3481 3 16.0002 3C18.6524 3 21.1959 4.05357 23.0713 5.92893C24.9467 7.8043 26.0002 10.3478 26.0002 13C26.0002 17.4163 27.0327 20.7975 27.7265 21.9925C27.9054 22.2966 28 22.6429 28.0006 22.9957C28.0013 23.3486 27.908 23.6952 27.7302 24H27.7315ZM26.0002 23C25.034 21.3412 24.0002 17.5063 24.0002 13C24.0002 10.8783 23.1574 8.84344 21.6571 7.34315C20.1568 5.84285 18.122 5 16.0002 5C13.8785 5 11.8437 5.84285 10.3434 7.34315C8.84309 8.84344 8.00023 10.8783 8.00023 13C8.00023 17.5075 6.96523 21.3425 6.00023 23H26.0002Z",fill:"#343330"})}),l&&w.jsxs("span",{className:"notification-badge",children:["+",s]})]}),w.jsx("img",{id:"profile_img_nav",src:p,alt:"Profile",onClick:_}),w.jsx("p",{id:"user_name_nav",children:d})]}),r&&w.jsx("div",{id:"modal_background",onClick:m,children:w.jsx("div",{id:"modal_content",onClick:C=>C.stopPropagation(),children:w.jsx(ZB,{creatorId:t})})})]})},QB=()=>{const t=Fd(),{id:e}=t.state||{};return console.log("Received ID:",e),w.jsx(w.Fragment,{children:w.jsxs("div",{className:"Detail-screen",children:[w.jsx(Xm,{}),e?w.jsx(KB,{eventId:e}):w.jsx("p",{children:"No event selected"})]})})},YB=({onClick:t})=>w.jsx("div",{children:w.jsx("button",{id:"accept_button",onClick:t,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",children:w.jsx("path",{d:"M1.62666 6.6384L4.80537 10.4431L11.1022 1.77096",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})})}),XB=({onClick:t})=>w.jsx("div",{children:w.jsx("button",{id:"reject_button",onClick:t,children:w.jsx("span",{className:"material-symbols-outlined",children:w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",children:[w.jsx("path",{d:"M1.34961 1.34961L9.18961 9.18961",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),w.jsx("path",{d:"M9.18945 1.34961L1.34945 9.18961",stroke:"white","stroke-width":"2","stroke-linecap":"round"})]})})})}),RS=({creator:t,ocation:e,eventDate:n,hour:r,creatorImg:i,onAccept:s,onReject:a})=>{const[l,u]=M.useState(!1),d=()=>{u(p=>!p)};return w.jsxs("div",{id:"Invitation",className:l?"expanded":"",children:[w.jsx("img",{id:"profile_img",src:i,alt:`Creator: ${t}`}),w.jsxs("div",{id:"invitation_text",className:l?"expanded":"",children:[w.jsxs("p",{id:"name",children:[t," sent you an invitation"]}),l&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{id:"ocation",children:[w.jsx("div",{id:"ocat_icon",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 11 12",fill:"none",children:w.jsx("path",{d:"M4.79022 2.86496C4.70949 2.78444 4.60977 2.72555 4.50027 2.69372C4.39078 2.6619 4.27503 2.65816 4.16371 2.68287C4.05239 2.70757 3.94908 2.75992 3.86333 2.83507C3.77757 2.91023 3.71213 3.00577 3.67303 3.11289L1.4176 9.31672C1.38055 9.41902 1.36859 9.52872 1.3827 9.63661C1.39682 9.7445 1.43662 9.84742 1.49875 9.93675C1.56088 10.0261 1.64353 10.0992 1.73977 10.15C1.83601 10.2007 1.94302 10.2277 2.05182 10.2285C2.13193 10.228 2.21133 10.2134 2.28643 10.1855L8.48983 7.92969C8.59698 7.89064 8.69257 7.82523 8.76777 7.7395C8.84297 7.65376 8.89537 7.55047 8.92011 7.43914C8.94486 7.32782 8.94117 7.21205 8.90937 7.10253C8.87758 6.99301 8.8187 6.89327 8.73819 6.8125L4.79022 2.86496ZM4.43229 8.67477L2.92839 7.17086L3.49385 5.61496L5.98819 8.1093L4.43229 8.67477ZM2.06901 9.53414L2.67057 7.88371L3.72116 8.9343L2.06901 9.53414ZM6.70276 7.84977L3.75339 4.90039L4.31198 3.3591L8.24061 7.28773L6.70276 7.84977ZM6.87464 3.69727C6.88109 3.46488 6.93736 3.23658 7.03964 3.02781C7.26737 2.57277 7.69706 2.32227 8.24964 2.32227C8.53753 2.32227 8.72229 2.22387 8.83616 2.01246C8.89612 1.89419 8.93052 1.76462 8.93714 1.63219C8.93748 1.54102 8.97402 1.45372 9.03873 1.3895C9.10344 1.32527 9.19101 1.28938 9.28217 1.28973C9.37334 1.29007 9.46064 1.32661 9.52487 1.39132C9.58909 1.45603 9.62498 1.5436 9.62464 1.63477C9.62464 2.18734 9.25854 3.00977 8.24964 3.00977C7.96174 3.00977 7.77698 3.10816 7.66311 3.31957C7.60315 3.43784 7.56875 3.56741 7.56214 3.69984C7.56197 3.74499 7.55291 3.78965 7.53548 3.83129C7.51804 3.87293 7.49258 3.91073 7.46054 3.94253C7.4285 3.97433 7.39051 3.99951 7.34874 4.01663C7.30697 4.03375 7.26224 4.04247 7.2171 4.0423C7.17195 4.04214 7.12729 4.03308 7.08565 4.01564C7.04401 3.99821 7.00621 3.97275 6.97441 3.94071C6.94261 3.90867 6.91743 3.87068 6.90031 3.82891C6.88319 3.78714 6.87447 3.74241 6.87464 3.69727ZM5.84339 2.32227V1.29102C5.84339 1.19985 5.8796 1.11241 5.94407 1.04795C6.00853 0.983482 6.09597 0.947266 6.18714 0.947266C6.2783 0.947266 6.36574 0.983482 6.4302 1.04795C6.49467 1.11241 6.53089 1.19985 6.53089 1.29102V2.32227C6.53089 2.41343 6.49467 2.50087 6.4302 2.56533C6.36574 2.6298 6.2783 2.66602 6.18714 2.66602C6.09597 2.66602 6.00853 2.6298 5.94407 2.56533C5.8796 2.50087 5.84339 2.41343 5.84339 2.32227ZM10.2116 5.86031C10.2435 5.89225 10.2688 5.93016 10.2861 5.97188C10.3033 6.0136 10.3122 6.05831 10.3122 6.10345C10.3122 6.1486 10.3032 6.1933 10.2859 6.235C10.2687 6.27671 10.2433 6.31459 10.2114 6.3465C10.1794 6.37841 10.1415 6.40372 10.0998 6.42098C10.0581 6.43824 10.0134 6.44711 9.96823 6.44709C9.92309 6.44707 9.87839 6.43816 9.83668 6.42086C9.79498 6.40357 9.75709 6.37823 9.72518 6.34629L9.03768 5.65879C8.97318 5.59429 8.93694 5.5068 8.93694 5.41559C8.93694 5.32437 8.97318 5.23688 9.03768 5.17238C9.10218 5.10788 9.18967 5.07164 9.28089 5.07164C9.3721 5.07164 9.45959 5.10788 9.52409 5.17238L10.2116 5.86031ZM10.4208 4.0234L9.3896 4.36715C9.3031 4.39598 9.20869 4.38927 9.12714 4.3485C9.0456 4.30772 8.98358 4.23622 8.95475 4.14973C8.92592 4.06323 8.93263 3.96882 8.9734 3.88728C9.01418 3.80573 9.08568 3.74371 9.17217 3.71488L10.2034 3.37113C10.2899 3.3423 10.3843 3.34901 10.4659 3.38978C10.5474 3.43056 10.6094 3.50206 10.6383 3.58855C10.6671 3.67505 10.6604 3.76946 10.6196 3.85101C10.5788 3.93255 10.5073 3.99457 10.4208 4.0234Z",fill:"#343330"})})}),w.jsxs("p",{children:[" ",w.jsx("span",{id:"ocation_type",children:e})]})]}),w.jsxs("div",{id:"date",children:[w.jsx("div",{id:"ocat_icon",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 11 12",fill:"none",children:w.jsx("path",{d:"M8.9375 1.97852H7.90625V1.63477C7.90625 1.5436 7.87003 1.45616 7.80557 1.3917C7.7411 1.32723 7.65367 1.29102 7.5625 1.29102C7.47133 1.29102 7.3839 1.32723 7.31943 1.3917C7.25497 1.45616 7.21875 1.5436 7.21875 1.63477V1.97852H3.78125V1.63477C3.78125 1.5436 3.74503 1.45616 3.68057 1.3917C3.6161 1.32723 3.52867 1.29102 3.4375 1.29102C3.34633 1.29102 3.2589 1.32723 3.19443 1.3917C3.12997 1.45616 3.09375 1.5436 3.09375 1.63477V1.97852H2.0625C1.88016 1.97852 1.7053 2.05095 1.57636 2.17988C1.44743 2.30881 1.375 2.48368 1.375 2.66602V9.54102C1.375 9.72335 1.44743 9.89822 1.57636 10.0272C1.7053 10.1561 1.88016 10.2285 2.0625 10.2285H8.9375C9.11984 10.2285 9.2947 10.1561 9.42364 10.0272C9.55257 9.89822 9.625 9.72335 9.625 9.54102V2.66602C9.625 2.48368 9.55257 2.30881 9.42364 2.17988C9.2947 2.05095 9.11984 1.97852 8.9375 1.97852ZM3.09375 2.66602V3.00977C3.09375 3.10093 3.12997 3.18837 3.19443 3.25283C3.2589 3.3173 3.34633 3.35352 3.4375 3.35352C3.52867 3.35352 3.6161 3.3173 3.68057 3.25283C3.74503 3.18837 3.78125 3.10093 3.78125 3.00977V2.66602H7.21875V3.00977C7.21875 3.10093 7.25497 3.18837 7.31943 3.25283C7.3839 3.3173 7.47133 3.35352 7.5625 3.35352C7.65367 3.35352 7.7411 3.3173 7.80557 3.25283C7.87003 3.18837 7.90625 3.10093 7.90625 3.00977V2.66602H8.9375V4.04102H2.0625V2.66602H3.09375ZM8.9375 9.54102H2.0625V4.72852H8.9375V9.54102ZM4.8125 5.75977V8.50977C4.8125 8.60093 4.77628 8.68837 4.71182 8.75283C4.64735 8.8173 4.55992 8.85352 4.46875 8.85352C4.37758 8.85352 4.29015 8.8173 4.22568 8.75283C4.16122 8.68837 4.125 8.60093 4.125 8.50977V6.31578L3.93508 6.41117C3.85348 6.45197 3.75902 6.45868 3.67248 6.42983C3.58593 6.40099 3.51439 6.33894 3.47359 6.25734C3.4328 6.17575 3.42608 6.08129 3.45493 5.99474C3.48378 5.9082 3.54583 5.83666 3.62742 5.79586L4.31492 5.45211C4.36735 5.42587 4.42561 5.41348 4.48418 5.41612C4.54275 5.41875 4.59967 5.43631 4.64953 5.46714C4.69939 5.49797 4.74054 5.54105 4.76907 5.59226C4.79759 5.64348 4.81254 5.70114 4.8125 5.75977ZM7.35453 7.06816L6.53125 8.16602H7.21875C7.30992 8.16602 7.39735 8.20223 7.46182 8.2667C7.52628 8.33116 7.5625 8.4186 7.5625 8.50977C7.5625 8.60093 7.52628 8.68837 7.46182 8.75283C7.39735 8.8173 7.30992 8.85352 7.21875 8.85352H5.84375C5.77991 8.85352 5.71733 8.83574 5.66303 8.80218C5.60873 8.76861 5.56484 8.72059 5.53629 8.6635C5.50774 8.6064 5.49566 8.54248 5.50139 8.4789C5.50712 8.41531 5.53045 8.35459 5.56875 8.30352L6.80539 6.6548C6.83352 6.61736 6.8537 6.57456 6.86469 6.52903C6.87568 6.48351 6.87726 6.43621 6.86931 6.39006C6.86137 6.3439 6.84408 6.29985 6.81851 6.26062C6.79293 6.22139 6.7596 6.1878 6.72058 6.1619C6.68155 6.13601 6.63764 6.11837 6.59155 6.11006C6.54546 6.10175 6.49816 6.10294 6.45254 6.11357C6.40693 6.12419 6.36397 6.14403 6.3263 6.17186C6.28863 6.19968 6.25704 6.23492 6.23348 6.27539C6.21157 6.31573 6.18181 6.35127 6.14594 6.37993C6.11008 6.40858 6.06884 6.42975 6.02466 6.44221C5.98048 6.45466 5.93425 6.45814 5.8887 6.45244C5.84315 6.44674 5.79921 6.43198 5.75946 6.40902C5.71971 6.38606 5.68496 6.35537 5.65726 6.31876C5.62957 6.28215 5.60948 6.24037 5.59819 6.19588C5.58691 6.15138 5.58465 6.10508 5.59154 6.05969C5.59844 6.01431 5.61436 5.97077 5.63836 5.93164C5.75191 5.73514 5.92711 5.58158 6.1368 5.49478C6.3465 5.40797 6.57897 5.39276 6.79818 5.4515C7.0174 5.51025 7.21111 5.63967 7.3493 5.8197C7.48749 5.99973 7.56242 6.22032 7.5625 6.44727C7.56323 6.67145 7.49015 6.88965 7.35453 7.06816Z",fill:"#343330"})})}),w.jsx("p",{children:w.jsx("span",{id:"date_number",children:n})})]}),w.jsxs("div",{id:"hour",children:[w.jsx("div",{id:"ocat_icon",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 11 12",fill:"none",children:w.jsx("path",{d:"M5.5 1.63477C4.61617 1.63477 3.75218 1.89685 3.0173 2.38789C2.28242 2.87892 1.70964 3.57684 1.37142 4.3934C1.03319 5.20996 0.94469 6.10847 1.11712 6.97533C1.28955 7.84218 1.71515 8.63843 2.34012 9.2634C2.96508 9.88836 3.76134 10.314 4.62819 10.4864C5.49504 10.6588 6.39356 10.5703 7.21012 10.2321C8.02668 9.89387 8.7246 9.3211 9.21563 8.58622C9.70666 7.85134 9.96875 6.98735 9.96875 6.10352C9.9675 4.91871 9.49629 3.7828 8.6585 2.94501C7.82072 2.10723 6.6848 1.63602 5.5 1.63477ZM5.5 9.88477C4.75214 9.88477 4.02108 9.663 3.39925 9.24751C2.77743 8.83202 2.29278 8.24147 2.00658 7.55054C1.72039 6.8596 1.64551 6.09932 1.79141 5.36583C1.93731 4.63234 2.29744 3.95859 2.82625 3.42977C3.35507 2.90095 4.02883 2.54082 4.76232 2.39492C5.49581 2.24902 6.25609 2.3239 6.94702 2.6101C7.63796 2.89629 8.22851 3.38094 8.644 4.00277C9.05949 4.62459 9.28125 5.35565 9.28125 6.10352C9.28012 7.10602 8.88137 8.06713 8.17249 8.77601C7.46362 9.48488 6.5025 9.88363 5.5 9.88477ZM8.25 6.10352C8.25 6.19468 8.21379 6.28212 8.14932 6.34658C8.08485 6.41105 7.99742 6.44727 7.90625 6.44727H5.5C5.40883 6.44727 5.3214 6.41105 5.25693 6.34658C5.19247 6.28212 5.15625 6.19468 5.15625 6.10352V3.69727C5.15625 3.6061 5.19247 3.51866 5.25693 3.4542C5.3214 3.38973 5.40883 3.35352 5.5 3.35352C5.59117 3.35352 5.6786 3.38973 5.74307 3.4542C5.80754 3.51866 5.84375 3.6061 5.84375 3.69727V5.75977H7.90625C7.99742 5.75977 8.08485 5.79598 8.14932 5.86045C8.21379 5.92491 8.25 6.01235 8.25 6.10352Z",fill:"#343330"})})}),w.jsx("p",{children:w.jsx("span",{id:"date_number",children:r})}),w.jsxs("div",{id:"Buttons",children:[w.jsx(YB,{icon:w.jsx("span",{className:"material-symbols-outlined",children:"check"}),onClick:s}),w.jsx(XB,{onClick:a})]})]})]})]}),w.jsx("button",{onClick:d,"aria-label":"Toggle details",id:"invitation_button",children:l?w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",children:w.jsx("path",{d:"M5.3186 16.6449C5.41113 16.7382 5.52131 16.8123 5.64263 16.8629C5.76396 16.9134 5.89408 16.9395 6.02555 16.9395C6.15702 16.9395 6.28714 16.9134 6.40847 16.8629C6.5298 16.8123 6.63998 16.7382 6.73256 16.6449L11.2935 12.084C11.3861 11.9907 11.4962 11.9166 11.6175 11.866C11.7389 11.8155 11.869 11.7894 12.0005 11.7894C12.132 11.7894 12.2622 11.8155 12.3835 11.866C12.5049 11.9166 12.6151 11.9907 12.7077 12.084L17.2686 16.6449C17.3612 16.7382 17.4713 16.8123 17.5926 16.8629C17.7139 16.9134 17.8441 16.9395 17.9755 16.9395C18.107 16.9395 18.2371 16.9134 18.3585 16.8629C18.4798 16.8123 18.59 16.7382 18.6826 16.6449C18.8681 16.4583 18.9722 16.2059 18.9722 15.9428C18.9722 15.6798 18.8681 15.4274 18.6826 15.2408L14.1117 10.6699C13.5515 10.1105 12.7923 9.79616 12.0005 9.79616C11.2088 9.79616 10.4496 10.1105 9.8894 10.6699L5.3186 15.2408C5.13313 15.4274 5.02898 15.6798 5.02898 15.9428C5.02898 16.2059 5.13313 16.4583 5.3186 16.6449Z",fill:"#808080"})}):w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",children:w.jsx("path",{d:"M18.6814 8.35511C18.5889 8.26177 18.4787 8.18769 18.3574 8.13713C18.236 8.08658 18.1059 8.06055 17.9744 8.06055C17.8429 8.06055 17.7128 8.08658 17.5914 8.13713C17.4701 8.18769 17.3599 8.26177 17.2674 8.35511L12.7065 12.916C12.6139 13.0093 12.5038 13.0834 12.3824 13.134C12.261 13.1845 12.1309 13.2106 11.9994 13.2106C11.868 13.2106 11.7378 13.1845 11.6165 13.134C11.4951 13.0834 11.385 13.0093 11.2924 12.916L6.73149 8.35511C6.63891 8.26177 6.52877 8.18769 6.40742 8.13713C6.28607 8.08658 6.15591 8.06055 6.02445 8.06055C5.89299 8.06055 5.76283 8.08658 5.64148 8.13713C5.52013 8.18769 5.40999 8.26177 5.31741 8.35511C5.13194 8.54169 5.02783 8.79409 5.02783 9.05717C5.02783 9.32025 5.13194 9.57265 5.31741 9.75923L9.88827 14.3301C10.4484 14.8895 11.2077 15.2038 11.9994 15.2038C12.7911 15.2038 13.5504 14.8895 14.1106 14.3301L18.6814 9.75923C18.8669 9.57265 18.971 9.32025 18.971 9.05717C18.971 8.79409 18.8669 8.54169 18.6814 8.35511Z",fill:"#808080"})})})]})},JB=()=>{const[t,e]=M.useState(window.innerWidth<=768),[n,r]=M.useState([]),{userId:i}=Vd(),[s]=M.useState(4);M.useEffect(()=>{i&&(()=>{try{const d=xs(zn(Qe,"invitations"),An("userId","==",i),An("status","==","pending"));return Hi(d,m=>{const g=m.docs.map(_=>({id:_.id,..._.data()}));r(g)})}catch(d){console.error("Error fetching invitations: ",d)}})()},[i]),M.useEffect(()=>{const u=()=>{e(window.innerWidth<=768)};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]);const a=async(u,d)=>{try{const p=ot(Qe,"events",d),m=await kn(p);if(!m.exists()){console.error("No se encontraron detalles del evento para el ID:",d);return}const g=m.data(),_=g==null?void 0:g.eventType,C=g==null?void 0:g.date,b=ot(Qe,"invitations",u);await Zi(b,{status:"accepted"}),console.log(`Invitacin aceptada para el evento: ${_} en la fecha: ${C}`),console.log(`ID del evento aceptado: ${d}`),r(k=>k.filter(x=>x.id!==u))}catch(p){console.error("Error accepting invitation: ",p)}},l=async u=>{try{const d=ot(Qe,"invitations",u);await Zi(d,{status:"rejected"}),console.log(`Invitacin rechazada para el ID de invitacin: ${u}`),r(p=>p.filter(m=>m.id!==u))}catch(d){console.error("Error rejecting invitation: ",d)}};return w.jsx("div",{id:"invitations_div_shadow",children:w.jsxs("div",{id:"invitations_div",children:[w.jsx("h2",{id:"invitations_tittle",children:"Invitations"}),n.length===0?w.jsx("p",{id:"no-invitations-message",children:"No pending invitations"}):t?w.jsx(y1,{spaceBetween:5,slidesPerView:1,pagination:{clickable:!0},navigation:!1,children:n.slice(0,s).map(u=>w.jsx(w1,{children:w.jsx(RS,{creator:u.creatorName,ocation:u.eventType,eventDate:u.eventDate,hour:u.startTime,creatorImg:u.creatorImg,eventData:u.eventData,onAccept:()=>a(u.id,u.eventId),onReject:()=>l(u.id)})},u.id))}):n.slice(0,s).map(u=>w.jsx(RS,{creator:u.creatorName,ocation:u.eventType,eventDate:u.eventDate,hour:u.startTime,creatorImg:u.creatorImg,eventData:u.eventData,onAccept:()=>a(u.id,u.eventId),onReject:()=>l(u.id)},u.id))]})})};function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(null,arguments)}var _c=function(t){return t&&t.Math===Math&&t},Gn=_c(typeof globalThis=="object"&&globalThis)||_c(typeof window=="object"&&window)||_c(typeof self=="object"&&self)||_c(typeof Sc=="object"&&Sc)||_c(typeof Sc=="object"&&Sc)||function(){return this}()||Function("return this")(),Wt=function(t){try{return!!t()}catch{return!0}},eU=Wt,nh=!eU(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),tU=nh,K4=Function.prototype,kS=K4.apply,LS=K4.call,Jm=typeof Reflect=="object"&&Reflect.apply||(tU?LS.bind(kS):function(){return LS.apply(kS,arguments)}),Z4=nh,Q4=Function.prototype,Uy=Q4.call,nU=Z4&&Q4.bind.bind(Uy,Uy),Gt=Z4?nU:function(t){return function(){return Uy.apply(t,arguments)}},Y4=Gt,rU=Y4({}.toString),iU=Y4("".slice),ea=function(t){return iU(rU(t),8,-1)},sU=ea,oU=Gt,X4=function(t){if(sU(t)==="Function")return oU(t)},Lv=typeof document=="object"&&document.all,Or=typeof Lv>"u"&&Lv!==void 0?function(t){return typeof t=="function"||t===Lv}:function(t){return typeof t=="function"},rh={},aU=Wt,Nr=!aU(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),lU=nh,ff=Function.prototype.call,ta=lU?ff.bind(ff):function(){return ff.apply(ff,arguments)},eg={},J4={}.propertyIsEnumerable,e5=Object.getOwnPropertyDescriptor,uU=e5&&!J4.call({1:2},1);eg.f=uU?function(e){var n=e5(this,e);return!!n&&n.enumerable}:J4;var tg=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},cU=Gt,dU=Wt,hU=ea,Ov=Object,fU=cU("".split),ng=dU(function(){return!Ov("z").propertyIsEnumerable(0)})?function(t){return hU(t)==="String"?fU(t,""):Ov(t)}:Ov,t5=function(t){return t==null},pU=t5,mU=TypeError,ih=function(t){if(pU(t))throw new mU("Can't call method on "+t);return t},gU=ng,vU=ih,Bs=function(t){return gU(vU(t))},_U=Or,Xi=function(t){return typeof t=="object"?t!==null:_U(t)},fr={},Nv=fr,Dv=Gn,yU=Or,OS=function(t){return yU(t)?t:void 0},na=function(t,e){return arguments.length<2?OS(Nv[t])||OS(Dv[t]):Nv[t]&&Nv[t][e]||Dv[t]&&Dv[t][e]},wU=Gt,Xa=wU({}.isPrototypeOf),EU=Gn,NS=EU.navigator,DS=NS&&NS.userAgent,n5=DS?String(DS):"",r5=Gn,Mv=n5,MS=r5.process,jS=r5.Deno,FS=MS&&MS.versions||jS&&jS.version,VS=FS&&FS.v8,li,qp;VS&&(li=VS.split("."),qp=li[0]>0&&li[0]<4?1:+(li[0]+li[1]));!qp&&Mv&&(li=Mv.match(/Edge\/(\d+)/),(!li||li[1]>=74)&&(li=Mv.match(/Chrome\/(\d+)/),li&&(qp=+li[1])));var rg=qp,$S=rg,TU=Wt,SU=Gn,CU=SU.String,Nu=!!Object.getOwnPropertySymbols&&!TU(function(){var t=Symbol("symbol detection");return!CU(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&$S&&$S<41}),IU=Nu,i5=IU&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bU=na,xU=Or,PU=Xa,AU=i5,RU=Object,ig=AU?function(t){return typeof t=="symbol"}:function(t){var e=bU("Symbol");return xU(e)&&PU(e.prototype,RU(t))},kU=String,Tw=function(t){try{return kU(t)}catch{return"Object"}},LU=Or,OU=Tw,NU=TypeError,sg=function(t){if(LU(t))return t;throw new NU(OU(t)+" is not a function")},DU=sg,MU=t5,jU=function(t,e){var n=t[e];return MU(n)?void 0:DU(n)},jv=ta,Fv=Or,Vv=Xi,FU=TypeError,VU=function(t,e){var n,r;if(e==="string"&&Fv(n=t.toString)&&!Vv(r=jv(n,t))||Fv(n=t.valueOf)&&!Vv(r=jv(n,t))||e!=="string"&&Fv(n=t.toString)&&!Vv(r=jv(n,t)))return r;throw new FU("Can't convert object to primitive value")},s5={exports:{}},BS=Gn,$U=Object.defineProperty,BU=function(t,e){try{$U(BS,t,{value:e,configurable:!0,writable:!0})}catch{BS[t]=e}return e},UU=Gn,zU=BU,US="__core-js_shared__",zS=s5.exports=UU[US]||zU(US,{});(zS.versions||(zS.versions=[])).push({version:"3.39.0",mode:"pure",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Sw=s5.exports,HS=Sw,sh=function(t,e){return HS[t]||(HS[t]=e||{})},HU=ih,WU=Object,ra=function(t){return WU(HU(t))},GU=Gt,qU=ra,KU=GU({}.hasOwnProperty),gi=Object.hasOwn||function(e,n){return KU(qU(e),n)},ZU=Gt,QU=0,YU=Math.random(),XU=ZU(1 .toString),Cw=function(t){return"Symbol("+(t===void 0?"":t)+")_"+XU(++QU+YU,36)},JU=Gn,ez=sh,WS=gi,tz=Cw,nz=Nu,rz=i5,Wl=JU.Symbol,$v=ez("wks"),iz=rz?Wl.for||Wl:Wl&&Wl.withoutSetter||tz,vi=function(t){return WS($v,t)||($v[t]=nz&&WS(Wl,t)?Wl[t]:iz("Symbol."+t)),$v[t]},sz=ta,GS=Xi,qS=ig,oz=jU,az=VU,lz=vi,uz=TypeError,cz=lz("toPrimitive"),o5=function(t,e){if(!GS(t)||qS(t))return t;var n=oz(t,cz),r;if(n){if(e===void 0&&(e="default"),r=sz(n,t,e),!GS(r)||qS(r))return r;throw new uz("Can't convert object to primitive value")}return e===void 0&&(e="number"),az(t,e)},dz=o5,hz=ig,Iw=function(t){var e=dz(t,"string");return hz(e)?e:e+""},fz=Gn,KS=Xi,zy=fz.document,pz=KS(zy)&&KS(zy.createElement),a5=function(t){return pz?zy.createElement(t):{}},mz=Nr,gz=Wt,vz=a5,l5=!mz&&!gz(function(){return Object.defineProperty(vz("div"),"a",{get:function(){return 7}}).a!==7}),_z=Nr,yz=ta,wz=eg,Ez=tg,Tz=Bs,Sz=Iw,Cz=gi,Iz=l5,ZS=Object.getOwnPropertyDescriptor;rh.f=_z?ZS:function(e,n){if(e=Tz(e),n=Sz(n),Iz)try{return ZS(e,n)}catch{}if(Cz(e,n))return Ez(!yz(wz.f,e,n),e[n])};var bz=Wt,xz=Or,Pz=/#|\.prototype\./,oh=function(t,e){var n=Rz[Az(t)];return n===Lz?!0:n===kz?!1:xz(e)?bz(e):!!e},Az=oh.normalize=function(t){return String(t).replace(Pz,".").toLowerCase()},Rz=oh.data={},kz=oh.NATIVE="N",Lz=oh.POLYFILL="P",Oz=oh,QS=X4,Nz=sg,Dz=nh,Mz=QS(QS.bind),u5=function(t,e){return Nz(t),e===void 0?t:Dz?Mz(t,e):function(){return t.apply(e,arguments)}},Us={},jz=Nr,Fz=Wt,c5=jz&&Fz(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Vz=Xi,$z=String,Bz=TypeError,Du=function(t){if(Vz(t))return t;throw new Bz($z(t)+" is not an object")},Uz=Nr,zz=l5,Hz=c5,pf=Du,YS=Iw,Wz=TypeError,Bv=Object.defineProperty,Gz=Object.getOwnPropertyDescriptor,Uv="enumerable",zv="configurable",Hv="writable";Us.f=Uz?Hz?function(e,n,r){if(pf(e),n=YS(n),pf(r),typeof e=="function"&&n==="prototype"&&"value"in r&&Hv in r&&!r[Hv]){var i=Gz(e,n);i&&i[Hv]&&(e[n]=r.value,r={configurable:zv in r?r[zv]:i[zv],enumerable:Uv in r?r[Uv]:i[Uv],writable:!1})}return Bv(e,n,r)}:Bv:function(e,n,r){if(pf(e),n=YS(n),pf(r),zz)try{return Bv(e,n,r)}catch{}if("get"in r||"set"in r)throw new Wz("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var qz=Nr,Kz=Us,Zz=tg,og=qz?function(t,e,n){return Kz.f(t,e,Zz(1,n))}:function(t,e,n){return t[e]=n,t},yc=Gn,Qz=Jm,Yz=X4,Xz=Or,Jz=rh.f,eH=Oz,Cl=fr,tH=u5,Il=og,XS=gi,nH=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return Qz(t,this,arguments)};return e.prototype=t.prototype,e},sn=function(t,e){var n=t.target,r=t.global,i=t.stat,s=t.proto,a=r?yc:i?yc[n]:yc[n]&&yc[n].prototype,l=r?Cl:Cl[n]||Il(Cl,n,{})[n],u=l.prototype,d,p,m,g,_,C,b,k,x;for(g in e)d=eH(r?g:n+(i?".":"#")+g,t.forced),p=!d&&a&&XS(a,g),C=l[g],p&&(t.dontCallGetSet?(x=Jz(a,g),b=x&&x.value):b=a[g]),_=p&&b?b:e[g],!(!d&&!s&&typeof C==typeof _)&&(t.bind&&p?k=tH(_,yc):t.wrap&&p?k=nH(_):s&&Xz(_)?k=Yz(_):k=_,(t.sham||_&&_.sham||C&&C.sham)&&Il(k,"sham",!0),Il(l,g,k),s&&(m=n+"Prototype",XS(Cl,m)||Il(Cl,m,{}),Il(Cl[m],g,_),t.real&&u&&(d||!u[g])&&Il(u,g,_)))},rH=Math.ceil,iH=Math.floor,sH=Math.trunc||function(e){var n=+e;return(n>0?iH:rH)(n)},oH=sH,bw=function(t){var e=+t;return e!==e||e===0?0:oH(e)},aH=bw,lH=Math.max,uH=Math.min,d5=function(t,e){var n=aH(t);return n<0?lH(n+e,0):uH(n,e)},cH=bw,dH=Math.min,h5=function(t){var e=cH(t);return e>0?dH(e,9007199254740991):0},hH=h5,ah=function(t){return hH(t.length)},fH=Bs,pH=d5,mH=ah,JS=function(t){return function(e,n,r){var i=fH(e),s=mH(i);if(s===0)return!t&&-1;var a=pH(r,s),l;if(t&&n!==n){for(;s>a;)if(l=i[a++],l!==l)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},gH={includes:JS(!0),indexOf:JS(!1)},ag={},vH=Gt,Wv=gi,_H=Bs,yH=gH.indexOf,wH=ag,e3=vH([].push),f5=function(t,e){var n=_H(t),r=0,i=[],s;for(s in n)!Wv(wH,s)&&Wv(n,s)&&e3(i,s);for(;e.length>r;)Wv(n,s=e[r++])&&(~yH(i,s)||e3(i,s));return i},xw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],EH=f5,TH=xw,lg=Object.keys||function(e){return EH(e,TH)},lh={};lh.f=Object.getOwnPropertySymbols;var t3=Nr,SH=Gt,CH=ta,IH=Wt,Gv=lg,bH=lh,xH=eg,PH=ra,AH=ng,bl=Object.assign,n3=Object.defineProperty,RH=SH([].concat),kH=!bl||IH(function(){if(t3&&bl({b:1},bl(n3({},"a",{enumerable:!0,get:function(){n3(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(i){e[i]=i}),bl({},t)[n]!==7||Gv(bl({},e)).join("")!==r})?function(e,n){for(var r=PH(e),i=arguments.length,s=1,a=bH.f,l=xH.f;i>s;)for(var u=AH(arguments[s++]),d=a?RH(Gv(u),a(u)):Gv(u),p=d.length,m=0,g;p>m;)g=d[m++],(!t3||CH(l,u,g))&&(r[g]=u[g]);return r}:bl,LH=sn,r3=kH;LH({target:"Object",stat:!0,arity:2,forced:Object.assign!==r3},{assign:r3});var OH=fr,NH=OH.Object.assign,DH=NH,MH=DH;const Hy=Ht(MH);function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function jH(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p5(t){var e=jH(t,"string");return Su(e)=="symbol"?e:e+""}function FH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p5(r.key),r)}}function Kn(t,e,n){return e&&FH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var VH=vi,$H=VH("toStringTag"),m5={};m5[$H]="z";var Pw=String(m5)==="[object z]",BH=Pw,UH=Or,Gf=ea,zH=vi,HH=zH("toStringTag"),WH=Object,GH=Gf(function(){return arguments}())==="Arguments",qH=function(t,e){try{return t[e]}catch{}},Aw=BH?Gf:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=qH(e=WH(t),HH))=="string"?n:GH?Gf(e):(r=Gf(e))==="Object"&&UH(e.callee)?"Arguments":r},KH=Aw,ZH=String,Ja=function(t){if(KH(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return ZH(t)},QH=bw,YH=Ja,XH=ih,JH=RangeError,eW=function(e){var n=YH(XH(this)),r="",i=QH(e);if(i<0||i===1/0)throw new JH("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(n+=n))i&1&&(r+=n);return r},g5=Gt,tW=h5,i3=Ja,nW=eW,rW=ih,iW=g5(nW),sW=g5("".slice),oW=Math.ceil,s3=function(t){return function(e,n,r){var i=i3(rW(e)),s=tW(n),a=i.length,l=r===void 0?" ":i3(r),u,d;return s<=a||l===""?i:(u=s-a,d=iW(l,oW(u/l.length)),d.length>u&&(d=sW(d,0,u)),t?i+d:d+i)}},aW={start:s3(!1),end:s3(!0)},ia=Gt,o3=Wt,ca=aW.start,lW=RangeError,uW=isFinite,cW=Math.abs,zs=Date.prototype,qv=zs.toISOString,dW=ia(zs.getTime),hW=ia(zs.getUTCDate),fW=ia(zs.getUTCFullYear),pW=ia(zs.getUTCHours),mW=ia(zs.getUTCMilliseconds),gW=ia(zs.getUTCMinutes),vW=ia(zs.getUTCMonth),_W=ia(zs.getUTCSeconds),yW=o3(function(){return qv.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!o3(function(){qv.call(new Date(NaN))})?function(){if(!uW(dW(this)))throw new lW("Invalid time value");var e=this,n=fW(e),r=mW(e),i=n<0?"-":n>9999?"+":"";return i+ca(cW(n),i?6:4,0)+"-"+ca(vW(e)+1,2,0)+"-"+ca(hW(e),2,0)+"T"+ca(pW(e),2,0)+":"+ca(gW(e),2,0)+":"+ca(_W(e),2,0)+"."+ca(r,3,0)+"Z"}:qv,wW=sn,v5=ta,EW=ra,TW=o5,SW=yW,CW=ea,IW=Wt,bW=IW(function(){return new Date(NaN).toJSON()!==null||v5(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});wW({target:"Date",proto:!0,forced:bW},{toJSON:function(e){var n=EW(this),r=TW(n,"number");return typeof r=="number"&&!isFinite(r)?null:!("toISOString"in n)&&CW(n)==="Date"?v5(SW,n):n.toISOString()}});var xW=Gt,ug=xW([].slice),PW=ea,cg=Array.isArray||function(e){return PW(e)==="Array"},AW=Gt,a3=cg,RW=Or,l3=ea,kW=Ja,u3=AW([].push),LW=function(t){if(RW(t))return t;if(a3(t)){for(var e=t.length,n=[],r=0;r<e;r++){var i=t[r];typeof i=="string"?u3(n,i):(typeof i=="number"||l3(i)==="Number"||l3(i)==="String")&&u3(n,kW(i))}var s=n.length,a=!0;return function(l,u){if(a)return a=!1,u;if(a3(this))return u;for(var d=0;d<s;d++)if(n[d]===l)return u}}},OW=sn,_5=na,y5=Jm,NW=ta,uh=Gt,w5=Wt,c3=Or,d3=ig,E5=ug,DW=LW,MW=Nu,jW=String,$o=_5("JSON","stringify"),mf=uh(/./.exec),h3=uh("".charAt),FW=uh("".charCodeAt),VW=uh("".replace),$W=uh(1 .toString),BW=/[\uD800-\uDFFF]/g,f3=/^[\uD800-\uDBFF]$/,p3=/^[\uDC00-\uDFFF]$/,m3=!MW||w5(function(){var t=_5("Symbol")("stringify detection");return $o([t])!=="[null]"||$o({a:t})!=="{}"||$o(Object(t))!=="{}"}),g3=w5(function(){return $o("\uDF06\uD834")!=='"\\udf06\\ud834"'||$o("\uDEAD")!=='"\\udead"'}),UW=function(t,e){var n=E5(arguments),r=DW(e);if(!(!c3(r)&&(t===void 0||d3(t))))return n[1]=function(i,s){if(c3(r)&&(s=NW(r,this,jW(i),s)),!d3(s))return s},y5($o,null,n)},zW=function(t,e,n){var r=h3(n,e-1),i=h3(n,e+1);return mf(f3,t)&&!mf(p3,i)||mf(p3,t)&&!mf(f3,r)?"\\u"+$W(FW(t,0),16):t};$o&&OW({target:"JSON",stat:!0,arity:3,forced:m3||g3},{stringify:function(e,n,r){var i=E5(arguments),s=y5(m3?UW:$o,null,i);return g3&&typeof s=="string"?VW(s,BW,zW):s}});var Wy=fr,HW=Jm;Wy.JSON||(Wy.JSON={stringify:JSON.stringify});var WW=function(e,n,r){return HW(Wy.JSON.stringify,null,arguments)},GW=WW,qW=GW;const KW=Ht(qW);var ZW=Gt,QW=Or,Gy=Sw,YW=ZW(Function.toString);QW(Gy.inspectSource)||(Gy.inspectSource=function(t){return YW(t)});var XW=Gy.inspectSource,JW=Gt,eG=Wt,T5=Or,tG=Aw,nG=na,rG=XW,S5=function(){},C5=nG("Reflect","construct"),Rw=/^\s*(?:class|function)\b/,iG=JW(Rw.exec),sG=!Rw.test(S5),wc=function(e){if(!T5(e))return!1;try{return C5(S5,[],e),!0}catch{return!1}},I5=function(e){if(!T5(e))return!1;switch(tG(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return sG||!!iG(Rw,rG(e))}catch{return!0}};I5.sham=!0;var kw=!C5||eG(function(){var t;return wc(wc.call)||!wc(Object)||!wc(function(){t=!0})||t})?I5:wc,v3=cg,oG=kw,aG=Xi,lG=vi,uG=lG("species"),_3=Array,cG=function(t){var e;return v3(t)&&(e=t.constructor,oG(e)&&(e===_3||v3(e.prototype))?e=void 0:aG(e)&&(e=e[uG],e===null&&(e=void 0))),e===void 0?_3:e},dG=cG,b5=function(t,e){return new(dG(t))(e===0?0:e)},hG=u5,fG=Gt,pG=ng,mG=ra,gG=ah,vG=b5,y3=fG([].push),lo=function(t){var e=t===1,n=t===2,r=t===3,i=t===4,s=t===6,a=t===7,l=t===5||s;return function(u,d,p,m){for(var g=mG(u),_=pG(g),C=gG(_),b=hG(d,p),k=0,x=m||vG,T=e?x(u,C):n||a?x(u,0):void 0,P,j;C>k;k++)if((l||k in _)&&(P=_[k],j=b(P,k,g),t))if(e)T[k]=j;else if(j)switch(t){case 3:return!0;case 5:return P;case 6:return k;case 2:y3(T,P)}else switch(t){case 4:return!1;case 7:y3(T,P)}return s?-1:r||i?i:T}},Lw={forEach:lo(0),map:lo(1),filter:lo(2),some:lo(3),every:lo(4),find:lo(5),findIndex:lo(6),filterReject:lo(7)},_G=Wt,yG=vi,wG=rg,EG=yG("species"),dg=function(t){return wG>=51||!_G(function(){var e=[],n=e.constructor={};return n[EG]=function(){return{foo:1}},e[t](Boolean).foo!==1})},TG=sn,SG=Lw.filter,CG=dg,IG=CG("filter");TG({target:"Array",proto:!0,forced:!IG},{filter:function(e){return SG(this,e,arguments.length>1?arguments[1]:void 0)}});var bG=Gn,xG=fr,ch=function(t,e){var n=xG[t+"Prototype"],r=n&&n[e];if(r)return r;var i=bG[t],s=i&&i.prototype;return s&&s[e]},PG=ch,AG=PG("Array","filter"),RG=Xa,kG=AG,Kv=Array.prototype,LG=function(t){var e=t.filter;return t===Kv||RG(Kv,t)&&e===Kv.filter?kG:e},OG=LG,NG=OG;const hg=Ht(NG);var DG=Nr,MG=Us,jG=tg,Ow=function(t,e,n){DG?MG.f(t,e,jG(0,n)):t[e]=n},FG=sn,w3=cg,VG=kw,$G=Xi,E3=d5,BG=ah,UG=Bs,zG=Ow,HG=vi,WG=dg,GG=ug,qG=WG("slice"),KG=HG("species"),Zv=Array,ZG=Math.max;FG({target:"Array",proto:!0,forced:!qG},{slice:function(e,n){var r=UG(this),i=BG(r),s=E3(e,i),a=E3(n===void 0?i:n,i),l,u,d;if(w3(r)&&(l=r.constructor,VG(l)&&(l===Zv||w3(l.prototype))?l=void 0:$G(l)&&(l=l[KG],l===null&&(l=void 0)),l===Zv||l===void 0))return GG(r,s,a);for(u=new(l===void 0?Zv:l)(ZG(a-s,0)),d=0;s<a;s++,d++)s in r&&zG(u,d,r[s]);return u.length=d,u}});var QG=ch,YG=QG("Array","slice"),XG=Xa,JG=YG,Qv=Array.prototype,eq=function(t){var e=t.slice;return t===Qv||XG(Qv,t)&&e===Qv.slice?JG:e},tq=eq,nq=tq;const x5=Ht(nq);var rq="react-avatar/",Yv="failing",T3=function(){try{return"localStorage"in window&&window.localStorage}catch{return!1}}(),Kp=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};qn(this,t);var n=e.cachePrefix,r=n===void 0?rq:n,i=e.sourceTTL,s=i===void 0?7*24*3600*1e3:i,a=e.sourceSize,l=a===void 0?20:a;this.cachePrefix=r,this.sourceTTL=s,this.sourceSize=l}return Kn(t,[{key:"set",value:function(n,r){if(T3){r=KW(r);try{localStorage.setItem(this.cachePrefix+n,r)}catch(i){console.error(i)}}}},{key:"get",value:function(n){if(!T3)return null;var r=localStorage.getItem(this.cachePrefix+n);return r?JSON.parse(r):null}},{key:"sourceFailed",value:function(n){var r=this.get(Yv)||[];return r=hg(r).call(r,function(i){var s=i.expires>0&&i.expires<Date.now(),a=i===n||i.url==n;return!s&&!a}),r.unshift({url:n,expires:Date.now()+this.sourceTTL}),r=x5(r).call(r,0,this.sourceSize-1),this.set(Yv,r)}},{key:"hasSourceFailedBefore",value:function(n){var r=this.get(Yv)||[];return r.some(function(i){var s=i.expires>0&&i.expires<Date.now(),a=i===n||i.url==n;return a&&!s})}}]),t}();const iq=new Kp;var P5=Gt,sq=sg,oq=Xi,aq=gi,S3=ug,lq=nh,A5=Function,uq=P5([].concat),cq=P5([].join),Xv={},dq=function(t,e,n){if(!aq(Xv,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";Xv[e]=A5("C,a","return new C("+cq(r,",")+")")}return Xv[e](t,n)},hq=lq?A5.bind:function(e){var n=sq(this),r=n.prototype,i=S3(arguments,1),s=function(){var l=uq(i,S3(arguments));return this instanceof s?dq(n,l.length,l):n.apply(e,l)};return oq(r)&&(s.prototype=r),s},fq=kw,pq=Tw,mq=TypeError,gq=function(t){if(fq(t))return t;throw new mq(pq(t)+" is not a constructor")},fg={},vq=Nr,_q=c5,yq=Us,wq=Du,Eq=Bs,Tq=lg;fg.f=vq&&!_q?Object.defineProperties:function(e,n){wq(e);for(var r=Eq(n),i=Tq(n),s=i.length,a=0,l;s>a;)yq.f(e,l=i[a++],r[l]);return e};var Sq=na,Cq=Sq("document","documentElement"),Iq=sh,bq=Cw,C3=Iq("keys"),Nw=function(t){return C3[t]||(C3[t]=bq(t))},xq=Du,Pq=fg,I3=xw,Aq=ag,Rq=Cq,kq=a5,Lq=Nw,b3=">",x3="<",qy="prototype",Ky="script",R5=Lq("IE_PROTO"),Jv=function(){},k5=function(t){return x3+Ky+b3+t+x3+"/"+Ky+b3},P3=function(t){t.write(k5("")),t.close();var e=t.parentWindow.Object;return t=null,e},Oq=function(){var t=kq("iframe"),e="java"+Ky+":",n;return t.style.display="none",Rq.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(k5("document.F=Object")),n.close(),n.F},gf,qf=function(){try{gf=new ActiveXObject("htmlfile")}catch{}qf=typeof document<"u"?document.domain&&gf?P3(gf):Oq():P3(gf);for(var t=I3.length;t--;)delete qf[qy][I3[t]];return qf()};Aq[R5]=!0;var L5=Object.create||function(e,n){var r;return e!==null?(Jv[qy]=xq(e),r=new Jv,Jv[qy]=null,r[R5]=e):r=qf(),n===void 0?r:Pq.f(r,n)},Nq=sn,Dq=na,e_=Jm,Mq=hq,A3=gq,jq=Du,R3=Xi,Fq=L5,O5=Wt,Dw=Dq("Reflect","construct"),Vq=Object.prototype,$q=[].push,N5=O5(function(){function t(){}return!(Dw(function(){},[],t)instanceof t)}),D5=!O5(function(){Dw(function(){})}),k3=N5||D5;Nq({target:"Reflect",stat:!0,forced:k3,sham:k3},{construct:function(e,n){A3(e),jq(n);var r=arguments.length<3?e:A3(arguments[2]);if(D5&&!N5)return Dw(e,n,r);if(e===r){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var i=[null];return e_($q,i,n),new(e_(Mq,e,i))}var s=r.prototype,a=Fq(R3(s)?s:Vq),l=e_(e,a,n);return R3(l)?l:a}});var Bq=fr,Uq=Bq.Reflect.construct,zq=Uq,Hq=zq;const Jt=Ht(Hq);function Zy(t,e){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Zy(t,e)}function dh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zy(t,e)}function Zp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hh(t,e){if(e&&(Su(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zp(t)}function Yr(t){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yr(t)}function Pe(t,e,n){return(e=p5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wq=sn,Gq=ra,M5=lg,qq=Wt,Kq=qq(function(){M5(1)});Wq({target:"Object",stat:!0,forced:Kq},{keys:function(e){return M5(Gq(e))}});var Zq=fr,Qq=Zq.Object.keys,Yq=Qq,Xq=Yq;const Mw=Ht(Xq);var j5={exports:{}},Jq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eK=Jq,tK=eK;function F5(){}function V5(){}V5.resetWarningCache=F5;var nK=function(){function t(r,i,s,a,l,u){if(u!==tK){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:V5,resetWarningCache:F5};return n.PropTypes=n,n};j5.exports=nK();var rK=j5.exports;const de=Ht(rK);function iK(t){if(Array.isArray(t))return t}function sK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){d=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $5(t,e){if(t){if(typeof t=="string")return Qy(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qy(t,e):void 0}}function oK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aK(t,e){return iK(t)||sK(t,e)||$5(t,e)||oK()}function lK(t){if(Array.isArray(t))return Qy(t)}function uK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(t){return lK(t)||uK(t)||$5(t)||cK()}var hK=Wt,fK=function(t,e){var n=[][t];return!!n&&hK(function(){n.call(null,e||function(){return 1},1)})},pK=sn,mK=Lw.map,gK=dg,vK=gK("map");pK({target:"Array",proto:!0,forced:!vK},{map:function(e){return mK(this,e,arguments.length>1?arguments[1]:void 0)}});var _K=ch,yK=_K("Array","map"),wK=Xa,EK=yK,t_=Array.prototype,TK=function(t){var e=t.map;return t===t_||wK(t_,t)&&e===t_.map?EK:e},SK=TK,CK=SK;const B5=Ht(CK);var IK=sg,bK=ra,xK=ng,PK=ah,L3=TypeError,O3="Reduce of empty array with no initial value",N3=function(t){return function(e,n,r,i){var s=bK(e),a=xK(s),l=PK(s);if(IK(n),l===0&&r<2)throw new L3(O3);var u=t?l-1:0,d=t?-1:1;if(r<2)for(;;){if(u in a){i=a[u],u+=d;break}if(u+=d,t?u<0:l<=u)throw new L3(O3)}for(;t?u>=0:l>u;u+=d)u in a&&(i=n(i,a[u],u,s));return i}},AK={left:N3(!1),right:N3(!0)},Ec=Gn,RK=n5,kK=ea,vf=function(t){return RK.slice(0,t.length)===t},LK=function(){return vf("Bun/")?"BUN":vf("Cloudflare-Workers")?"CLOUDFLARE":vf("Deno/")?"DENO":vf("Node.js/")?"NODE":Ec.Bun&&typeof Bun.version=="string"?"BUN":Ec.Deno&&typeof Deno.version=="object"?"DENO":kK(Ec.process)==="process"?"NODE":Ec.window&&Ec.document?"BROWSER":"REST"}(),OK=LK,NK=OK==="NODE",DK=sn,MK=AK.left,jK=fK,D3=rg,FK=NK,VK=!FK&&D3>79&&D3<83,$K=VK||!jK("reduce");DK({target:"Array",proto:!0,forced:$K},{reduce:function(e){var n=arguments.length;return MK(this,e,n,n>1?arguments[1]:void 0)}});var BK=ch,UK=BK("Array","reduce"),zK=Xa,HK=UK,n_=Array.prototype,WK=function(t){var e=t.reduce;return t===n_||zK(n_,t)&&e===n_.reduce?HK:e},GK=WK,qK=GK;const U5=Ht(qK);var z5=`	
\v\f\r \u2028\u2029\uFEFF`,KK=Gt,ZK=ih,QK=Ja,Yy=z5,M3=KK("".replace),YK=RegExp("^["+Yy+"]+"),XK=RegExp("(^|[^"+Yy+"])["+Yy+"]+$"),r_=function(t){return function(e){var n=QK(ZK(e));return t&1&&(n=M3(n,YK,"")),t&2&&(n=M3(n,XK,"$1")),n}},JK={start:r_(1),end:r_(2),trim:r_(3)},H5=Gn,eZ=Wt,tZ=Gt,nZ=Ja,rZ=JK.trim,iZ=z5,sZ=tZ("".charAt),Qp=H5.parseFloat,j3=H5.Symbol,F3=j3&&j3.iterator,oZ=1/Qp(iZ+"-0")!==-1/0||F3&&!eZ(function(){Qp(Object(F3))}),aZ=oZ?function(e){var n=rZ(nZ(e)),r=Qp(n);return r===0&&sZ(n,0)==="-"?-0:r}:Qp,lZ=sn,V3=aZ;lZ({global:!0,forced:parseFloat!==V3},{parseFloat:V3});var uZ=fr,cZ=uZ.parseFloat,dZ=cZ,hZ=dZ;const fZ=Ht(hZ);var pZ=function(){var t;return!!(typeof window<"u"&&window!==null&&(t="(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25||window.matchMedia&&window.matchMedia(t).matches))};const mZ=Ht(pZ);var gZ=mZ(),W5=["#A62A21","#7e3794","#0B51C1","#3A6024","#A81563","#B3003C"],vZ=/^([-+]?(?:\d+(?:\.\d+)?|\.\d+))([a-z]{2,4}|%)?$/;function _Z(t,e){for(var n,r=B5(n=dK(t)).call(n,function(d){return d.charCodeAt(0)}),i=r.length,s=i%(e-1)+1,a=U5(r).call(r,function(d,p){return d+p})%e,l=r[0]%e,u=0;u<i;u++)l=(s*l+a)%e;return l}function jw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W5;if(!t)return"transparent";var n=_Z(t,e.length);return e[n]}function pg(t){t=""+t;var e=vZ.exec(t)||[],n=aK(e,3),r=n[1],i=r===void 0?0:r,s=n[2],a=s===void 0?"px":s;return{value:fZ(i),str:i+a,unit:a}}function mg(t){return t=pg(t),isNaN(t.value)?t=512:t.unit==="px"?t=t.value:t.value===0?t=0:t=512,gZ&&(t=t*2),t}function G5(t,e){var n,r,i,s=e.maxInitials;return x5(n=hg(r=B5(i=t.split(/\s/)).call(i,function(a){return a.substring(0,1).toUpperCase()})).call(r,function(a){return!!a})).call(n,0,s).join("").toUpperCase()}var _f={};function yZ(t,e){if(_f[e]){_f[e].push(t);return}var n=_f[e]=[t];setTimeout(function(){delete _f[e],n.forEach(function(r){return r()})},e)}function Xy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];if(s||s==="")return s;if(s===!1||s===null)return null}}function Fw(t){if(t===!0)return"100%";if(t!==!1)return t}function wZ(t){var e=EZ();return function(){var r=Yr(t),i;if(e){var s=Yr(this).constructor;i=Jt(r,arguments,s)}else i=r.apply(this,arguments);return hh(this,i)}}function EZ(){if(typeof Reflect>"u"||!Jt||Jt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Jt(Boolean,[],function(){})),!0}catch{return!1}}var Jy={cache:iq,colors:W5,initials:G5,avatarRedirectUrl:null},TZ=Mw(Jy),Vw=ke.createContext&&ke.createContext(),gg=!Vw,SZ=gg?null:Vw.Consumer,CZ=ke.forwardRef||function(t){return t},qo=function(t){dh(n,t);var e=wZ(n);function n(){return qn(this,n),e.apply(this,arguments)}return Kn(n,[{key:"_getContext",value:function(){var i=this,s={};return TZ.forEach(function(a){typeof i.props[a]<"u"&&(s[a]=i.props[a])}),s}},{key:"render",value:function(){var i=this.props.children;return gg?ke.Children.only(i):ke.createElement(Vw.Provider,{value:this._getContext()},ke.Children.only(i))}}]),n}(ke.Component);Pe(qo,"displayName","ConfigProvider");Pe(qo,"propTypes",{cache:de.object,colors:de.arrayOf(de.string),initials:de.func,avatarRedirectUrl:de.string,children:de.node});var q5=function(e){function n(r,i){if(gg){var s=i&&i.reactAvatar;return ke.createElement(e,Tu({},Jy,s,r))}return ke.createElement(SZ,null,function(a){return ke.createElement(e,Tu({ref:i},Jy,a,r))})}return n.contextTypes=qo.childContextTypes,CZ(n)};gg&&(qo.childContextTypes={reactAvatar:de.object},qo.prototype.getChildContext=function(){return{reactAvatar:this._getContext()}});var vg={},IZ=f5,bZ=xw,xZ=bZ.concat("length","prototype");vg.f=Object.getOwnPropertyNames||function(e){return IZ(e,xZ)};var K5={},PZ=ea,AZ=Bs,Z5=vg.f,RZ=ug,Q5=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],kZ=function(t){try{return Z5(t)}catch{return RZ(Q5)}};K5.f=function(e){return Q5&&PZ(e)==="Window"?kZ(e):Z5(AZ(e))};var LZ=og,Y5=function(t,e,n,r){return r&&r.enumerable?t[e]=n:LZ(t,e,n),t},OZ=Us,NZ=function(t,e,n){return OZ.f(t,e,n)},$w={},DZ=vi;$w.f=DZ;var $3=fr,MZ=gi,jZ=$w,FZ=Us.f,VZ=function(t){var e=$3.Symbol||($3.Symbol={});MZ(e,t)||FZ(e,t,{value:jZ.f(t)})},$Z=ta,BZ=na,UZ=vi,zZ=Y5,HZ=function(){var t=BZ("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,r=UZ("toPrimitive");e&&!e[r]&&zZ(e,r,function(i){return $Z(n,this)},{arity:1})},WZ=Pw,GZ=Aw,qZ=WZ?{}.toString:function(){return"[object "+GZ(this)+"]"},KZ=Pw,ZZ=Us.f,QZ=og,YZ=gi,XZ=qZ,JZ=vi,B3=JZ("toStringTag"),eQ=function(t,e,n,r){var i=n?t:t&&t.prototype;i&&(YZ(i,B3)||ZZ(i,B3,{configurable:!0,value:e}),r&&!KZ&&QZ(i,"toString",XZ))},tQ=Gn,nQ=Or,U3=tQ.WeakMap,rQ=nQ(U3)&&/native code/.test(String(U3)),iQ=rQ,X5=Gn,sQ=Xi,oQ=og,i_=gi,s_=Sw,aQ=Nw,lQ=ag,z3="Object already initialized",e0=X5.TypeError,uQ=X5.WeakMap,Yp,Pd,Xp,cQ=function(t){return Xp(t)?Pd(t):Yp(t,{})},dQ=function(t){return function(e){var n;if(!sQ(e)||(n=Pd(e)).type!==t)throw new e0("Incompatible receiver, "+t+" required");return n}};if(iQ||s_.state){var Oi=s_.state||(s_.state=new uQ);Oi.get=Oi.get,Oi.has=Oi.has,Oi.set=Oi.set,Yp=function(t,e){if(Oi.has(t))throw new e0(z3);return e.facade=t,Oi.set(t,e),e},Pd=function(t){return Oi.get(t)||{}},Xp=function(t){return Oi.has(t)}}else{var xl=aQ("state");lQ[xl]=!0,Yp=function(t,e){if(i_(t,xl))throw new e0(z3);return e.facade=t,oQ(t,xl,e),e},Pd=function(t){return i_(t,xl)?t[xl]:{}},Xp=function(t){return i_(t,xl)}}var hQ={set:Yp,get:Pd,has:Xp,enforce:cQ,getterFor:dQ},_g=sn,fh=Gn,Bw=ta,fQ=Gt,Cu=Nr,Iu=Nu,pQ=Wt,fn=gi,mQ=Xa,t0=Du,yg=Bs,Uw=Iw,gQ=Ja,n0=tg,bu=L5,J5=lg,vQ=vg,eA=K5,_Q=lh,tA=rh,nA=Us,yQ=fg,rA=eg,H3=Y5,wQ=NZ,zw=sh,EQ=Nw,iA=ag,W3=Cw,TQ=vi,SQ=$w,CQ=VZ,IQ=HZ,bQ=eQ,sA=hQ,wg=Lw.forEach,ir=EQ("hidden"),Eg="Symbol",Ad="prototype",xQ=sA.set,G3=sA.getterFor(Eg),ci=Object[Ad],Ia=fh.Symbol,Dc=Ia&&Ia[Ad],PQ=fh.RangeError,AQ=fh.TypeError,o_=fh.QObject,oA=tA.f,ba=nA.f,aA=eA.f,RQ=rA.f,lA=fQ([].push),Fs=zw("symbols"),ph=zw("op-symbols"),kQ=zw("wks"),r0=!o_||!o_[Ad]||!o_[Ad].findChild,uA=function(t,e,n){var r=oA(ci,e);r&&delete ci[e],ba(t,e,n),r&&t!==ci&&ba(ci,e,r)},i0=Cu&&pQ(function(){return bu(ba({},"a",{get:function(){return ba(this,"a",{value:7}).a}})).a!==7})?uA:ba,a_=function(t,e){var n=Fs[t]=bu(Dc);return xQ(n,{type:Eg,tag:t,description:e}),Cu||(n.description=e),n},Tg=function(e,n,r){e===ci&&Tg(ph,n,r),t0(e);var i=Uw(n);return t0(r),fn(Fs,i)?(r.enumerable?(fn(e,ir)&&e[ir][i]&&(e[ir][i]=!1),r=bu(r,{enumerable:n0(0,!1)})):(fn(e,ir)||ba(e,ir,n0(1,bu(null))),e[ir][i]=!0),i0(e,i,r)):ba(e,i,r)},Hw=function(e,n){t0(e);var r=yg(n),i=J5(r).concat(fA(r));return wg(i,function(s){(!Cu||Bw(cA,r,s))&&Tg(e,s,r[s])}),e},LQ=function(e,n){return n===void 0?bu(e):Hw(bu(e),n)},cA=function(e){var n=Uw(e),r=Bw(RQ,this,n);return this===ci&&fn(Fs,n)&&!fn(ph,n)?!1:r||!fn(this,n)||!fn(Fs,n)||fn(this,ir)&&this[ir][n]?r:!0},dA=function(e,n){var r=yg(e),i=Uw(n);if(!(r===ci&&fn(Fs,i)&&!fn(ph,i))){var s=oA(r,i);return s&&fn(Fs,i)&&!(fn(r,ir)&&r[ir][i])&&(s.enumerable=!0),s}},hA=function(e){var n=aA(yg(e)),r=[];return wg(n,function(i){!fn(Fs,i)&&!fn(iA,i)&&lA(r,i)}),r},fA=function(t){var e=t===ci,n=aA(e?ph:yg(t)),r=[];return wg(n,function(i){fn(Fs,i)&&(!e||fn(ci,i))&&lA(r,Fs[i])}),r};Iu||(Ia=function(){if(mQ(Dc,this))throw new AQ("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:gQ(arguments[0]),n=W3(e),r=function(i){var s=this===void 0?fh:this;s===ci&&Bw(r,ph,i),fn(s,ir)&&fn(s[ir],n)&&(s[ir][n]=!1);var a=n0(1,i);try{i0(s,n,a)}catch(l){if(!(l instanceof PQ))throw l;uA(s,n,a)}};return Cu&&r0&&i0(ci,n,{configurable:!0,set:r}),a_(n,e)},Dc=Ia[Ad],H3(Dc,"toString",function(){return G3(this).tag}),H3(Ia,"withoutSetter",function(t){return a_(W3(t),t)}),rA.f=cA,nA.f=Tg,yQ.f=Hw,tA.f=dA,vQ.f=eA.f=hA,_Q.f=fA,SQ.f=function(t){return a_(TQ(t),t)},Cu&&wQ(Dc,"description",{configurable:!0,get:function(){return G3(this).description}}));_g({global:!0,constructor:!0,wrap:!0,forced:!Iu,sham:!Iu},{Symbol:Ia});wg(J5(kQ),function(t){CQ(t)});_g({target:Eg,stat:!0,forced:!Iu},{useSetter:function(){r0=!0},useSimple:function(){r0=!1}});_g({target:"Object",stat:!0,forced:!Iu,sham:!Cu},{create:LQ,defineProperty:Tg,defineProperties:Hw,getOwnPropertyDescriptor:dA});_g({target:"Object",stat:!0,forced:!Iu},{getOwnPropertyNames:hA});IQ();bQ(Ia,Eg);iA[ir]=!0;var OQ=Nu,pA=OQ&&!!Symbol.for&&!!Symbol.keyFor,NQ=sn,DQ=na,MQ=gi,jQ=Ja,mA=sh,FQ=pA,l_=mA("string-to-symbol-registry"),VQ=mA("symbol-to-string-registry");NQ({target:"Symbol",stat:!0,forced:!FQ},{for:function(t){var e=jQ(t);if(MQ(l_,e))return l_[e];var n=DQ("Symbol")(e);return l_[e]=n,VQ[n]=e,n}});var $Q=sn,BQ=gi,UQ=ig,zQ=Tw,HQ=sh,WQ=pA,q3=HQ("symbol-to-string-registry");$Q({target:"Symbol",stat:!0,forced:!WQ},{keyFor:function(e){if(!UQ(e))throw new TypeError(zQ(e)+" is not a symbol");if(BQ(q3,e))return q3[e]}});var GQ=sn,qQ=Nu,KQ=Wt,gA=lh,ZQ=ra,QQ=!qQ||KQ(function(){gA.f(1)});GQ({target:"Object",stat:!0,forced:QQ},{getOwnPropertySymbols:function(e){var n=gA.f;return n?n(ZQ(e)):[]}});var YQ=fr,XQ=YQ.Object.getOwnPropertySymbols,JQ=XQ,eY=JQ;const Jp=Ht(eY);var vA={exports:{}},tY=sn,nY=Wt,rY=Bs,_A=rh.f,yA=Nr,iY=!yA||nY(function(){_A(1)});tY({target:"Object",stat:!0,forced:iY,sham:!yA},{getOwnPropertyDescriptor:function(e,n){return _A(rY(e),n)}});var sY=fr,wA=sY.Object,oY=vA.exports=function(e,n){return wA.getOwnPropertyDescriptor(e,n)};wA.getOwnPropertyDescriptor.sham&&(oY.sham=!0);var aY=vA.exports,lY=aY,uY=lY;const Sg=Ht(uY);var cY=na,dY=Gt,hY=vg,fY=lh,pY=Du,mY=dY([].concat),gY=cY("Reflect","ownKeys")||function(e){var n=hY.f(pY(e)),r=fY.f;return r?mY(n,r(e)):n},vY=sn,_Y=Nr,yY=gY,wY=Bs,EY=rh,TY=Ow;vY({target:"Object",stat:!0,sham:!_Y},{getOwnPropertyDescriptors:function(e){for(var n=wY(e),r=EY.f,i=yY(n),s={},a=0,l,u;i.length>a;)u=r(n,l=i[a++]),u!==void 0&&TY(s,l,u);return s}});var SY=fr,CY=SY.Object.getOwnPropertyDescriptors,IY=CY,bY=IY;const em=Ht(bY);var EA={exports:{}},xY=sn,PY=Nr,K3=fg.f;xY({target:"Object",stat:!0,forced:Object.defineProperties!==K3,sham:!PY},{defineProperties:K3});var AY=fr,TA=AY.Object,RY=EA.exports=function(e,n){return TA.defineProperties(e,n)};TA.defineProperties.sham&&(RY.sham=!0);var kY=EA.exports,LY=kY,OY=LY;const SA=Ht(OY);var CA={exports:{}},NY=sn,DY=Nr,Z3=Us.f;NY({target:"Object",stat:!0,forced:Object.defineProperty!==Z3,sham:!DY},{defineProperty:Z3});var MY=fr,IA=MY.Object,jY=CA.exports=function(e,n,r){return IA.defineProperty(e,n,r)};IA.defineProperty.sham&&(jY.sham=!0);var FY=CA.exports,VY=FY,$Y=VY;const bA=Ht($Y);var BY=function(){function t(){qn(this,t),this.sourcePointer=0,this.active=!0,this.fetch=null}return Kn(t,[{key:"isActive",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(n.internal!==this||!this.fetch||this.active!==!0)}}]),t}();function Q3(t,e){var n=Mw(t);if(Jp){var r=Jp(t);e&&(r=hg(r).call(r,function(i){return Sg(t,i).enumerable})),n.push.apply(n,r)}return n}function u_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):em?SA(t,em(n)):Q3(Object(n)).forEach(function(r){bA(t,r,Sg(n,r))})}return t}function UY(t){var e=zY();return function(){var r=Yr(t),i;if(e){var s=Yr(this).constructor;i=Jt(r,arguments,s)}else i=r.apply(this,arguments);return hh(this,i)}}function zY(){if(typeof Reflect>"u"||!Jt||Jt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Jt(Boolean,[],function(){})),!0}catch{return!1}}function HY(t,e,n){var r=e.cache,i=new t(e);if(!i.isCompatible(e))return n();i.get(function(s){var a=s&&s.src&&r.hasSourceFailedBefore(s.src);!a&&s?n(s):n()})}function WY(t){var e=t.sources,n=e===void 0?[]:e,r=U5(n).call(n,function(s,a){return Hy(s,a.propTypes)},{}),i=function(s){dh(l,s);var a=UY(l);function l(u){var d;return qn(this,l),d=a.call(this,u),Pe(Zp(d),"_createFetcher",function(p){return function(m){var g=d.props.cache;if(p.isActive(d.state)){m&&m.type==="error"&&g.sourceFailed(m.target.src);var _=p.sourcePointer;if(n.length!==_){var C=n[_];p.sourcePointer++,HY(C,d.props,function(b){if(!b)return setTimeout(p.fetch,0);p.isActive(d.state)&&(b=u_({src:null,value:null,color:null},b),d.setState(function(k){return p.isActive(k)?b:{}}))})}}}}),Pe(Zp(d),"fetch",function(){var p=new BY;p.fetch=d._createFetcher(p),d.setState({internal:p},p.fetch)}),d.state={internal:null,src:null,value:null,color:u.color},d}return Kn(l,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(d){var p=!1;for(var m in r)p=p||d[m]!==this.props[m];p&&setTimeout(this.fetch,0)}},{key:"componentWillUnmount",value:function(){this.state.internal&&(this.state.internal.active=!1)}},{key:"render",value:function(){var d=this.props,p=d.children,m=d.propertyName,g=this.state,_=g.src,C=g.value,b=g.color,k=g.sourceName,x=g.internal,T={src:_,value:C,color:b,sourceName:k,onRenderFailed:function(){return x&&x.fetch()}};if(typeof p=="function")return p(T);var P=ke.Children.only(p);return ke.cloneElement(P,Pe({},m,T))}}]),l}(M.PureComponent);return Pe(i,"displayName","AvatarDataProvider"),Pe(i,"propTypes",u_(u_({},r),{},{cache:de.object,propertyName:de.string})),Pe(i,"defaultProps",{propertyName:"avatar"}),Pe(i,"Cache",Kp),Pe(i,"ConfigProvider",qo),Hy(q5(i),{ConfigProvider:qo,Cache:Kp})}function Y3(t,e){var n=Mw(t);if(Jp){var r=Jp(t);e&&(r=hg(r).call(r,function(i){return Sg(t,i).enumerable})),n.push.apply(n,r)}return n}function GY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):em?SA(t,em(n)):Y3(Object(n)).forEach(function(r){bA(t,r,Sg(n,r))})}return t}function qY(t){var e=KY();return function(){var r=Yr(t),i;if(e){var s=Yr(this).constructor;i=Jt(r,arguments,s)}else i=r.apply(this,arguments);return hh(this,i)}}function KY(){if(typeof Reflect>"u"||!Jt||Jt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Jt(Boolean,[],function(){})),!0}catch{return!1}}var Ww=function(t){dh(n,t);var e=qY(n);function n(){return qn(this,n),e.apply(this,arguments)}return Kn(n,[{key:"render",value:function(){var i=this.props,s=i.className,a=i.unstyled,l=i.round,u=i.style,d=i.avatar,p=i.onClick,m=i.children,g=d.sourceName,_=pg(this.props.size),C=a?null:GY({display:"inline-block",verticalAlign:"middle",width:_.str,height:_.str,borderRadius:Fw(l),fontFamily:"Helvetica, Arial, sans-serif"},u),b=[s,"sb-avatar"];if(g){var k=g.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"");b.push("sb-avatar--"+k)}return ke.createElement("div",{className:b.join(" "),onClick:p,style:C},m)}}]),n}(ke.PureComponent);Pe(Ww,"propTypes",{className:de.string,round:de.oneOfType([de.bool,de.string]),style:de.object,size:de.oneOfType([de.number,de.string]),unstyled:de.bool,avatar:de.object,onClick:de.func,children:de.node});function ZY(t){var e=QY();return function(){var r=Yr(t),i;if(e){var s=Yr(this).constructor;i=Jt(r,arguments,s)}else i=r.apply(this,arguments);return hh(this,i)}}function QY(){if(typeof Reflect>"u"||!Jt||Jt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Jt(Boolean,[],function(){})),!0}catch{return!1}}var Gw=function(t){dh(n,t);var e=ZY(n);function n(){return qn(this,n),e.apply(this,arguments)}return Kn(n,[{key:"render",value:function(){var i=this.props,s=i.className,a=i.round,l=i.unstyled,u=i.alt,d=i.title,p=i.name,m=i.value,g=i.avatar,_=pg(this.props.size),C=l?null:{maxWidth:"100%",width:_.str,height:_.str,borderRadius:Fw(a)};return ke.createElement(Ww,this.props,ke.createElement("img",{className:s+" sb-avatar__image",width:_.str,height:_.str,style:C,src:g.src,alt:Xy(u,p||m),title:Xy(d,p||m),onError:g.onRenderFailed}))}}]),n}(ke.PureComponent);Pe(Gw,"propTypes",{alt:de.oneOfType([de.string,de.bool]),title:de.oneOfType([de.string,de.bool]),name:de.string,value:de.string,avatar:de.object,className:de.string,unstyled:de.bool,round:de.oneOfType([de.bool,de.string,de.number]),size:de.oneOfType([de.number,de.string])});Pe(Gw,"defaultProps",{className:"",round:!1,size:100,unstyled:!1});var YY=TypeError,XY=9007199254740991,JY=function(t){if(t>XY)throw YY("Maximum allowed index exceeded");return t},eX=sn,tX=Wt,nX=cg,rX=Xi,iX=ra,sX=ah,X3=JY,J3=Ow,oX=b5,aX=dg,lX=vi,uX=rg,xA=lX("isConcatSpreadable"),cX=uX>=51||!tX(function(){var t=[];return t[xA]=!1,t.concat()[0]!==t}),dX=function(t){if(!rX(t))return!1;var e=t[xA];return e!==void 0?!!e:nX(t)},hX=!cX||!aX("concat");eX({target:"Array",proto:!0,arity:1,forced:hX},{concat:function(e){var n=iX(this),r=oX(n,0),i=0,s,a,l,u,d;for(s=-1,l=arguments.length;s<l;s++)if(d=s===-1?n:arguments[s],dX(d))for(u=sX(d),X3(i+u),a=0;a<u;a++,i++)a in d&&J3(r,i,d[a]);else X3(i+1),J3(r,i++,d);return r.length=i,r}});var fX=ch,pX=fX("Array","concat"),mX=Xa,gX=pX,c_=Array.prototype,vX=function(t){var e=t.concat;return t===c_||mX(c_,t)&&e===c_.concat?gX:e},_X=vX,yX=_X;const Xc=Ht(yX);function wX(t){var e=EX();return function(){var r=Yr(t),i;if(e){var s=Yr(this).constructor;i=Jt(r,arguments,s)}else i=r.apply(this,arguments);return hh(this,i)}}function EX(){if(typeof Reflect>"u"||!Jt||Jt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Jt(Boolean,[],function(){})),!0}catch{return!1}}var qw=function(t){dh(n,t);var e=wX(n);function n(){var r,i;qn(this,n);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=e.call.apply(e,Xc(r=[this]).call(r,a)),Pe(Zp(i),"_scaleTextNode",function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,p=i.props,m=p.unstyled,g=p.textSizeRatio,_=p.textMarginRatio,C=p.avatar;if(i._node=u,!(!u||!u.parentNode||m||C.src||!i._mounted)){var b=u.parentNode,k=b.parentNode,x=b.getBoundingClientRect(),T=x.width,P=x.height;if(T==0&&P==0){var j=Math.min(d*1.5,500);yZ(function(){return i._scaleTextNode(u,j)},j);return}if(!k.style.fontSize){var U=P/g;k.style.fontSize="".concat(U,"px")}b.style.fontSize=null;var H=u.getBoundingClientRect(),N=H.width;if(!(N<0)){var S=T*(1-2*_);N>S&&(b.style.fontSize="calc(1em * ".concat(S/N,")"))}}}),i}return Kn(n,[{key:"componentDidMount",value:function(){this._mounted=!0,this._scaleTextNode(this._node)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var i=this.props,s=i.className,a=i.round,l=i.unstyled,u=i.title,d=i.name,p=i.value,m=i.avatar,g=pg(this.props.size),_=l?null:{width:g.str,height:g.str,lineHeight:"initial",textAlign:"center",color:this.props.fgColor,background:m.color,borderRadius:Fw(a)},C=l?null:{display:"table",tableLayout:"fixed",width:"100%",height:"100%"},b=l?null:{display:"table-cell",verticalAlign:"middle",fontSize:"100%",whiteSpace:"nowrap"},k=[m.value,this.props.size].join("");return ke.createElement(Ww,this.props,ke.createElement("div",{className:s+" sb-avatar__text",style:_,title:Xy(u,d||p)},ke.createElement("div",{style:C},ke.createElement("span",{style:b},ke.createElement("span",{ref:this._scaleTextNode,key:k},m.value)))))}}]),n}(ke.PureComponent);Pe(qw,"propTypes",{name:de.string,value:de.string,avatar:de.object,title:de.oneOfType([de.string,de.bool]),className:de.string,unstyled:de.bool,fgColor:de.string,textSizeRatio:de.number,textMarginRatio:de.number,round:de.oneOfType([de.bool,de.string,de.number]),size:de.oneOfType([de.number,de.string])});Pe(qw,"defaultProps",{className:"",fgColor:"#FFF",round:!1,size:100,textSizeRatio:3,textMarginRatio:.15,unstyled:!1});function TX(t){var e=WY(t),n=q5(ke.forwardRef(function(r,i){return ke.createElement(e,Tu({},r,{propertyName:"avatar"}),function(s){var a=s.src?Gw:qw;return ke.createElement(a,Tu({},r,{avatar:s,ref:i}))})}));return Hy(n,{getRandomColor:jw,ConfigProvider:qo,Cache:Kp})}var PA={exports:{}},AA={exports:{}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return e.rotl(n,8)&16711935|e.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=e.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],i=0,s=0;i<n.length;i++,s+=8)r[s>>>5]|=n[i]<<24-s%32;return r},wordsToBytes:function(n){for(var r=[],i=0;i<n.length*32;i+=8)r.push(n[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(n){for(var r=[],i=0;i<n.length;i++)r.push((n[i]>>>4).toString(16)),r.push((n[i]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],i=0;i<n.length;i+=2)r.push(parseInt(n.substr(i,2),16));return r},bytesToBase64:function(n){for(var r=[],i=0;i<n.length;i+=3)for(var s=n[i]<<16|n[i+1]<<8|n[i+2],a=0;a<4;a++)i*8+a*6<=n.length*8?r.push(t.charAt(s>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<n.length;s=++i%4)s!=0&&r.push((t.indexOf(n.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(n.charAt(i))>>>6-s*2);return r}};AA.exports=e})();var SX=AA.exports,s0={utf8:{stringToBytes:function(t){return s0.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(s0.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},eC=s0;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var CX=function(t){return t!=null&&(RA(t)||IX(t)||!!t._isBuffer)};function RA(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function IX(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&RA(t.slice(0,0))}(function(){var t=SX,e=eC.utf8,n=CX,r=eC.bin,i=function(s,a){s.constructor==String?a&&a.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):n(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var l=t.bytesToWords(s),u=s.length*8,d=1732584193,p=-271733879,m=-1732584194,g=271733878,_=0;_<l.length;_++)l[_]=(l[_]<<8|l[_]>>>24)&16711935|(l[_]<<24|l[_]>>>8)&4278255360;l[u>>>5]|=128<<u%32,l[(u+64>>>9<<4)+14]=u;for(var C=i._ff,b=i._gg,k=i._hh,x=i._ii,_=0;_<l.length;_+=16){var T=d,P=p,j=m,U=g;d=C(d,p,m,g,l[_+0],7,-680876936),g=C(g,d,p,m,l[_+1],12,-389564586),m=C(m,g,d,p,l[_+2],17,606105819),p=C(p,m,g,d,l[_+3],22,-1044525330),d=C(d,p,m,g,l[_+4],7,-176418897),g=C(g,d,p,m,l[_+5],12,1200080426),m=C(m,g,d,p,l[_+6],17,-1473231341),p=C(p,m,g,d,l[_+7],22,-45705983),d=C(d,p,m,g,l[_+8],7,1770035416),g=C(g,d,p,m,l[_+9],12,-1958414417),m=C(m,g,d,p,l[_+10],17,-42063),p=C(p,m,g,d,l[_+11],22,-1990404162),d=C(d,p,m,g,l[_+12],7,1804603682),g=C(g,d,p,m,l[_+13],12,-40341101),m=C(m,g,d,p,l[_+14],17,-1502002290),p=C(p,m,g,d,l[_+15],22,1236535329),d=b(d,p,m,g,l[_+1],5,-165796510),g=b(g,d,p,m,l[_+6],9,-1069501632),m=b(m,g,d,p,l[_+11],14,643717713),p=b(p,m,g,d,l[_+0],20,-373897302),d=b(d,p,m,g,l[_+5],5,-701558691),g=b(g,d,p,m,l[_+10],9,38016083),m=b(m,g,d,p,l[_+15],14,-660478335),p=b(p,m,g,d,l[_+4],20,-405537848),d=b(d,p,m,g,l[_+9],5,568446438),g=b(g,d,p,m,l[_+14],9,-1019803690),m=b(m,g,d,p,l[_+3],14,-187363961),p=b(p,m,g,d,l[_+8],20,1163531501),d=b(d,p,m,g,l[_+13],5,-1444681467),g=b(g,d,p,m,l[_+2],9,-51403784),m=b(m,g,d,p,l[_+7],14,1735328473),p=b(p,m,g,d,l[_+12],20,-1926607734),d=k(d,p,m,g,l[_+5],4,-378558),g=k(g,d,p,m,l[_+8],11,-2022574463),m=k(m,g,d,p,l[_+11],16,1839030562),p=k(p,m,g,d,l[_+14],23,-35309556),d=k(d,p,m,g,l[_+1],4,-1530992060),g=k(g,d,p,m,l[_+4],11,1272893353),m=k(m,g,d,p,l[_+7],16,-155497632),p=k(p,m,g,d,l[_+10],23,-1094730640),d=k(d,p,m,g,l[_+13],4,681279174),g=k(g,d,p,m,l[_+0],11,-358537222),m=k(m,g,d,p,l[_+3],16,-722521979),p=k(p,m,g,d,l[_+6],23,76029189),d=k(d,p,m,g,l[_+9],4,-640364487),g=k(g,d,p,m,l[_+12],11,-421815835),m=k(m,g,d,p,l[_+15],16,530742520),p=k(p,m,g,d,l[_+2],23,-995338651),d=x(d,p,m,g,l[_+0],6,-198630844),g=x(g,d,p,m,l[_+7],10,1126891415),m=x(m,g,d,p,l[_+14],15,-1416354905),p=x(p,m,g,d,l[_+5],21,-57434055),d=x(d,p,m,g,l[_+12],6,1700485571),g=x(g,d,p,m,l[_+3],10,-1894986606),m=x(m,g,d,p,l[_+10],15,-1051523),p=x(p,m,g,d,l[_+1],21,-2054922799),d=x(d,p,m,g,l[_+8],6,1873313359),g=x(g,d,p,m,l[_+15],10,-30611744),m=x(m,g,d,p,l[_+6],15,-1560198380),p=x(p,m,g,d,l[_+13],21,1309151649),d=x(d,p,m,g,l[_+4],6,-145523070),g=x(g,d,p,m,l[_+11],10,-1120210379),m=x(m,g,d,p,l[_+2],15,718787259),p=x(p,m,g,d,l[_+9],21,-343485551),d=d+T>>>0,p=p+P>>>0,m=m+j>>>0,g=g+U>>>0}return t.endian([d,p,m,g])};i._ff=function(s,a,l,u,d,p,m){var g=s+(a&l|~a&u)+(d>>>0)+m;return(g<<p|g>>>32-p)+a},i._gg=function(s,a,l,u,d,p,m){var g=s+(a&u|l&~u)+(d>>>0)+m;return(g<<p|g>>>32-p)+a},i._hh=function(s,a,l,u,d,p,m){var g=s+(a^l^u)+(d>>>0)+m;return(g<<p|g>>>32-p)+a},i._ii=function(s,a,l,u,d,p,m){var g=s+(l^(a|~u))+(d>>>0)+m;return(g<<p|g>>>32-p)+a},i._blocksize=16,i._digestsize=16,PA.exports=function(s,a){if(s==null)throw new Error("Illegal argument "+s);var l=t.wordsToBytes(i(s,a));return a&&a.asBytes?l:a&&a.asString?r.bytesToString(l):t.bytesToHex(l)}})();var bX=PA.exports;const xX=Ht(bX);var kA=Kn(function t(e){var n=this;qn(this,t),Pe(this,"props",null),Pe(this,"isCompatible",function(){return!!n.props.email||!!n.props.md5Email}),Pe(this,"get",function(r){var i=n.props,s=i.md5Email||xX(i.email),a=mg(i.size),l="https://secure.gravatar.com/avatar/".concat(s,"?d=404");a&&(l+="&s=".concat(a)),r({sourceName:"gravatar",src:l})}),this.props=e});Pe(kA,"propTypes",{email:de.string,md5Email:de.string});var LA=Kn(function t(e){var n=this;qn(this,t),Pe(this,"props",null),Pe(this,"isCompatible",function(){return!!n.props.facebookId}),Pe(this,"get",function(r){var i,s=n.props.facebookId,a=mg(n.props.size),l="https://graph.facebook.com/".concat(s,"/picture");a&&(l+=Xc(i="?width=".concat(a,"&height=")).call(i,a)),r({sourceName:"facebook",src:l})}),this.props=e});Pe(LA,"propTypes",{facebookId:de.string});var OA=Kn(function t(e){var n=this;qn(this,t),Pe(this,"props",null),Pe(this,"isCompatible",function(){return!!n.props.githubHandle}),Pe(this,"get",function(r){var i=n.props.githubHandle,s=mg(n.props.size),a="https://avatars.githubusercontent.com/".concat(i,"?v=4");s&&(a+="&s=".concat(s)),r({sourceName:"github",src:a})}),this.props=e});Pe(OA,"propTypes",{githubHandle:de.string});var NA=Kn(function t(e){var n=this;qn(this,t),Pe(this,"props",null),Pe(this,"isCompatible",function(){return!!n.props.skypeId}),Pe(this,"get",function(r){var i=n.props.skypeId,s="https://api.skype.com/users/".concat(i,"/profile/avatar");r({sourceName:"skype",src:s})}),this.props=e});Pe(NA,"propTypes",{skypeId:de.string});var DA=function(){function t(e){var n=this;qn(this,t),Pe(this,"props",null),Pe(this,"isCompatible",function(){return!!(n.props.name||n.props.value||n.props.email)}),Pe(this,"get",function(r){var i=n.getValue();if(!i)return r(null);r({sourceName:"text",value:i,color:n.getColor()})}),this.props=e}return Kn(t,[{key:"getInitials",value:function(){var n=this.props,r=n.name,i=n.initials;return typeof i=="string"?i:typeof i=="function"?i(r,this.props):G5(r,this.props)}},{key:"getValue",value:function(){return this.props.name?this.getInitials():this.props.value?this.props.value:null}},{key:"getColor",value:function(){var n=this.props,r=n.color,i=n.colors,s=n.name,a=n.email,l=n.value,u=s||a||l;return r||jw(u,i)}}]),t}();Pe(DA,"propTypes",{color:de.string,name:de.string,value:de.string,email:de.string,maxInitials:de.number,initials:de.oneOfType([de.string,de.func])});var MA=Kn(function t(e){var n=this;qn(this,t),Pe(this,"props",null),Pe(this,"isCompatible",function(){return!!n.props.src}),Pe(this,"get",function(r){r({sourceName:"src",src:n.props.src})}),this.props=e});Pe(MA,"propTypes",{src:de.string});var jA=Kn(function t(e){var n=this;qn(this,t),Pe(this,"props",null),Pe(this,"icon",""),Pe(this,"isCompatible",function(){return!0}),Pe(this,"get",function(r){var i=n.props,s=i.color,a=i.colors;r({sourceName:"icon",value:n.icon,color:s||jw(n.icon,a)})}),this.props=e});Pe(jA,"propTypes",{color:de.string});function Cg(t,e){var n;return n=Kn(function r(i){var s=this;qn(this,r),Pe(this,"props",null),Pe(this,"isCompatible",function(){return!!s.props.avatarRedirectUrl&&!!s.props[e]}),Pe(this,"get",function(a){var l,u,d,p=s.props.avatarRedirectUrl,m=mg(s.props.size),g=p.replace(/\/*$/,"/"),_=s.props[e],C=m?"size=".concat(m):"",b=Xc(l=Xc(u=Xc(d="".concat(g)).call(d,t,"/")).call(u,_,"?")).call(l,C);a({sourceName:t,src:b})}),this.props=i}),Pe(n,"propTypes",Pe({},e,de.oneOfType([de.string,de.number]))),n}const PX=Cg("twitter","twitterHandle"),AX=Cg("vkontakte","vkontakteId"),RX=Cg("instagram","instagramId"),kX=Cg("google","googleId");var LX=[LA,kX,OA,PX,RX,AX,NA,kA,MA,DA,jA];const FA=TX({sources:LX}),VA=({onClick:t})=>{const e=n=>{n.stopPropagation(),t()};return w.jsxs("div",{children:[w.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"}),w.jsx("button",{id:"deleted_but",onClick:e,children:w.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})};function $A(t,e){const n=M.useRef(e);M.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const OX=1;function NX(t){return Object.freeze({__version:OX,map:t})}function DX(t,e){return Object.freeze({...t,...e})}const BA=M.createContext(null),UA=BA.Provider;function Kw(){const t=M.useContext(BA);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function MX(t){function e(n,r){const{instance:i,context:s}=t(n).current;return M.useImperativeHandle(r,()=>i),n.children==null?null:ke.createElement(UA,{value:s},n.children)}return M.forwardRef(e)}function jX(t){function e(n,r){const[i,s]=M.useState(!1),{instance:a}=t(n,s).current;M.useImperativeHandle(r,()=>a),M.useEffect(function(){i&&a.update()},[a,i,n.children]);const l=a._contentNode;return l?wm.createPortal(n.children,l):null}return M.forwardRef(e)}function FX(t){function e(n,r){const{instance:i}=t(n).current;return M.useImperativeHandle(r,()=>i),null}return M.forwardRef(e)}function zA(t,e){const n=M.useRef();M.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Zw(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function VX(t,e){return function(r,i){const s=Kw(),a=t(Zw(r,s),s);return $A(s.map,r.attribution),zA(a.current,r.eventHandlers),e(a.current,s,r,i),a}}var o0={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Sc,function(n){var r="1.9.4";function i(o){var c,f,v,E;for(f=1,v=arguments.length;f<v;f++){E=arguments[f];for(c in E)o[c]=E[c]}return o}var s=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function a(o,c){var f=Array.prototype.slice;if(o.bind)return o.bind.apply(o,f.call(arguments,1));var v=f.call(arguments,2);return function(){return o.apply(c,v.length?v.concat(f.call(arguments)):arguments)}}var l=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function d(o,c,f){var v,E,O,z;return z=function(){v=!1,E&&(O.apply(f,E),E=!1)},O=function(){v?E=arguments:(o.apply(f,arguments),setTimeout(z,c),v=!0)},O}function p(o,c,f){var v=c[1],E=c[0],O=v-E;return o===v&&f?o:((o-E)%O+O)%O+E}function m(){return!1}function g(o,c){if(c===!1)return o;var f=Math.pow(10,c===void 0?6:c);return Math.round(o*f)/f}function _(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function C(o){return _(o).split(/\s+/)}function b(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var f in c)o.options[f]=c[f];return o.options}function k(o,c,f){var v=[];for(var E in o)v.push(encodeURIComponent(f?E.toUpperCase():E)+"="+encodeURIComponent(o[E]));return(!c||c.indexOf("?")===-1?"?":"&")+v.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function T(o,c){return o.replace(x,function(f,v){var E=c[v];if(E===void 0)throw new Error("No value provided for variable "+f);return typeof E=="function"&&(E=E(c)),E})}var P=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function j(o,c){for(var f=0;f<o.length;f++)if(o[f]===c)return f;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var N=0;function S(o){var c=+new Date,f=Math.max(0,16-(c-N));return N=c+f,window.setTimeout(o,f)}var A=window.requestAnimationFrame||H("RequestAnimationFrame")||S,R=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function V(o,c,f){if(f&&A===S)o.call(c);else return A.call(window,a(o,c))}function B(o){o&&R.call(window,o)}var D={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:u,throttle:d,wrapNum:p,falseFn:m,formatNum:g,trim:_,splitWords:C,setOptions:b,getParamString:k,template:T,isArray:P,indexOf:j,emptyImageUrl:U,requestFn:A,cancelFn:R,requestAnimFrame:V,cancelAnimFrame:B};function re(){}re.extend=function(o){var c=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=c.__super__=this.prototype,v=s(f);v.constructor=c,c.prototype=v;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(c[E]=this[E]);return o.statics&&i(c,o.statics),o.includes&&(fe(o.includes),i.apply(null,[v].concat(o.includes))),i(v,o),delete v.statics,delete v.includes,v.options&&(v.options=f.options?s(f.options):{},i(v.options,o.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,z=v._initHooks.length;O<z;O++)v._initHooks[O].call(this)}},c},re.include=function(o){var c=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},re.mergeOptions=function(o){return i(this.prototype.options,o),this},re.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),f=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function fe(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=P(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ce={on:function(o,c,f){if(typeof o=="object")for(var v in o)this._on(v,o[v],c);else{o=C(o);for(var E=0,O=o.length;E<O;E++)this._on(o[E],c,f)}return this},off:function(o,c,f){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var v in o)this._off(v,o[v],c);else{o=C(o);for(var E=arguments.length===1,O=0,z=o.length;O<z;O++)E?this._off(o[O]):this._off(o[O],c,f)}return this},_on:function(o,c,f,v){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,f)===!1){f===this&&(f=void 0);var E={fn:c,ctx:f};v&&(E.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(E)}},_off:function(o,c,f){var v,E,O;if(this._events&&(v=this._events[o],!!v)){if(arguments.length===1){if(this._firingCount)for(E=0,O=v.length;E<O;E++)v[E].fn=m;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var z=this._listens(o,c,f);if(z!==!1){var q=v[z];this._firingCount&&(q.fn=m,this._events[o]=v=v.slice()),v.splice(z,1)}}},fire:function(o,c,f){if(!this.listens(o,f))return this;var v=i({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var E=this._events[o];if(E){this._firingCount=this._firingCount+1||1;for(var O=0,z=E.length;O<z;O++){var q=E[O],Q=q.fn;q.once&&this.off(o,Q,q.ctx),Q.call(q.ctx||this,v)}this._firingCount--}}return f&&this._propagateEvent(v),this},listens:function(o,c,f,v){typeof o!="string"&&console.warn('"string" type argument expected');var E=c;typeof c!="function"&&(v=!!c,E=void 0,f=void 0);var O=this._events&&this._events[o];if(O&&O.length&&this._listens(o,E,f)!==!1)return!0;if(v){for(var z in this._eventParents)if(this._eventParents[z].listens(o,c,f,v))return!0}return!1},_listens:function(o,c,f){if(!this._events)return!1;var v=this._events[o]||[];if(!c)return!!v.length;f===this&&(f=void 0);for(var E=0,O=v.length;E<O;E++)if(v[E].fn===c&&v[E].ctx===f)return E;return!1},once:function(o,c,f){if(typeof o=="object")for(var v in o)this._on(v,o[v],c,!0);else{o=C(o);for(var E=0,O=o.length;E<O;E++)this._on(o[E],c,f,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};Ce.addEventListener=Ce.on,Ce.removeEventListener=Ce.clearAllEventListeners=Ce.off,Ce.addOneTimeEventListener=Ce.once,Ce.fireEvent=Ce.fire,Ce.hasEventListeners=Ce.listens;var Be=re.extend(Ce);function K(o,c,f){this.x=f?Math.round(o):o,this.y=f?Math.round(c):c}var ie=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(o){return this.clone()._add(J(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(J(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new K(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new K(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(o){o=J(o);var c=o.x-this.x,f=o.y-this.y;return Math.sqrt(c*c+f*f)},equals:function(o){return o=J(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=J(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function J(o,c,f){return o instanceof K?o:P(o)?new K(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new K(o.x,o.y):new K(o,c,f)}function we(o,c){if(o)for(var f=c?[o,c]:o,v=0,E=f.length;v<E;v++)this.extend(f[v])}we.prototype={extend:function(o){var c,f;if(!o)return this;if(o instanceof K||typeof o[0]=="number"||"x"in o)c=f=J(o);else if(o=ge(o),c=o.min,f=o.max,!c||!f)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=f.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(o){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,f;return typeof o[0]=="number"||o instanceof K?o=J(o):o=ge(o),o instanceof we?(c=o.min,f=o.max):c=f=o,c.x>=this.min.x&&f.x<=this.max.x&&c.y>=this.min.y&&f.y<=this.max.y},intersects:function(o){o=ge(o);var c=this.min,f=this.max,v=o.min,E=o.max,O=E.x>=c.x&&v.x<=f.x,z=E.y>=c.y&&v.y<=f.y;return O&&z},overlaps:function(o){o=ge(o);var c=this.min,f=this.max,v=o.min,E=o.max,O=E.x>c.x&&v.x<f.x,z=E.y>c.y&&v.y<f.y;return O&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,f=this.max,v=Math.abs(c.x-f.x)*o,E=Math.abs(c.y-f.y)*o;return ge(J(c.x-v,c.y-E),J(f.x+v,f.y+E))},equals:function(o){return o?(o=ge(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ge(o,c){return!o||o instanceof we?o:new we(o,c)}function be(o,c){if(o)for(var f=c?[o,c]:o,v=0,E=f.length;v<E;v++)this.extend(f[v])}be.prototype={extend:function(o){var c=this._southWest,f=this._northEast,v,E;if(o instanceof Ae)v=o,E=o;else if(o instanceof be){if(v=o._southWest,E=o._northEast,!v||!E)return this}else return o?this.extend(Se(o)||je(o)):this;return!c&&!f?(this._southWest=new Ae(v.lat,v.lng),this._northEast=new Ae(E.lat,E.lng)):(c.lat=Math.min(v.lat,c.lat),c.lng=Math.min(v.lng,c.lng),f.lat=Math.max(E.lat,f.lat),f.lng=Math.max(E.lng,f.lng)),this},pad:function(o){var c=this._southWest,f=this._northEast,v=Math.abs(c.lat-f.lat)*o,E=Math.abs(c.lng-f.lng)*o;return new be(new Ae(c.lat-v,c.lng-E),new Ae(f.lat+v,f.lng+E))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ae||"lat"in o?o=Se(o):o=je(o);var c=this._southWest,f=this._northEast,v,E;return o instanceof be?(v=o.getSouthWest(),E=o.getNorthEast()):v=E=o,v.lat>=c.lat&&E.lat<=f.lat&&v.lng>=c.lng&&E.lng<=f.lng},intersects:function(o){o=je(o);var c=this._southWest,f=this._northEast,v=o.getSouthWest(),E=o.getNorthEast(),O=E.lat>=c.lat&&v.lat<=f.lat,z=E.lng>=c.lng&&v.lng<=f.lng;return O&&z},overlaps:function(o){o=je(o);var c=this._southWest,f=this._northEast,v=o.getSouthWest(),E=o.getNorthEast(),O=E.lat>c.lat&&v.lat<f.lat,z=E.lng>c.lng&&v.lng<f.lng;return O&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=je(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function je(o,c){return o instanceof be?o:new be(o,c)}function Ae(o,c,f){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,f!==void 0&&(this.alt=+f)}Ae.prototype={equals:function(o,c){if(!o)return!1;o=Se(o);var f=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return f<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return en.distance(this,Se(o))},wrap:function(){return en.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,f=c/Math.cos(Math.PI/180*this.lat);return je([this.lat-c,this.lng-f],[this.lat+c,this.lng+f])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};function Se(o,c,f){return o instanceof Ae?o:P(o)&&typeof o[0]!="object"?o.length===3?new Ae(o[0],o[1],o[2]):o.length===2?new Ae(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ae(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new Ae(o,c,f)}var nt={latLngToPoint:function(o,c){var f=this.projection.project(o),v=this.scale(c);return this.transformation._transform(f,v)},pointToLatLng:function(o,c){var f=this.scale(c),v=this.transformation.untransform(o,f);return this.projection.unproject(v)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,f=this.scale(o),v=this.transformation.transform(c.min,f),E=this.transformation.transform(c.max,f);return new we(v,E)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,f=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,v=o.alt;return new Ae(f,c,v)},wrapLatLngBounds:function(o){var c=o.getCenter(),f=this.wrapLatLng(c),v=c.lat-f.lat,E=c.lng-f.lng;if(v===0&&E===0)return o;var O=o.getSouthWest(),z=o.getNorthEast(),q=new Ae(O.lat-v,O.lng-E),Q=new Ae(z.lat-v,z.lng-E);return new be(q,Q)}},en=i({},nt,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var f=Math.PI/180,v=o.lat*f,E=c.lat*f,O=Math.sin((c.lat-o.lat)*f/2),z=Math.sin((c.lng-o.lng)*f/2),q=O*O+Math.cos(v)*Math.cos(E)*z*z,Q=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*Q}}),yi=6378137,Nn={R:yi,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,f=this.MAX_LATITUDE,v=Math.max(Math.min(f,o.lat),-f),E=Math.sin(v*c);return new K(this.R*o.lng*c,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(o){var c=180/Math.PI;return new Ae((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:function(){var o=yi*Math.PI;return new we([-o,-o],[o,o])}()};function Dr(o,c,f,v){if(P(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=f,this._d=v}Dr.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new K((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function Jr(o,c,f,v){return new Dr(o,c,f,v)}var Ji=i({},en,{code:"EPSG:3857",projection:Nn,transformation:function(){var o=.5/(Math.PI*Nn.R);return Jr(o,.5,-o,.5)}()}),Vt=i({},Ji,{code:"EPSG:900913"});function pr(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Hs(o,c){var f="",v,E,O,z,q,Q;for(v=0,O=o.length;v<O;v++){for(q=o[v],E=0,z=q.length;E<z;E++)Q=q[E],f+=(E?"L":"M")+Q.x+" "+Q.y;f+=c?$.svg?"z":"x":""}return f||"M0 0"}var sa=document.documentElement.style,Zn="ActiveXObject"in window,el=Zn&&!document.addEventListener,Ws="msLaunchUri"in navigator&&!("documentMode"in document),es=Jn("webkit"),tl=Jn("android"),Gs=Jn("android 2")||Jn("android 3"),oa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),nl=tl&&Jn("Google")&&oa<537&&!("AudioNode"in window),ct=!!window.opera,Tt=!Ws&&Jn("chrome"),wi=Jn("gecko")&&!es&&!ct&&!Zn,qs=!Tt&&Jn("safari"),Qn=Jn("phantom"),Yn="OTransition"in sa,Ei=navigator.platform.indexOf("Win")===0,Ti=Zn&&"transition"in sa,Ks="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Gs,Dn="MozPerspective"in sa,rl=!window.L_DISABLE_3D&&(Ti||Ks||Dn)&&!Yn&&!Qn,Si=typeof orientation<"u"||Jn("mobile"),Zs=Si&&es,il=Si&&Ks,Qs=!window.PointerEvent&&window.MSPointerEvent,mr=!!(window.PointerEvent||Qs),ts="ontouchstart"in window||!!window.TouchEvent,ns=!window.L_NO_TOUCH&&(ts||mr),Xn=Si&&ct,Ys=Si&&wi,Xs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,aa=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,c),window.removeEventListener("testPassiveEventSupport",m,c)}catch{}return o}(),rs=function(){return!!document.createElement("canvas").getContext}(),is=!!(document.createElementNS&&pr("svg").createSVGRect),Ot=!!is&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ss=!is&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Ci=navigator.platform.indexOf("Mac")===0,os=navigator.platform.indexOf("Linux")===0;function Jn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var $={ie:Zn,ielt9:el,edge:Ws,webkit:es,android:tl,android23:Gs,androidStock:nl,opera:ct,chrome:Tt,gecko:wi,safari:qs,phantom:Qn,opera12:Yn,win:Ei,ie3d:Ti,webkit3d:Ks,gecko3d:Dn,any3d:rl,mobile:Si,mobileWebkit:Zs,mobileWebkit3d:il,msPointer:Qs,pointer:mr,touch:ns,touchNative:ts,mobileOpera:Xn,mobileGecko:Ys,retina:Xs,passiveEvents:aa,canvas:rs,svg:is,vml:ss,inlineSvg:Ot,mac:Ci,linux:os},W=$.msPointer?"MSPointerDown":"pointerdown",Z=$.msPointer?"MSPointerMove":"pointermove",ee=$.msPointer?"MSPointerUp":"pointerup",ce=$.msPointer?"MSPointerCancel":"pointercancel",Ee={touchstart:W,touchmove:Z,touchend:ee,touchcancel:ce},xe={touchstart:pt,touchmove:gt,touchend:gt,touchcancel:gt},ae={},_e=!1;function ve(o,c,f){return c==="touchstart"&&ze(),xe[c]?(f=xe[c].bind(this,f),o.addEventListener(Ee[c],f,!1),f):(console.warn("wrong event specified:",c),m)}function ye(o,c,f){if(!Ee[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(Ee[c],f,!1)}function We(o){ae[o.pointerId]=o}function Ye(o){ae[o.pointerId]&&(ae[o.pointerId]=o)}function st(o){delete ae[o.pointerId]}function ze(){_e||(document.addEventListener(W,We,!0),document.addEventListener(Z,Ye,!0),document.addEventListener(ee,st,!0),document.addEventListener(ce,st,!0),_e=!0)}function gt(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var f in ae)c.touches.push(ae[f]);c.changedTouches=[c],o(c)}}function pt(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&bt(c),gt(o,c)}function Ii(o){var c={},f,v;for(v in o)f=o[v],c[v]=f&&f.bind?f.bind(o):f;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Mn=200;function er(o,c){o.addEventListener("dblclick",c);var f=0,v;function E(O){if(O.detail!==1){v=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var z=Gu(O);if(!(z.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!z.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var q=Date.now();q-f<=Mn?(v++,v===2&&c(Ii(O))):v=1,f=q}}}return o.addEventListener("click",E),{dblclick:c,simDblclick:E}}function on(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var Mr=as(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mn=as(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bi=mn==="webkitTransition"||mn==="OTransition"?mn+"End":"transitionend";function xi(o){return typeof o=="string"?document.getElementById(o):o}function gr(o,c){var f=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!f||f==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(o,null);f=v?v[c]:null}return f==="auto"?null:f}function ue(o,c,f){var v=document.createElement(o);return v.className=c||"",f&&f.appendChild(v),v}function Re(o){var c=o.parentNode;c&&c.removeChild(o)}function $t(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function rt(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function an(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function Js(o,c){if(o.classList!==void 0)return o.classList.contains(c);var f=jr(o);return f.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(f)}function Fe(o,c){if(o.classList!==void 0)for(var f=C(c),v=0,E=f.length;v<E;v++)o.classList.add(f[v]);else if(!Js(o,c)){var O=jr(o);Fu(o,(O?O+" ":"")+c)}}function St(o,c){o.classList!==void 0?o.classList.remove(c):Fu(o,_((" "+jr(o)+" ").replace(" "+c+" "," ")))}function Fu(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function jr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Nt(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&sl(o,c)}function sl(o,c){var f=!1,v="DXImageTransform.Microsoft.Alpha";try{f=o.filters.item(v)}catch{if(c===1)return}c=Math.round(c*100),f?(f.Enabled=c!==100,f.Opacity=c):o.style.filter+=" progid:"+v+"(opacity="+c+")"}function as(o){for(var c=document.documentElement.style,f=0;f<o.length;f++)if(o[f]in c)return o[f];return!1}function Pi(o,c,f){var v=c||new K(0,0);o.style[Mr]=($.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(f?" scale("+f+")":"")}function De(o,c){o._leaflet_pos=c,$.any3d?Pi(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function Fr(o){return o._leaflet_pos||new K(0,0)}var ei,ti,Vu;if("onselectstart"in document)ei=function(){Le(window,"selectstart",bt)},ti=function(){dt(window,"selectstart",bt)};else{var eo=as(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ei=function(){if(eo){var o=document.documentElement.style;Vu=o[eo],o[eo]="none"}},ti=function(){eo&&(document.documentElement.style[eo]=Vu,Vu=void 0)}}function $u(){Le(window,"dragstart",bt)}function Bu(){dt(window,"dragstart",bt)}var ol,Uu;function ls(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(vr(),ol=o,Uu=o.style.outlineStyle,o.style.outlineStyle="none",Le(window,"keydown",vr))}function vr(){ol&&(ol.style.outlineStyle=Uu,ol=void 0,Uu=void 0,dt(window,"keydown",vr))}function zu(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function al(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var _h={__proto__:null,TRANSFORM:Mr,TRANSITION:mn,TRANSITION_END:bi,get:xi,getStyle:gr,create:ue,remove:Re,empty:$t,toFront:rt,toBack:an,hasClass:Js,addClass:Fe,removeClass:St,setClass:Fu,getClass:jr,setOpacity:Nt,testProp:as,setTransform:Pi,setPosition:De,getPosition:Fr,get disableTextSelection(){return ei},get enableTextSelection(){return ti},disableImageDrag:$u,enableImageDrag:Bu,preventOutline:ls,restoreOutline:vr,getSizedParentNode:zu,getScale:al};function Le(o,c,f,v){if(c&&typeof c=="object")for(var E in c)Hu(o,E,c[E],f);else{c=C(c);for(var O=0,z=c.length;O<z;O++)Hu(o,c[O],f,v)}return this}var Vr="_leaflet_events";function dt(o,c,f,v){if(arguments.length===1)yh(o),delete o[Vr];else if(c&&typeof c=="object")for(var E in c)Wu(o,E,c[E],f);else if(c=C(c),arguments.length===2)yh(o,function(q){return j(c,q)!==-1});else for(var O=0,z=c.length;O<z;O++)Wu(o,c[O],f,v);return this}function yh(o,c){for(var f in o[Vr]){var v=f.split(/\d/)[0];(!c||c(v))&&Wu(o,v,null,null,f)}}var $r={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hu(o,c,f,v){var E=c+u(f)+(v?"_"+u(v):"");if(o[Vr]&&o[Vr][E])return this;var O=function(q){return f.call(v||o,q||window.event)},z=O;!$.touchNative&&$.pointer&&c.indexOf("touch")===0?O=ve(o,c,O):$.touch&&c==="dblclick"?O=er(o,O):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener($r[c]||c,O,$.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(O=function(q){q=q||window.event,qu(o,q)&&z(q)},o.addEventListener($r[c],O,!1)):o.addEventListener(c,z,!1):o.attachEvent("on"+c,O),o[Vr]=o[Vr]||{},o[Vr][E]=O}function Wu(o,c,f,v,E){E=E||c+u(f)+(v?"_"+u(v):"");var O=o[Vr]&&o[Vr][E];if(!O)return this;!$.touchNative&&$.pointer&&c.indexOf("touch")===0?ye(o,c,O):$.touch&&c==="dblclick"?on(o,O):"removeEventListener"in o?o.removeEventListener($r[c]||c,O,!1):o.detachEvent("on"+c,O),o[Vr][E]=null}function Br(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function to(o){return Hu(o,"wheel",Br),this}function no(o){return Le(o,"mousedown touchstart dblclick contextmenu",Br),o._leaflet_disable_click=!0,this}function bt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function _r(o){return bt(o),Br(o),this}function Gu(o){if(o.composedPath)return o.composedPath();for(var c=[],f=o.target;f;)c.push(f),f=f.parentNode;return c}function ll(o,c){if(!c)return new K(o.clientX,o.clientY);var f=al(c),v=f.boundingClientRect;return new K((o.clientX-v.left)/f.x-c.clientLeft,(o.clientY-v.top)/f.y-c.clientTop)}var Ct=$.linux&&$.chrome?window.devicePixelRatio:$.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wh(o){return $.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ct:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function qu(o,c){var f=c.relatedTarget;if(!f)return!0;try{for(;f&&f!==o;)f=f.parentNode}catch{return!1}return f!==o}var Eh={__proto__:null,on:Le,off:dt,stopPropagation:Br,disableScrollPropagation:to,disableClickPropagation:no,preventDefault:bt,stop:_r,getPropagationPath:Gu,getMousePosition:ll,getWheelDelta:wh,isExternalTarget:qu,addListener:Le,removeListener:dt},Ku=Be.extend({run:function(o,c,f,v){this.stop(),this._el=o,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Fr(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,f=this._duration*1e3;c<f?this._runFrame(this._easeOut(c/f),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var f=this._startPos.add(this._offset.multiplyBy(o));c&&f._round(),De(this._el,f),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ge=Be.extend({options:{crs:Ji,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=b(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Se(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mn&&$.any3d&&!$.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Le(this._proxy,bi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,f){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(Se(o),c,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=i({animate:f.animate},f.zoom),f.pan=i({animate:f.animate,duration:f.duration},f.pan));var v=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,f.zoom):this._tryAnimatedPan(o,f.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,f.pan&&f.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,f){var v=this.getZoomScale(c),E=this.getSize().divideBy(2),O=o instanceof K?o:this.latLngToContainerPoint(o),z=O.subtract(E).multiplyBy(1-1/v),q=this.containerPointToLatLng(E.add(z));return this.setView(q,c,{zoom:f})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():je(o);var f=J(c.paddingTopLeft||c.padding||[0,0]),v=J(c.paddingBottomRight||c.padding||[0,0]),E=this.getBoundsZoom(o,!1,f.add(v));if(E=typeof c.maxZoom=="number"?Math.min(c.maxZoom,E):E,E===1/0)return{center:o.getCenter(),zoom:E};var O=v.subtract(f).divideBy(2),z=this.project(o.getSouthWest(),E),q=this.project(o.getNorthEast(),E),Q=this.unproject(z.add(q).divideBy(2).add(O),E);return{center:Q,zoom:E}},fitBounds:function(o,c){if(o=je(o),!o.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(o,c);return this.setView(f.center,f.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=J(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ku,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Fe(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,f,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,f){if(f=f||{},f.animate===!1||!$.any3d)return this.setView(o,c,f);this._stop();var v=this.project(this.getCenter()),E=this.project(o),O=this.getSize(),z=this._zoom;o=Se(o),c=c===void 0?z:c;var q=Math.max(O.x,O.y),Q=q*this.getZoomScale(z,c),ne=E.distanceTo(v)||1,he=1.42,Oe=he*he;function He(Kt){var jh=Kt?-1:1,WR=Kt?Q:q,GR=Q*Q-q*q+jh*Oe*Oe*ne*ne,qR=2*WR*Oe*ne,Mg=GR/qR,I2=Math.sqrt(Mg*Mg+1)-Mg,KR=I2<1e-9?-18:Math.log(I2);return KR}function Fn(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function un(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}function zr(Kt){return Fn(Kt)/un(Kt)}var nr=He(0);function El(Kt){return q*(un(nr)/un(nr+he*Kt))}function BR(Kt){return q*(un(nr)*zr(nr+he*Kt)-Fn(nr))/Oe}function UR(Kt){return 1-Math.pow(1-Kt,1.5)}var zR=Date.now(),S2=(He(1)-nr)/he,HR=f.duration?1e3*f.duration:1e3*S2*.8;function C2(){var Kt=(Date.now()-zR)/HR,jh=UR(Kt)*S2;Kt<=1?(this._flyToFrame=V(C2,this),this._move(this.unproject(v.add(E.subtract(v).multiplyBy(BR(jh)/ne)),z),this.getScaleZoom(q/El(jh),z),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),C2.call(this),this},flyToBounds:function(o,c){var f=this._getBoundsCenterZoom(o,c);return this.flyTo(f.center,f.zoom,c)},setMaxBounds:function(o){return o=je(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var f=this.getCenter(),v=this._limitCenter(f,this._zoom,je(o));return f.equals(v)||this.panTo(v,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var f=J(c.paddingTopLeft||c.padding||[0,0]),v=J(c.paddingBottomRight||c.padding||[0,0]),E=this.project(this.getCenter()),O=this.project(o),z=this.getPixelBounds(),q=ge([z.min.add(f),z.max.subtract(v)]),Q=q.getSize();if(!q.contains(O)){this._enforcingBounds=!0;var ne=O.subtract(q.getCenter()),he=q.extend(O).getSize().subtract(Q);E.x+=ne.x<0?-he.x:he.x,E.y+=ne.y<0?-he.y:he.y,this.panTo(this.unproject(E),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),v=c.divideBy(2).round(),E=f.divideBy(2).round(),O=v.subtract(E);return!O.x&&!O.y?this:(o.animate&&o.pan?this.panBy(O):(o.pan&&this._rawPanBy(O),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=a(this._handleGeolocationResponse,this),f=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,f,o):navigator.geolocation.getCurrentPosition(c,f,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,f=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,f=o.coords.longitude,v=new Ae(c,f),E=v.toBounds(o.coords.accuracy*2),O=this._locateOptions;if(O.setView){var z=this.getBoundsZoom(E);this.setView(v,O.maxZoom?Math.min(z,O.maxZoom):z)}var q={latlng:v,bounds:E,timestamp:o.timestamp};for(var Q in o.coords)typeof o.coords[Q]=="number"&&(q[Q]=o.coords[Q]);this.fire("locationfound",q)}},addHandler:function(o,c){if(!c)return this;var f=this[o]=new c(this);return this._handlers.push(f),this.options[o]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Re(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var f="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),v=ue("div",f,c||this._mapPane);return o&&(this._panes[o]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),f=this.unproject(o.getTopRight());return new be(c,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,f){o=je(o),f=J(f||[0,0]);var v=this.getZoom()||0,E=this.getMinZoom(),O=this.getMaxZoom(),z=o.getNorthWest(),q=o.getSouthEast(),Q=this.getSize().subtract(f),ne=ge(this.project(q,v),this.project(z,v)).getSize(),he=$.any3d?this.options.zoomSnap:1,Oe=Q.x/ne.x,He=Q.y/ne.y,Fn=c?Math.max(Oe,He):Math.min(Oe,He);return v=this.getScaleZoom(Fn,v),he&&(v=Math.round(v/(he/100))*(he/100),v=c?Math.ceil(v/he)*he:Math.floor(v/he)*he),Math.max(E,Math.min(O,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var f=this._getTopLeftPoint(o,c);return new we(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var f=this.options.crs;return c=c===void 0?this._zoom:c,f.scale(o)/f.scale(c)},getScaleZoom:function(o,c){var f=this.options.crs;c=c===void 0?this._zoom:c;var v=f.zoom(o*f.scale(c));return isNaN(v)?1/0:v},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Se(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(J(o),c)},layerPointToLatLng:function(o){var c=J(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(Se(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Se(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(je(o))},distance:function(o,c){return this.options.crs.distance(Se(o),Se(c))},containerPointToLayerPoint:function(o){return J(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return J(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(J(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(o)))},mouseEventToContainerPoint:function(o){return ll(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=xi(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Le(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&$.any3d,Fe(o,"leaflet-container"+($.touch?" leaflet-touch":"")+($.retina?" leaflet-retina":"")+($.ielt9?" leaflet-oldie":"")+($.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=gr(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),De(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Fe(o.markerPane,"leaflet-zoom-hide"),Fe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,f){De(this._mapPane,new K(0,0));var v=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var E=this._zoom!==c;this._moveStart(E,f)._move(o,c)._moveEnd(E),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,f,v){c===void 0&&(c=this._zoom);var E=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),v?f&&f.pinch&&this.fire("zoom",f):((E||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){De(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var c=o?dt:Le;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),$.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var f=[],v,E=c==="mouseout"||c==="mouseover",O=o.target||o.srcElement,z=!1;O;){if(v=this._targets[u(O)],v&&(c==="click"||c==="preclick")&&this._draggableMoved(v)){z=!0;break}if(v&&v.listens(c,!0)&&(E&&!qu(O,o)||(f.push(v),E))||O===this._container)break;O=O.parentNode}return!f.length&&!z&&!E&&this.listens(c,!0)&&(f=[this]),f},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var f=o.type;f==="mousedown"&&ls(c),this._fireDOMEvent(o,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,f){if(o.type==="click"){var v=i({},o);v.type="preclick",this._fireDOMEvent(v,v.type,f)}var E=this._findEventTargets(o,c);if(f){for(var O=[],z=0;z<f.length;z++)f[z].listens(c,!0)&&O.push(f[z]);E=O.concat(E)}if(E.length){c==="contextmenu"&&bt(o);var q=E[0],Q={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ne=q.getLatLng&&(!q._radius||q._radius<=10);Q.containerPoint=ne?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(o),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=ne?q.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(z=0;z<E.length;z++)if(E[z].fire(c,Q,!0),Q.originalEvent._stopped||E[z].options.bubblingMouseEvents===!1&&j(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return Fr(this._mapPane)||new K(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var f=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var f=this.getSize()._divideBy(2);return this.project(o,c)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,f){var v=this._getNewPixelOrigin(f,c);return this.project(o,c)._subtract(v)},_latLngBoundsToNewLayerBounds:function(o,c,f){var v=this._getNewPixelOrigin(f,c);return ge([this.project(o.getSouthWest(),c)._subtract(v),this.project(o.getNorthWest(),c)._subtract(v),this.project(o.getSouthEast(),c)._subtract(v),this.project(o.getNorthEast(),c)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,f){if(!f)return o;var v=this.project(o,c),E=this.getSize().divideBy(2),O=new we(v.subtract(E),v.add(E)),z=this._getBoundsOffset(O,f,c);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?o:this.unproject(v.add(z),c)},_limitOffset:function(o,c){if(!c)return o;var f=this.getPixelBounds(),v=new we(f.min.add(o),f.max.add(o));return o.add(this._getBoundsOffset(v,c))},_getBoundsOffset:function(o,c,f){var v=ge(this.project(c.getNorthEast(),f),this.project(c.getSouthWest(),f)),E=v.min.subtract(o.min),O=v.max.subtract(o.max),z=this._rebound(E.x,-O.x),q=this._rebound(E.y,-O.y);return new K(z,q)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),f=this.getMaxZoom(),v=$.any3d?this.options.zoomSnap:1;return v&&(o=Math.round(o/v)*v),Math.max(c,Math.min(f,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){St(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var f=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,c),!0)},_createAnimProxy:function(){var o=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var f=Mr,v=this._proxy.style[f];Pi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),v===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Re(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();Pi(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(c),E=this._getCenterOffset(o)._divideBy(1-1/v);return f.animate!==!0&&!this.getSize().contains(E)?!1:(V(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,f,v){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&St(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ul(o,c){return new Ge(o,c)}var tr=re.extend({options:{position:"topright"},initialize:function(o){b(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),f=this.getPosition(),v=o._controlCorners[f];return Fe(c,"leaflet-control"),f.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Re(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),jn=function(o){return new tr(o)};Ge.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",f=this._controlContainer=ue("div",c+"control-container",this._container);function v(E,O){var z=c+E+" "+c+O;o[E+O]=ue("div",z,f)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Re(this._controlCorners[o]);Re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zu=tr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,f,v){return f<v?-1:v<f?1:0}},initialize:function(o,c,f){b(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in o)this._addLayer(o[v],v);for(v in c)this._addLayer(c[v],v,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return tr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):St(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return St(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=ue("div",o),f=this.options.collapsed;c.setAttribute("aria-haspopup",!0),no(c),to(c);var v=this._section=ue("section",o+"-list");f&&(this._map.on("click",this.collapse,this),Le(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=ue("a",o+"-toggle",c);E.href="#",E.title="Layers",E.setAttribute("role","button"),Le(E,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){bt(O),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ue("div",o+"-base",v),this._separator=ue("div",o+"-separator",v),this._overlaysList=ue("div",o+"-overlays",v),c.appendChild(v)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,f){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:f}),this.options.sortLayers&&this._layers.sort(a(function(v,E){return this.options.sortFunction(v.layer,E.layer,v.name,E.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$t(this._baseLayersList),$t(this._overlaysList),this._layerControlInputs=[];var o,c,f,v,E=0;for(f=0;f<this._layers.length;f++)v=this._layers[f],this._addItem(v),c=c||v.overlay,o=o||!v.overlay,E+=v.overlay?0:1;return this.options.hideSingleBase&&(o=o&&E>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(u(o.target)),f=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;f&&this._map.fire(f,c)},_createRadioElement:function(o,c){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=f,v.firstChild},_addItem:function(o){var c=document.createElement("label"),f=this._map.hasLayer(o.layer),v;o.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=f):v=this._createRadioElement("leaflet-base-layers_"+u(this),f),this._layerControlInputs.push(v),v.layerId=u(o.layer),Le(v,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+o.name;var O=document.createElement("span");c.appendChild(O),O.appendChild(v),O.appendChild(E);var z=o.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,f,v=[],E=[];this._handlingClick=!0;for(var O=o.length-1;O>=0;O--)c=o[O],f=this._getLayer(c.layerId).layer,c.checked?v.push(f):c.checked||E.push(f);for(O=0;O<E.length;O++)this._map.hasLayer(E[O])&&this._map.removeLayer(E[O]);for(O=0;O<v.length;O++)this._map.hasLayer(v[O])||this._map.addLayer(v[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,f,v=this._map.getZoom(),E=o.length-1;E>=0;E--)c=o[E],f=this._getLayer(c.layerId).layer,c.disabled=f.options.minZoom!==void 0&&v<f.options.minZoom||f.options.maxZoom!==void 0&&v>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Le(o,"click",bt),this.expand();var c=this;setTimeout(function(){dt(o,"click",bt),c._preventClick=!1})}}),Rg=function(o,c,f){return new Zu(o,c,f)},us=tr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",f=ue("div",c+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,c+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,c+"-out",f,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,f,v,E){var O=ue("a",f,v);return O.innerHTML=o,O.href="#",O.title=c,O.setAttribute("role","button"),O.setAttribute("aria-label",c),no(O),Le(O,"click",_r),Le(O,"click",E,this),Le(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";St(this._zoomInButton,c),St(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Fe(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Fe(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new us,this.addControl(this.zoomControl))});var Th=function(o){return new us(o)},cl=tr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",f=ue("div",c),v=this.options;return this._addScales(v,c+"-line",f),o.on(v.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),f},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,f){o.metric&&(this._mScale=ue("div",c,f)),o.imperial&&(this._iScale=ue("div",c,f))},_update:function(){var o=this._map,c=o.getSize().y/2,f=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(f)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),f=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,f,c/o)},_updateImperial:function(o){var c=o*3.2808399,f,v,E;c>5280?(f=c/5280,v=this._getRoundNum(f),this._updateScale(this._iScale,v+" mi",v/f)):(E=this._getRoundNum(c),this._updateScale(this._iScale,E+" ft",E/c))},_updateScale:function(o,c,f){o.style.width=Math.round(this.options.maxWidth*f)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),f=o/c;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,c*f}}),dl=function(o){return new cl(o)},Sh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ro=tr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($.inlineSvg?Sh+" ":"")+"Leaflet</a>"},initialize:function(o){b(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),no(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var f=[];this.options.prefix&&f.push(this.options.prefix),o.length&&f.push(o.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&new ro().addTo(this)});var kg=function(o){return new ro(o)};tr.Layers=Zu,tr.Zoom=us,tr.Scale=cl,tr.Attribution=ro,jn.layers=Rg,jn.zoom=Th,jn.scale=dl,jn.attribution=kg;var yr=re.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yr.addTo=function(o,c){return o.addHandler(c,this),this};var la={Events:Ce},Qu=$.touch?"touchstart mousedown":"mousedown",ni=Be.extend({options:{clickTolerance:3},initialize:function(o,c,f,v){b(this,v),this._element=o,this._dragStartTarget=c||o,this._preventOutline=f},enable:function(){this._enabled||(Le(this._dragStartTarget,Qu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,Qu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Js(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){ni._dragging===this&&this.finishDrag();return}if(!(ni._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(ni._dragging=this,this._preventOutline&&ls(this._element),$u(),ei(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,f=zu(this._element);this._startPoint=new K(c.clientX,c.clientY),this._startPos=Fr(this._element),this._parentScale=al(f);var v=o.type==="mousedown";Le(document,v?"mousemove":"touchmove",this._onMove,this),Le(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,f=new K(c.clientX,c.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,bt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Fe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),De(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){St(document.body,"leaflet-dragging"),this._lastTarget&&(St(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Bu(),ti();var c=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function hl(o,c,f){var v,E=[1,4,2,8],O,z,q,Q,ne,he,Oe,He;for(O=0,he=o.length;O<he;O++)o[O]._code=Ai(o[O],c);for(q=0;q<4;q++){for(Oe=E[q],v=[],O=0,he=o.length,z=he-1;O<he;z=O++)Q=o[O],ne=o[z],Q._code&Oe?ne._code&Oe||(He=ln(ne,Q,Oe,c,f),He._code=Ai(He,c),v.push(He)):(ne._code&Oe&&(He=ln(ne,Q,Oe,c,f),He._code=Ai(He,c),v.push(He)),v.push(Q));o=v}return o}function fl(o,c){var f,v,E,O,z,q,Q,ne,he;if(!o||o.length===0)throw new Error("latlngs not passed");h(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Oe=Se([0,0]),He=je(o),Fn=He.getNorthWest().distanceTo(He.getSouthWest())*He.getNorthEast().distanceTo(He.getNorthWest());Fn<1700&&(Oe=pl(o));var un=o.length,zr=[];for(f=0;f<un;f++){var nr=Se(o[f]);zr.push(c.project(Se([nr.lat-Oe.lat,nr.lng-Oe.lng])))}for(q=Q=ne=0,f=0,v=un-1;f<un;v=f++)E=zr[f],O=zr[v],z=E.y*O.x-O.y*E.x,Q+=(E.x+O.x)*z,ne+=(E.y+O.y)*z,q+=z*3;q===0?he=zr[0]:he=[Q/q,ne/q];var El=c.unproject(J(he));return Se([El.lat+Oe.lat,El.lng+Oe.lng])}function pl(o){for(var c=0,f=0,v=0,E=0;E<o.length;E++){var O=Se(o[E]);c+=O.lat,f+=O.lng,v++}return Se([c/v,f/v])}var ml={__proto__:null,clipPolygon:hl,polygonCenter:fl,centroid:pl};function Yu(o,c){if(!c||!o.length)return o.slice();var f=c*c;return o=Ih(o,f),o=Ch(o,f),o}function Xu(o,c,f){return Math.sqrt(Ur(o,c,f,!0))}function cs(o,c,f){return Ur(o,c,f)}function Ch(o,c){var f=o.length,v=typeof Uint8Array<"u"?Uint8Array:Array,E=new v(f);E[0]=E[f-1]=1,gl(o,E,c,0,f-1);var O,z=[];for(O=0;O<f;O++)E[O]&&z.push(o[O]);return z}function gl(o,c,f,v,E){var O=0,z,q,Q;for(q=v+1;q<=E-1;q++)Q=Ur(o[q],o[v],o[E],!0),Q>O&&(z=q,O=Q);O>f&&(c[z]=1,gl(o,c,f,v,z),gl(o,c,f,z,E))}function Ih(o,c){for(var f=[o[0]],v=1,E=0,O=o.length;v<O;v++)bh(o[v],o[E])>c&&(f.push(o[v]),E=v);return E<O-1&&f.push(o[O-1]),f}var Ju;function ua(o,c,f,v,E){var O=v?Ju:Ai(o,f),z=Ai(c,f),q,Q,ne;for(Ju=z;;){if(!(O|z))return[o,c];if(O&z)return!1;q=O||z,Q=ln(o,c,q,f,E),ne=Ai(Q,f),q===O?(o=Q,O=ne):(c=Q,z=ne)}}function ln(o,c,f,v,E){var O=c.x-o.x,z=c.y-o.y,q=v.min,Q=v.max,ne,he;return f&8?(ne=o.x+O*(Q.y-o.y)/z,he=Q.y):f&4?(ne=o.x+O*(q.y-o.y)/z,he=q.y):f&2?(ne=Q.x,he=o.y+z*(Q.x-o.x)/O):f&1&&(ne=q.x,he=o.y+z*(q.x-o.x)/O),new K(ne,he,E)}function Ai(o,c){var f=0;return o.x<c.min.x?f|=1:o.x>c.max.x&&(f|=2),o.y<c.min.y?f|=4:o.y>c.max.y&&(f|=8),f}function bh(o,c){var f=c.x-o.x,v=c.y-o.y;return f*f+v*v}function Ur(o,c,f,v){var E=c.x,O=c.y,z=f.x-E,q=f.y-O,Q=z*z+q*q,ne;return Q>0&&(ne=((o.x-E)*z+(o.y-O)*q)/Q,ne>1?(E=f.x,O=f.y):ne>0&&(E+=z*ne,O+=q*ne)),z=o.x-E,q=o.y-O,v?z*z+q*q:new K(E,O)}function h(o){return!P(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function y(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),h(o)}function I(o,c){var f,v,E,O,z,q,Q,ne;if(!o||o.length===0)throw new Error("latlngs not passed");h(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var he=Se([0,0]),Oe=je(o),He=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());He<1700&&(he=pl(o));var Fn=o.length,un=[];for(f=0;f<Fn;f++){var zr=Se(o[f]);un.push(c.project(Se([zr.lat-he.lat,zr.lng-he.lng])))}for(f=0,v=0;f<Fn-1;f++)v+=un[f].distanceTo(un[f+1])/2;if(v===0)ne=un[0];else for(f=0,O=0;f<Fn-1;f++)if(z=un[f],q=un[f+1],E=z.distanceTo(q),O+=E,O>v){Q=(O-v)/E,ne=[q.x-Q*(q.x-z.x),q.y-Q*(q.y-z.y)];break}var nr=c.unproject(J(ne));return Se([nr.lat+he.lat,nr.lng+he.lng])}var F={__proto__:null,simplify:Yu,pointToSegmentDistance:Xu,closestPointOnSegment:cs,clipSegment:ua,_getEdgeIntersection:ln,_getBitCode:Ai,_sqClosestPointOnSegment:Ur,isFlat:h,_flat:y,polylineCenter:I},G={project:function(o){return new K(o.lng,o.lat)},unproject:function(o){return new Ae(o.y,o.x)},bounds:new we([-180,-90],[180,90])},Y={R:6378137,R_MINOR:6356752314245179e-9,bounds:new we([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,f=this.R,v=o.lat*c,E=this.R_MINOR/f,O=Math.sqrt(1-E*E),z=O*Math.sin(v),q=Math.tan(Math.PI/4-v/2)/Math.pow((1-z)/(1+z),O/2);return v=-f*Math.log(Math.max(q,1e-10)),new K(o.lng*c*f,v)},unproject:function(o){for(var c=180/Math.PI,f=this.R,v=this.R_MINOR/f,E=Math.sqrt(1-v*v),O=Math.exp(-o.y/f),z=Math.PI/2-2*Math.atan(O),q=0,Q=.1,ne;q<15&&Math.abs(Q)>1e-7;q++)ne=E*Math.sin(z),ne=Math.pow((1-ne)/(1+ne),E/2),Q=Math.PI/2-2*Math.atan(O*ne)-z,z+=Q;return new Ae(z*c,o.x*c/f)}},le={__proto__:null,LonLat:G,Mercator:Y,SphericalMercator:Nn},at=i({},en,{code:"EPSG:3395",projection:Y,transformation:function(){var o=.5/(Math.PI*Y.R);return Jr(o,.5,-o,.5)}()}),qt=i({},en,{code:"EPSG:4326",projection:G,transformation:Jr(1/180,1,-1/180,.5)}),Je=i({},nt,{projection:G,transformation:Jr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var f=c.lng-o.lng,v=c.lat-o.lat;return Math.sqrt(f*f+v*v)},infinite:!0});nt.Earth=en,nt.EPSG3395=at,nt.EPSG3857=Ji,nt.EPSG900913=Vt,nt.EPSG4326=qt,nt.Simple=Je;var ht=Be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var f=this.getEvents();c.on(f,this),this.once("remove",function(){c.off(f,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=u(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,c){for(var f in this._layers)o.call(c,this._layers[f]);return this},_addLayers:function(o){o=o?P(o)?o:[o]:[];for(var c=0,f=o.length;c<f;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=u(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,f=this._getZoomSpan();for(var v in this._zoomBoundLayers){var E=this._zoomBoundLayers[v].options;o=E.minZoom===void 0?o:Math.min(o,E.minZoom),c=E.maxZoom===void 0?c:Math.max(c,E.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xt=ht.extend({initialize:function(o,c){b(this,c),this._layers={};var f,v;if(o)for(f=0,v=o.length;f<v;f++)this.addLayer(o[f])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),f,v;for(f in this._layers)v=this._layers[f],v[o]&&v[o].apply(v,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var f in this._layers)o.call(c,this._layers[f]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),io=function(o,c){return new xt(o,c)},Bt=xt.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),xt.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),xt.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new be;for(var c in this._layers){var f=this._layers[c];o.extend(f.getBounds?f.getBounds():f.getLatLng())}return o}}),vl=function(o,c){return new Bt(o,c)},Ri=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){b(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var f=this._getIconUrl(o);if(!f){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(f,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(v,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(o,c){var f=this.options,v=f[c+"Size"];typeof v=="number"&&(v=[v,v]);var E=J(v),O=J(c==="shadow"&&f.shadowAnchor||f.iconAnchor||E&&E.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(f.className||""),O&&(o.style.marginLeft=-O.x+"px",o.style.marginTop=-O.y+"px"),E&&(o.style.width=E.x+"px",o.style.height=E.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return $.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function TR(o){return new Ri(o)}var ec=Ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof ec.imagePath!="string"&&(ec.imagePath=this._detectIconPath()),(this.options.imagePath||ec.imagePath)+Ri.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(f,v,E){var O=v.exec(f);return O&&O[E]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ue("div","leaflet-default-icon-path",document.body),c=gr(o,"background-image")||gr(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),i2=yr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new ni(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Fe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&St(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,f=c._map,v=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,O=Fr(c._icon),z=f.getPixelBounds(),q=f.getPixelOrigin(),Q=ge(z.min._subtract(q).add(E),z.max._subtract(q).subtract(E));if(!Q.contains(O)){var ne=J((Math.max(Q.max.x,O.x)-Q.max.x)/(z.max.x-Q.max.x)-(Math.min(Q.min.x,O.x)-Q.min.x)/(z.min.x-Q.min.x),(Math.max(Q.max.y,O.y)-Q.max.y)/(z.max.y-Q.max.y)-(Math.min(Q.min.y,O.y)-Q.min.y)/(z.min.y-Q.min.y)).multiplyBy(v);f.panBy(ne,{animate:!1}),this._draggable._newPos._add(ne),this._draggable._startPos._add(ne),De(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=V(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,f=c._shadow,v=Fr(c._icon),E=c._map.layerPointToLatLng(v);f&&De(f,v),c._latlng=E,o.latlng=E,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),xh=ht.extend({options:{icon:new ec,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){b(this,c),this._latlng=Se(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=Se(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=o.icon.createIcon(this._icon),v=!1;f!==this._icon&&(this._icon&&this._removeIcon(),v=!0,o.title&&(f.title=o.title),f.tagName==="IMG"&&(f.alt=o.alt||"")),Fe(f,c),o.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(f,"focus",this._panOnFocus,this);var E=o.icon.createShadow(this._shadow),O=!1;E!==this._shadow&&(this._removeShadow(),O=!0),E&&(Fe(E,c),E.alt=""),this._shadow=E,o.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&O&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),Re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Re(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&De(this._icon,o),this._shadow&&De(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),i2)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new i2(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Nt(this._icon,o),this._shadow&&Nt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,f=c.iconSize?J(c.iconSize):J(0,0),v=c.iconAnchor?J(c.iconAnchor):J(0,0);o.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:f.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function SR(o,c){return new xh(o,c)}var so=ht.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return b(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ph=so.extend({options:{fill:!0,radius:10},initialize:function(o,c){b(this,c),this._latlng=Se(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=Se(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return so.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,f=this._clickTolerance(),v=[o+f,c+f];this._pxBounds=new we(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function CR(o,c){return new Ph(o,c)}var Lg=Ph.extend({initialize:function(o,c,f){if(typeof c=="number"&&(c=i({},f,{radius:c})),b(this,c),this._latlng=Se(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:so.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,f=this._map,v=f.options.crs;if(v.distance===en.distance){var E=Math.PI/180,O=this._mRadius/en.R/E,z=f.project([c+O,o]),q=f.project([c-O,o]),Q=z.add(q).divideBy(2),ne=f.unproject(Q).lat,he=Math.acos((Math.cos(O*E)-Math.sin(c*E)*Math.sin(ne*E))/(Math.cos(c*E)*Math.cos(ne*E)))/E;(isNaN(he)||he===0)&&(he=O/Math.cos(Math.PI/180*c)),this._point=Q.subtract(f.getPixelOrigin()),this._radius=isNaN(he)?0:Q.x-f.project([ne,o-he]).x,this._radiusY=Q.y-z.y}else{var Oe=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Oe).x}this._updateBounds()}});function IR(o,c,f){return new Lg(o,c,f)}var ds=so.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){b(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,f=null,v=Ur,E,O,z=0,q=this._parts.length;z<q;z++)for(var Q=this._parts[z],ne=1,he=Q.length;ne<he;ne++){E=Q[ne-1],O=Q[ne];var Oe=v(o,E,O,!0);Oe<c&&(c=Oe,f=v(o,E,O))}return f&&(f.distance=Math.sqrt(c)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return I(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=Se(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new be,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return h(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],f=h(o),v=0,E=o.length;v<E;v++)f?(c[v]=Se(o[v]),this._bounds.extend(c[v])):c[v]=this._convertLatLngs(o[v]);return c},_project:function(){var o=new we;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new K(o,o);this._rawPxBounds&&(this._pxBounds=new we([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,f){var v=o[0]instanceof Ae,E=o.length,O,z;if(v){for(z=[],O=0;O<E;O++)z[O]=this._map.latLngToLayerPoint(o[O]),f.extend(z[O]);c.push(z)}else for(O=0;O<E;O++)this._projectLatlngs(o[O],c,f)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,f,v,E,O,z,q,Q;for(f=0,E=0,O=this._rings.length;f<O;f++)for(Q=this._rings[f],v=0,z=Q.length;v<z-1;v++)q=ua(Q[v],Q[v+1],o,v,!0),q&&(c[E]=c[E]||[],c[E].push(q[0]),(q[1]!==Q[v+1]||v===z-2)&&(c[E].push(q[1]),E++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,f=0,v=o.length;f<v;f++)o[f]=Yu(o[f],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var f,v,E,O,z,q,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(f=0,O=this._parts.length;f<O;f++)for(q=this._parts[f],v=0,z=q.length,E=z-1;v<z;E=v++)if(!(!c&&v===0)&&Xu(o,q[E],q[v])<=Q)return!0;return!1}});function bR(o,c){return new ds(o,c)}ds._flat=y;var _l=ds.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=ds.prototype._convertLatLngs.call(this,o),f=c.length;return f>=2&&c[0]instanceof Ae&&c[0].equals(c[f-1])&&c.pop(),c},_setLatLngs:function(o){ds.prototype._setLatLngs.call(this,o),h(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return h(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,f=new K(c,c);if(o=new we(o.min.subtract(f),o.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,E=this._rings.length,O;v<E;v++)O=hl(this._rings[v],o,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,f,v,E,O,z,q,Q,ne;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(O=0,Q=this._parts.length;O<Q;O++)for(f=this._parts[O],z=0,ne=f.length,q=ne-1;z<ne;q=z++)v=f[z],E=f[q],v.y>o.y!=E.y>o.y&&o.x<(E.x-v.x)*(o.y-v.y)/(E.y-v.y)+v.x&&(c=!c);return c||ds.prototype._containsPoint.call(this,o,!0)}});function xR(o,c){return new _l(o,c)}var hs=Bt.extend({initialize:function(o,c){b(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=P(o)?o:o.features,f,v,E;if(c){for(f=0,v=c.length;f<v;f++)E=c[f],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var O=this.options;if(O.filter&&!O.filter(o))return this;var z=Ah(o,O);return z?(z.feature=Lh(o),z.defaultOptions=z.options,this.resetStyle(z),O.onEachFeature&&O.onEachFeature(o,z),this.addLayer(z)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function Ah(o,c){var f=o.type==="Feature"?o.geometry:o,v=f?f.coordinates:null,E=[],O=c&&c.pointToLayer,z=c&&c.coordsToLatLng||Og,q,Q,ne,he;if(!v&&!f)return null;switch(f.type){case"Point":return q=z(v),s2(O,o,q,c);case"MultiPoint":for(ne=0,he=v.length;ne<he;ne++)q=z(v[ne]),E.push(s2(O,o,q,c));return new Bt(E);case"LineString":case"MultiLineString":return Q=Rh(v,f.type==="LineString"?0:1,z),new ds(Q,c);case"Polygon":case"MultiPolygon":return Q=Rh(v,f.type==="Polygon"?1:2,z),new _l(Q,c);case"GeometryCollection":for(ne=0,he=f.geometries.length;ne<he;ne++){var Oe=Ah({geometry:f.geometries[ne],type:"Feature",properties:o.properties},c);Oe&&E.push(Oe)}return new Bt(E);case"FeatureCollection":for(ne=0,he=f.features.length;ne<he;ne++){var He=Ah(f.features[ne],c);He&&E.push(He)}return new Bt(E);default:throw new Error("Invalid GeoJSON object.")}}function s2(o,c,f,v){return o?o(c,f):new xh(f,v&&v.markersInheritOptions&&v)}function Og(o){return new Ae(o[1],o[0],o[2])}function Rh(o,c,f){for(var v=[],E=0,O=o.length,z;E<O;E++)z=c?Rh(o[E],c-1,f):(f||Og)(o[E]),v.push(z);return v}function Ng(o,c){return o=Se(o),o.alt!==void 0?[g(o.lng,c),g(o.lat,c),g(o.alt,c)]:[g(o.lng,c),g(o.lat,c)]}function kh(o,c,f,v){for(var E=[],O=0,z=o.length;O<z;O++)E.push(c?kh(o[O],h(o[O])?0:c-1,f,v):Ng(o[O],v));return!c&&f&&E.length>0&&E.push(E[0].slice()),E}function yl(o,c){return o.feature?i({},o.feature,{geometry:c}):Lh(c)}function Lh(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Dg={toGeoJSON:function(o){return yl(this,{type:"Point",coordinates:Ng(this.getLatLng(),o)})}};xh.include(Dg),Lg.include(Dg),Ph.include(Dg),ds.include({toGeoJSON:function(o){var c=!h(this._latlngs),f=kh(this._latlngs,c?1:0,!1,o);return yl(this,{type:(c?"Multi":"")+"LineString",coordinates:f})}}),_l.include({toGeoJSON:function(o){var c=!h(this._latlngs),f=c&&!h(this._latlngs[0]),v=kh(this._latlngs,f?2:c?1:0,!0,o);return c||(v=[v]),yl(this,{type:(f?"Multi":"")+"Polygon",coordinates:v})}}),xt.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(f){c.push(f.toGeoJSON(o).geometry.coordinates)}),yl(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var f=c==="GeometryCollection",v=[];return this.eachLayer(function(E){if(E.toGeoJSON){var O=E.toGeoJSON(o);if(f)v.push(O.geometry);else{var z=Lh(O);z.type==="FeatureCollection"?v.push.apply(v,z.features):v.push(z)}}}),f?yl(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function o2(o,c){return new hs(o,c)}var PR=o2,Oh=ht.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,f){this._url=o,this._bounds=je(c),b(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&rt(this._image),this},bringToBack:function(){return this._map&&an(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=je(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:ue("img");if(Fe(c,"leaflet-image-layer"),this._zoomAnimated&&Fe(c,"leaflet-zoom-animated"),this.options.className&&Fe(c,this.options.className),c.onselectstart=m,c.onmousemove=m,c.onload=a(this.fire,this,"load"),c.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Pi(this._image,f,c)},_reset:function(){var o=this._image,c=new we(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=c.getSize();De(o,c.min),o.style.width=f.x+"px",o.style.height=f.y+"px"},_updateOpacity:function(){Nt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),AR=function(o,c,f){return new Oh(o,c,f)},a2=Oh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:ue("video");if(Fe(c,"leaflet-image-layer"),this._zoomAnimated&&Fe(c,"leaflet-zoom-animated"),this.options.className&&Fe(c,this.options.className),c.onselectstart=m,c.onmousemove=m,c.onloadeddata=a(this.fire,this,"load"),o){for(var f=c.getElementsByTagName("source"),v=[],E=0;E<f.length;E++)v.push(f[E].src);this._url=f.length>0?v:[c.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var z=ue("source");z.src=this._url[O],c.appendChild(z)}}});function RR(o,c,f){return new a2(o,c,f)}var l2=Oh.extend({_initImage:function(){var o=this._image=this._url;Fe(o,"leaflet-image-layer"),this._zoomAnimated&&Fe(o,"leaflet-zoom-animated"),this.options.className&&Fe(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function kR(o,c,f){return new l2(o,c,f)}var ki=ht.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof Ae||P(o))?(this._latlng=Se(o),b(this,c)):(b(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Nt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Nt(this._container,1),this.bringToFront(),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Nt(this._container,0),this._removeTimeout=setTimeout(a(Re,void 0,this._container),200)):Re(this._container),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Se(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rt(this._container),this},bringToBack:function(){return this._map&&an(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Bt){c=null;var f=this._source._layers;for(var v in f)if(f[v]._map){c=f[v];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=J(this.options.offset),f=this._getAnchor();this._zoomAnimated?De(this._container,o.add(f)):c=c.add(o).add(f);var v=this._containerBottom=-c.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=v+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Ge.include({_initOverlay:function(o,c,f,v){var E=c;return E instanceof o||(E=new o(v).setContent(c)),f&&E.setLatLng(f),E}}),ht.include({_initOverlay:function(o,c,f,v){var E=f;return E instanceof o?(b(E,v),E._source=this):(E=c&&!v?c:new o(v,this),E.setContent(f)),E}});var Nh=ki.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ki.prototype.openOn.call(this,o)},onAdd:function(o){ki.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof so||this._source.on("preclick",Br))},onRemove:function(o){ki.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof so||this._source.off("preclick",Br))},getEvents:function(){var o=ki.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=ue("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ue("div",o+"-content-wrapper",c);if(this._contentNode=ue("div",o+"-content",f),no(c),to(this._contentNode),Le(c,"contextmenu",Br),this._tipContainer=ue("div",o+"-tip-container",c),this._tip=ue("div",o+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=ue("a",o+"-close-button",c);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Le(v,"click",function(E){bt(E),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var f=o.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),c.width=f+1+"px",c.whiteSpace="",c.height="";var v=o.offsetHeight,E=this.options.maxHeight,O="leaflet-popup-scrolled";E&&v>E?(c.height=E+"px",Fe(o,O)):St(o,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),f=this._getAnchor();De(this._container,c.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(gr(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+c,v=this._containerWidth,E=new K(this._containerLeft,-f-this._containerBottom);E._add(Fr(this._container));var O=o.layerPointToContainerPoint(E),z=J(this.options.autoPanPadding),q=J(this.options.autoPanPaddingTopLeft||z),Q=J(this.options.autoPanPaddingBottomRight||z),ne=o.getSize(),he=0,Oe=0;O.x+v+Q.x>ne.x&&(he=O.x+v-ne.x+Q.x),O.x-he-q.x<0&&(he=O.x-q.x),O.y+f+Q.y>ne.y&&(Oe=O.y+f-ne.y+Q.y),O.y-Oe-q.y<0&&(Oe=O.y-q.y),(he||Oe)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([he,Oe]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),LR=function(o,c){return new Nh(o,c)};Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(o,c,f){return this._initOverlay(Nh,o,c,f).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),ht.include({bindPopup:function(o,c){return this._popup=this._initOverlay(Nh,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Bt||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){_r(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof so)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Dh=ki.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ki.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ki.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ki.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,f,v=this._map,E=this._container,O=v.latLngToContainerPoint(v.getCenter()),z=v.layerPointToContainerPoint(o),q=this.options.direction,Q=E.offsetWidth,ne=E.offsetHeight,he=J(this.options.offset),Oe=this._getAnchor();q==="top"?(c=Q/2,f=ne):q==="bottom"?(c=Q/2,f=0):q==="center"?(c=Q/2,f=ne/2):q==="right"?(c=0,f=ne/2):q==="left"?(c=Q,f=ne/2):z.x<O.x?(q="right",c=0,f=ne/2):(q="left",c=Q+(he.x+Oe.x)*2,f=ne/2),o=o.subtract(J(c,f,!0)).add(he).add(Oe),St(E,"leaflet-tooltip-right"),St(E,"leaflet-tooltip-left"),St(E,"leaflet-tooltip-top"),St(E,"leaflet-tooltip-bottom"),Fe(E,"leaflet-tooltip-"+q),De(E,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Nt(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),OR=function(o,c){return new Dh(o,c)};Ge.include({openTooltip:function(o,c,f){return this._initOverlay(Dh,o,c,f).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),ht.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Dh,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[c](f),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Bt||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(Le(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Le(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,f,v;this._tooltip.options.sticky&&o.originalEvent&&(f=this._map.mouseEventToContainerPoint(o.originalEvent),v=this._map.containerPointToLayerPoint(f),c=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(c)}});var u2=Ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),f=this.options;if(f.html instanceof Element?($t(c),c.appendChild(f.html)):c.innerHTML=f.html!==!1?f.html:"",f.bgPos){var v=J(f.bgPos);c.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function NR(o){return new u2(o)}Ri.Default=ec;var tc=ht.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){b(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Re(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(an(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof K?o:new K(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,f=-o(-1/0,1/0),v=0,E=c.length,O;v<E;v++)O=c[v].style.zIndex,c[v]!==this._container&&O&&(f=o(f,+O));isFinite(f)&&(this.options.zIndex=f+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$.ielt9){Nt(this._container,this.options.opacity);var o=+new Date,c=!1,f=!1;for(var v in this._tiles){var E=this._tiles[v];if(!(!E.current||!E.loaded)){var O=Math.min(1,(o-E.loaded)/200);Nt(E.el,O),O<1?c=!0:(E.active?f=!0:this._onOpaqueTile(E),E.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),c&&(B(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===o?(this._levels[f].el.style.zIndex=c-Math.abs(o-f),this._onUpdateLevel(f)):(Re(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var v=this._levels[o],E=this._map;return v||(v=this._levels[o]={},v.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=c,v.origin=E.project(E.unproject(E.getPixelOrigin()),o).round(),v.zoom=o,this._setZoomTransform(v,E.getCenter(),E.getZoom()),m(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,c,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var v=c.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Re(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,f,v){var E=Math.floor(o/2),O=Math.floor(c/2),z=f-1,q=new K(+E,+O);q.z=+z;var Q=this._tileCoordsToKey(q),ne=this._tiles[Q];return ne&&ne.active?(ne.retain=!0,!0):(ne&&ne.loaded&&(ne.retain=!0),z>v?this._retainParent(E,O,z,v):!1)},_retainChildren:function(o,c,f,v){for(var E=2*o;E<2*o+2;E++)for(var O=2*c;O<2*c+2;O++){var z=new K(E,O);z.z=f+1;var q=this._tileCoordsToKey(z),Q=this._tiles[q];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);f+1<v&&this._retainChildren(E,O,f+1,v)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,f,v){var E=Math.round(c);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var O=this.options.updateWhenZooming&&E!==this._tileZoom;(!v||O)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(o),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var f in this._levels)this._setZoomTransform(this._levels[f],o,c)},_setZoomTransform:function(o,c,f){var v=this._map.getZoomScale(f,o.zoom),E=o.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(c,f)).round();$.any3d?Pi(o.el,E,v):De(o.el,E)},_resetGrid:function(){var o=this._map,c=o.options.crs,f=this._tileSize=this.getTileSize(),v=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],v).x/f.x),Math.ceil(o.project([0,c.wrapLng[1]],v).x/f.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],v).y/f.x),Math.ceil(o.project([c.wrapLat[1],0],v).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,f=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),v=c.getZoomScale(f,this._tileZoom),E=c.project(o,this._tileZoom).floor(),O=c.getSize().divideBy(v*2);return new we(E.subtract(O),E.add(O))},_update:function(o){var c=this._map;if(c){var f=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(o),E=this._pxBoundsToTileRange(v),O=E.getCenter(),z=[],q=this.options.keepBuffer,Q=new we(E.getBottomLeft().subtract([q,-q]),E.getTopRight().add([q,-q]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ne in this._tiles){var he=this._tiles[ne].coords;(he.z!==this._tileZoom||!Q.contains(new K(he.x,he.y)))&&(this._tiles[ne].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(o,f);return}for(var Oe=E.min.y;Oe<=E.max.y;Oe++)for(var He=E.min.x;He<=E.max.x;He++){var Fn=new K(He,Oe);if(Fn.z=this._tileZoom,!!this._isValidTile(Fn)){var un=this._tiles[this._tileCoordsToKey(Fn)];un?un.current=!0:z.push(Fn)}}if(z.sort(function(nr,El){return nr.distanceTo(O)-El.distanceTo(O)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zr=document.createDocumentFragment();for(He=0;He<z.length;He++)this._addTile(z[He],zr);this._level.el.appendChild(zr)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var f=this._globalTileRange;if(!c.wrapLng&&(o.x<f.min.x||o.x>f.max.x)||!c.wrapLat&&(o.y<f.min.y||o.y>f.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(o);return je(this.options.bounds).overlaps(v)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,f=this.getTileSize(),v=o.scaleBy(f),E=v.add(f),O=c.unproject(v,o.z),z=c.unproject(E,o.z);return[O,z]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),f=new be(c[0],c[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),f=new K(+c[0],+c[1]);return f.z=+c[2],f},_removeTile:function(o){var c=this._tiles[o];c&&(Re(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Fe(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=m,o.onmousemove=m,$.ielt9&&this.options.opacity<1&&Nt(o,this.options.opacity)},_addTile:function(o,c){var f=this._getTilePos(o),v=this._tileCoordsToKey(o),E=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(E),this.createTile.length<2&&V(a(this._tileReady,this,o,null,E)),De(E,f),this._tiles[v]={el:E,coords:o,current:!0},c.appendChild(E),this.fire("tileloadstart",{tile:E,coords:o})},_tileReady:function(o,c,f){c&&this.fire("tileerror",{error:c,tile:f,coords:o});var v=this._tileCoordsToKey(o);f=this._tiles[v],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Nt(f.el,0),B(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),c||(Fe(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new K(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new we(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function DR(o){return new tc(o)}var wl=tc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=b(this,c),c.detectRetina&&$.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var f=document.createElement("img");return Le(f,"load",a(this._tileOnLoad,this,c,f)),Le(f,"error",a(this._tileOnError,this,c,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(o),f},getTileUrl:function(o){var c={r:$.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=f),c["-y"]=f}return T(this._url,i(c,this.options))},_tileOnLoad:function(o,c){$.ielt9?setTimeout(a(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,f){var v=this.options.errorTileUrl;v&&c.getAttribute("src")!==v&&(c.src=v),o(f,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,f=this.options.zoomReverse,v=this.options.zoomOffset;return f&&(o=c-o),o+v},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=m,c.onerror=m,!c.complete)){c.src=U;var f=this._tiles[o].coords;Re(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:f})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",U),tc.prototype._removeTile.call(this,o)},_tileReady:function(o,c,f){if(!(!this._map||f&&f.getAttribute("src")===U))return tc.prototype._tileReady.call(this,o,c,f)}});function c2(o,c){return new wl(o,c)}var d2=wl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var f=i({},this.defaultWmsParams);for(var v in c)v in this.options||(f[v]=c[v]);c=b(this,c);var E=c.detectRetina&&$.retina?2:1,O=this.getTileSize();f.width=O.x*E,f.height=O.y*E,this.wmsParams=f},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,wl.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),f=this._crs,v=ge(f.project(c[0]),f.project(c[1])),E=v.min,O=v.max,z=(this._wmsVersion>=1.3&&this._crs===qt?[E.y,E.x,O.y,O.x]:[E.x,E.y,O.x,O.y]).join(","),q=wl.prototype.getTileUrl.call(this,o);return q+k(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(o,c){return i(this.wmsParams,o),c||this.redraw(),this}});function MR(o,c){return new d2(o,c)}wl.WMS=d2,c2.wms=MR;var fs=ht.extend({options:{padding:.1},initialize:function(o){b(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var f=this._map.getZoomScale(c,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,c),O=v.multiplyBy(-f).add(E).subtract(this._map._getNewPixelOrigin(o,c));$.any3d?Pi(this._container,O,f):De(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),f=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new we(f,f.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),h2=fs.extend({options:{tolerance:0},getEvents:function(){var o=fs.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Le(o,"mousemove",this._onMouseMove,this),Le(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Le(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Re(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fs.prototype._update.call(this);var o=this._bounds,c=this._container,f=o.getSize(),v=$.retina?2:1;De(c,o.min),c.width=v*f.x,c.height=v*f.y,c.style.width=f.x+"px",c.style.height=f.y+"px",$.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){fs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,f=c.next,v=c.prev;f?f.prev=v:this._drawLast=v,v?v.next=f:this._drawFirst=f,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),f=[],v,E;for(E=0;E<c.length;E++){if(v=Number(c[E]),isNaN(v))return;f.push(v)}o.options._dashArray=f}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new we,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var f=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)o=v.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var f,v,E,O,z=o._parts,q=z.length,Q=this._ctx;if(q){for(Q.beginPath(),f=0;f<q;f++){for(v=0,E=z[f].length;v<E;v++)O=z[f][v],Q[v?"lineTo":"moveTo"](O.x,O.y);c&&Q.closePath()}this._fillStroke(Q,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,f=this._ctx,v=Math.max(Math.round(o._radius),1),E=(Math.max(Math.round(o._radiusY),1)||v)/v;E!==1&&(f.save(),f.scale(1,E)),f.beginPath(),f.arc(c.x,c.y/E,v,0,Math.PI*2,!1),E!==1&&f.restore(),this._fillStroke(f,o)}},_fillStroke:function(o,c){var f=c.options;f.fill&&(o.globalAlpha=f.fillOpacity,o.fillStyle=f.fillColor||f.color,o.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=f.opacity,o.lineWidth=f.weight,o.strokeStyle=f.color,o.lineCap=f.lineCap,o.lineJoin=f.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),f,v,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(f))&&(v=f);this._fireEvent(v?[v]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(St(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var f,v,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(c)&&(v=f);v!==this._hoveredLayer&&(this._handleMouseOut(o),v&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([v],o,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,f){this._map._fireDOMEvent(c,f||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var f=c.next,v=c.prev;if(f)f.prev=v;else return;v?v.next=f:f&&(this._drawFirst=f),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var f=c.next,v=c.prev;if(v)v.next=f;else return;f?f.prev=v:v&&(this._drawLast=v),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function f2(o){return $.canvas?new h2(o):null}var nc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),jR={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fs.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=nc("shape");Fe(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=nc("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;Re(c),o.removeInteractiveTarget(c),delete this._layers[u(o)]},_updateStyle:function(o){var c=o._stroke,f=o._fill,v=o.options,E=o._container;E.stroked=!!v.stroke,E.filled=!!v.fill,v.stroke?(c||(c=o._stroke=nc("stroke")),E.appendChild(c),c.weight=v.weight+"px",c.color=v.color,c.opacity=v.opacity,v.dashArray?c.dashStyle=P(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=v.lineCap.replace("butt","flat"),c.joinstyle=v.lineJoin):c&&(E.removeChild(c),o._stroke=null),v.fill?(f||(f=o._fill=nc("fill")),E.appendChild(f),f.color=v.fillColor||v.color,f.opacity=v.fillOpacity):f&&(E.removeChild(f),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),f=Math.round(o._radius),v=Math.round(o._radiusY||f);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+f+","+v+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){rt(o._container)},_bringToBack:function(o){an(o._container)}},Mh=$.vml?nc:pr,rc=fs.extend({_initContainer:function(){this._container=Mh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Re(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fs.prototype._update.call(this);var o=this._bounds,c=o.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,f.setAttribute("width",c.x),f.setAttribute("height",c.y)),De(f,o.min),f.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=Mh("path");o.options.className&&Fe(c,o.options.className),o.options.interactive&&Fe(c,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Re(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,f=o.options;c&&(f.stroke?(c.setAttribute("stroke",f.color),c.setAttribute("stroke-opacity",f.opacity),c.setAttribute("stroke-width",f.weight),c.setAttribute("stroke-linecap",f.lineCap),c.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?c.setAttribute("stroke-dasharray",f.dashArray):c.removeAttribute("stroke-dasharray"),f.dashOffset?c.setAttribute("stroke-dashoffset",f.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),f.fill?(c.setAttribute("fill",f.fillColor||f.color),c.setAttribute("fill-opacity",f.fillOpacity),c.setAttribute("fill-rule",f.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,Hs(o._parts,c))},_updateCircle:function(o){var c=o._point,f=Math.max(Math.round(o._radius),1),v=Math.max(Math.round(o._radiusY),1)||f,E="a"+f+","+v+" 0 1,0 ",O=o._empty()?"M0 0":"M"+(c.x-f)+","+c.y+E+f*2+",0 "+E+-f*2+",0 ";this._setPath(o,O)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){rt(o._path)},_bringToBack:function(o){an(o._path)}});$.vml&&rc.include(jR);function p2(o){return $.svg||$.vml?new rc(o):null}Ge.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&f2(o)||p2(o)}});var m2=_l.extend({initialize:function(o,c){_l.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=je(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function FR(o,c){return new m2(o,c)}rc.create=Mh,rc.pointsToPath=Hs,hs.geometryToLayer=Ah,hs.coordsToLatLng=Og,hs.coordsToLatLngs=Rh,hs.latLngToCoords=Ng,hs.latLngsToCoords=kh,hs.getFeature=yl,hs.asFeature=Lh,Ge.mergeOptions({boxZoom:!0});var g2=yr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ei(),$u(),this._startPoint=this._map.mouseEventToContainerPoint(o),Le(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),Fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new we(this._point,this._startPoint),f=c.getSize();De(this._box,c.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Re(this._box),St(this._container,"leaflet-crosshair")),ti(),Bu(),dt(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var c=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ge.addInitHook("addHandler","boxZoom",g2),Ge.mergeOptions({doubleClickZoom:!0});var v2=yr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,f=c.getZoom(),v=c.options.zoomDelta,E=o.originalEvent.shiftKey?f-v:f+v;c.options.doubleClickZoom==="center"?c.setZoom(E):c.setZoomAround(o.containerPoint,E)}});Ge.addInitHook("addHandler","doubleClickZoom",v2),Ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _2=yr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new ni(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){St(this._map._container,"leaflet-grab"),St(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=je(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),f=this._initialWorldOffset,v=this._draggable._newPos.x,E=(v-c+f)%o+c-f,O=(v+c+f)%o-c-f,z=Math.abs(E+f)<Math.abs(O+f)?E:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(o){var c=this._map,f=c.options,v=!f.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),v)c.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,z=f.easeLinearity,q=E.multiplyBy(z/O),Q=q.distanceTo([0,0]),ne=Math.min(f.inertiaMaxSpeed,Q),he=q.multiplyBy(ne/Q),Oe=ne/(f.inertiaDeceleration*z),He=he.multiplyBy(-Oe/2).round();!He.x&&!He.y?c.fire("moveend"):(He=c._limitOffset(He,c.options.maxBounds),V(function(){c.panBy(He,{duration:Oe,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Ge.addInitHook("addHandler","dragging",_2),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var y2=yr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Le(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,f=o.scrollTop||c.scrollTop,v=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(v,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},f=this.keyCodes,v,E;for(v=0,E=f.left.length;v<E;v++)c[f.left[v]]=[-1*o,0];for(v=0,E=f.right.length;v<E;v++)c[f.right[v]]=[o,0];for(v=0,E=f.down.length;v<E;v++)c[f.down[v]]=[0,o];for(v=0,E=f.up.length;v<E;v++)c[f.up[v]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},f=this.keyCodes,v,E;for(v=0,E=f.zoomIn.length;v<E;v++)c[f.zoomIn[v]]=o;for(v=0,E=f.zoomOut.length;v<E;v++)c[f.zoomOut[v]]=-o},_addHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,f=this._map,v;if(c in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(v=this._panKeys[c],o.shiftKey&&(v=J(v).multiplyBy(3)),f.options.maxBounds&&(v=f._limitOffset(J(v),f.options.maxBounds)),f.options.worldCopyJump){var E=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(v)));f.panTo(E)}else f.panBy(v)}else if(c in this._zoomKeys)f.setZoom(f.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;_r(o)}}});Ge.addInitHook("addHandler","keyboard",y2),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var w2=yr.extend({addHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=wh(o),f=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var v=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),v),_r(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),f=this._map.options.zoomSnap||0;o._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,O=f?Math.ceil(E/f)*f:E,z=o._limitZoom(c+(this._delta>0?O:-O))-c;this._delta=0,this._startTime=null,z&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+z):o.setZoomAround(this._lastMousePos,c+z))}});Ge.addInitHook("addHandler","scrollWheelZoom",w2);var VR=600;Ge.mergeOptions({tapHold:$.touchNative&&$.safari&&$.mobile,tapTolerance:15});var E2=yr.extend({addHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new K(c.clientX,c.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Le(document,"touchend",bt),Le(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),VR),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){dt(document,"touchend",bt),dt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new K(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var f=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});f._simulated=!0,c.target.dispatchEvent(f)}});Ge.addInitHook("addHandler","tapHold",E2),Ge.mergeOptions({touchZoom:$.touch,bounceAtZoomLimits:!0});var T2=yr.extend({addHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){St(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var f=c.mouseEventToContainerPoint(o.touches[0]),v=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(f.add(v)._divideBy(2))),this._startDist=f.distanceTo(v),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),bt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,f=c.mouseEventToContainerPoint(o.touches[0]),v=c.mouseEventToContainerPoint(o.touches[1]),E=f.distanceTo(v)/this._startDist;if(this._zoom=c.getScaleZoom(E,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&E<1||this._zoom>c.getMaxZoom()&&E>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var O=f._add(v)._divideBy(2)._subtract(this._centerPoint);if(E===1&&O.x===0&&O.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var z=a(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(z,this,!0),bt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ge.addInitHook("addHandler","touchZoom",T2),Ge.BoxZoom=g2,Ge.DoubleClickZoom=v2,Ge.Drag=_2,Ge.Keyboard=y2,Ge.ScrollWheelZoom=w2,Ge.TapHold=E2,Ge.TouchZoom=T2,n.Bounds=we,n.Browser=$,n.CRS=nt,n.Canvas=h2,n.Circle=Lg,n.CircleMarker=Ph,n.Class=re,n.Control=tr,n.DivIcon=u2,n.DivOverlay=ki,n.DomEvent=Eh,n.DomUtil=_h,n.Draggable=ni,n.Evented=Be,n.FeatureGroup=Bt,n.GeoJSON=hs,n.GridLayer=tc,n.Handler=yr,n.Icon=Ri,n.ImageOverlay=Oh,n.LatLng=Ae,n.LatLngBounds=be,n.Layer=ht,n.LayerGroup=xt,n.LineUtil=F,n.Map=Ge,n.Marker=xh,n.Mixin=la,n.Path=so,n.Point=K,n.PolyUtil=ml,n.Polygon=_l,n.Polyline=ds,n.Popup=Nh,n.PosAnimation=Ku,n.Projection=le,n.Rectangle=m2,n.Renderer=fs,n.SVG=rc,n.SVGOverlay=l2,n.TileLayer=wl,n.Tooltip=Dh,n.Transformation=Dr,n.Util=D,n.VideoOverlay=a2,n.bind=a,n.bounds=ge,n.canvas=f2,n.circle=IR,n.circleMarker=CR,n.control=jn,n.divIcon=NR,n.extend=i,n.featureGroup=vl,n.geoJSON=o2,n.geoJson=PR,n.gridLayer=DR,n.icon=TR,n.imageOverlay=AR,n.latLng=Se,n.latLngBounds=je,n.layerGroup=io,n.map=ul,n.marker=SR,n.point=J,n.polygon=xR,n.polyline=bR,n.popup=LR,n.rectangle=FR,n.setOptions=b,n.stamp=u,n.svg=p2,n.svgOverlay=kR,n.tileLayer=c2,n.tooltip=OR,n.transformation=Jr,n.version=r,n.videoOverlay=RR;var $R=window.L;n.noConflict=function(){return window.L=$R,this},window.L=n})})(o0,o0.exports);var mh=o0.exports;const $X=Ht(mh);function Qw(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Yw(t,e){return e==null?function(r,i){const s=M.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=M.useRef();s.current||(s.current=t(r,i));const a=M.useRef(r),{instance:l}=s.current;return M.useEffect(function(){a.current!==r&&(e(l,r,a.current),a.current=r)},[l,r,i]),s}}function BX(t,e){M.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function HA(t){return function(n){const r=Kw(),i=t(Zw(n,r),r);return $A(r.map,n.attribution),zA(i.current,n.eventHandlers),BX(i.current,r),i}}function UX(t,e){const n=Yw(t,e),r=HA(n);return MX(r)}function zX(t,e){const n=Yw(t),r=VX(n,e);return jX(r)}function HX(t,e){const n=Yw(t,e),r=HA(n);return FX(r)}function WX(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function GX(){return Kw().map}function a0(){return a0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(this,arguments)}function qX({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:a,style:l,whenReady:u,zoom:d,...p},m){const[g]=M.useState({className:i,id:s,style:l}),[_,C]=M.useState(null);M.useImperativeHandle(m,()=>(_==null?void 0:_.map)??null,[_]);const b=M.useCallback(x=>{if(x!==null&&_===null){const T=new mh.Map(x,p);n!=null&&d!=null?T.setView(n,d):t!=null&&T.fitBounds(t,e),u!=null&&T.whenReady(u),C(NX(T))}},[]);M.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const k=_?ke.createElement(UA,{value:_},r):a??null;return ke.createElement("div",a0({},g,{ref:b}),k)}const KX=M.forwardRef(qX),ZX=UX(function({position:e,...n},r){const i=new mh.Marker(e,n);return Qw(i,DX(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),QX=zX(function(e,n){const r=new mh.Popup(e,n.overlayContainer);return Qw(r,n)},function(e,n,{position:r},i){M.useEffect(function(){const{instance:a}=e;function l(d){d.popup===a&&(a.update(),i(!0))}function u(d){d.popup===a&&i(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var p;n.map.off({popupopen:l,popupclose:u}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),YX=HX(function({url:e,...n},r){const i=new mh.TileLayer(e,Zw(n,r));return Qw(i,r)},function(e,n,r){WX(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),XX=({lat:t,lng:e})=>{const n=GX();return M.useEffect(()=>{n.setView([t,e])},[t,e,n]),null},JX=new $X.Icon({iconUrl:"https://png.pngtree.com/png-clipart/20230815/original/pngtree-map-red-pointer-icon-marker-vector-isolated-on-white-background-eps-10-picture-image_7977947.png",iconSize:[40,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),WA=({lat:t,lng:e,location:n})=>w.jsxs(KX,{center:[t,e],zoom:13,style:{height:"300px",width:"100%"},children:[w.jsx(YX,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),w.jsx(ZX,{position:[t,e],icon:JX,children:w.jsx(QX,{children:n})}),w.jsx(XX,{lat:t,lng:e})]});function GA(t,e){return function(){return t.apply(e,arguments)}}const{toString:eJ}=Object.prototype,{getPrototypeOf:Xw}=Object,Ig=(t=>e=>{const n=eJ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_i=t=>(t=t.toLowerCase(),e=>Ig(e)===t),bg=t=>e=>typeof e===t,{isArray:Mu}=Array,Rd=bg("undefined");function tJ(t){return t!==null&&!Rd(t)&&t.constructor!==null&&!Rd(t.constructor)&&Pr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qA=_i("ArrayBuffer");function nJ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qA(t.buffer),e}const rJ=bg("string"),Pr=bg("function"),KA=bg("number"),xg=t=>t!==null&&typeof t=="object",iJ=t=>t===!0||t===!1,Kf=t=>{if(Ig(t)!=="object")return!1;const e=Xw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sJ=_i("Date"),oJ=_i("File"),aJ=_i("Blob"),lJ=_i("FileList"),uJ=t=>xg(t)&&Pr(t.pipe),cJ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pr(t.append)&&((e=Ig(t))==="formdata"||e==="object"&&Pr(t.toString)&&t.toString()==="[object FormData]"))},dJ=_i("URLSearchParams"),[hJ,fJ,pJ,mJ]=["ReadableStream","Request","Response","Headers"].map(_i),gJ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Mu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let l;for(r=0;r<a;r++)l=s[r],e.call(null,t[l],l,t)}}function ZA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const wa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QA=t=>!Rd(t)&&t!==wa;function l0(){const{caseless:t}=QA(this)&&this||{},e={},n=(r,i)=>{const s=t&&ZA(e,i)||i;Kf(e[s])&&Kf(r)?e[s]=l0(e[s],r):Kf(r)?e[s]=l0({},r):Mu(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&gh(arguments[r],n);return e}const vJ=(t,e,n,{allOwnKeys:r}={})=>(gh(e,(i,s)=>{n&&Pr(i)?t[s]=GA(i,n):t[s]=i},{allOwnKeys:r}),t),_J=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yJ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},wJ=(t,e,n,r)=>{let i,s,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&Xw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},EJ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},TJ=t=>{if(!t)return null;if(Mu(t))return t;let e=t.length;if(!KA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},SJ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Xw(Uint8Array)),CJ=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},IJ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},bJ=_i("HTMLFormElement"),xJ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),tC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),PJ=_i("RegExp"),YA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};gh(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},AJ=t=>{YA(t,(e,n)=>{if(Pr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Pr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RJ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Mu(t)?r(t):r(String(t).split(e)),n},kJ=()=>{},LJ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,d_="abcdefghijklmnopqrstuvwxyz",nC="0123456789",XA={DIGIT:nC,ALPHA:d_,ALPHA_DIGIT:d_+d_.toUpperCase()+nC},OJ=(t=16,e=XA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function NJ(t){return!!(t&&Pr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const DJ=t=>{const e=new Array(10),n=(r,i)=>{if(xg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Mu(r)?[]:{};return gh(r,(a,l)=>{const u=n(a,i+1);!Rd(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},MJ=_i("AsyncFunction"),jJ=t=>t&&(xg(t)||Pr(t))&&Pr(t.then)&&Pr(t.catch),JA=((t,e)=>t?setImmediate:e?((n,r)=>(wa.addEventListener("message",({source:i,data:s})=>{i===wa&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),wa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pr(wa.postMessage)),FJ=typeof queueMicrotask<"u"?queueMicrotask.bind(wa):typeof process<"u"&&process.nextTick||JA,X={isArray:Mu,isArrayBuffer:qA,isBuffer:tJ,isFormData:cJ,isArrayBufferView:nJ,isString:rJ,isNumber:KA,isBoolean:iJ,isObject:xg,isPlainObject:Kf,isReadableStream:hJ,isRequest:fJ,isResponse:pJ,isHeaders:mJ,isUndefined:Rd,isDate:sJ,isFile:oJ,isBlob:aJ,isRegExp:PJ,isFunction:Pr,isStream:uJ,isURLSearchParams:dJ,isTypedArray:SJ,isFileList:lJ,forEach:gh,merge:l0,extend:vJ,trim:gJ,stripBOM:_J,inherits:yJ,toFlatObject:wJ,kindOf:Ig,kindOfTest:_i,endsWith:EJ,toArray:TJ,forEachEntry:CJ,matchAll:IJ,isHTMLForm:bJ,hasOwnProperty:tC,hasOwnProp:tC,reduceDescriptors:YA,freezeMethods:AJ,toObjectSet:RJ,toCamelCase:xJ,noop:kJ,toFiniteNumber:LJ,findKey:ZA,global:wa,isContextDefined:QA,ALPHABET:XA,generateString:OJ,isSpecCompliantForm:NJ,toJSONObject:DJ,isAsyncFn:MJ,isThenable:jJ,setImmediate:JA,asap:FJ};function Ue(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}X.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const eR=Ue.prototype,tR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tR[t]={value:t}});Object.defineProperties(Ue,tR);Object.defineProperty(eR,"isAxiosError",{value:!0});Ue.from=(t,e,n,r,i,s)=>{const a=Object.create(eR);return X.toFlatObject(t,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Ue.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const VJ=null;function u0(t){return X.isPlainObject(t)||X.isArray(t)}function nR(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function rC(t,e,n){return t?t.concat(e).map(function(i,s){return i=nR(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function $J(t){return X.isArray(t)&&!t.some(u0)}const BJ=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function Pg(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,k){return!X.isUndefined(k[b])});const r=n.metaTokens,i=n.visitor||p,s=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(i))throw new TypeError("visitor must be a function");function d(C){if(C===null)return"";if(X.isDate(C))return C.toISOString();if(!u&&X.isBlob(C))throw new Ue("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(C)||X.isTypedArray(C)?u&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function p(C,b,k){let x=C;if(C&&!k&&typeof C=="object"){if(X.endsWith(b,"{}"))b=r?b:b.slice(0,-2),C=JSON.stringify(C);else if(X.isArray(C)&&$J(C)||(X.isFileList(C)||X.endsWith(b,"[]"))&&(x=X.toArray(C)))return b=nR(b),x.forEach(function(P,j){!(X.isUndefined(P)||P===null)&&e.append(a===!0?rC([b],j,s):a===null?b:b+"[]",d(P))}),!1}return u0(C)?!0:(e.append(rC(k,b,s),d(C)),!1)}const m=[],g=Object.assign(BJ,{defaultVisitor:p,convertValue:d,isVisitable:u0});function _(C,b){if(!X.isUndefined(C)){if(m.indexOf(C)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(C),X.forEach(C,function(x,T){(!(X.isUndefined(x)||x===null)&&i.call(e,x,X.isString(T)?T.trim():T,b,g))===!0&&_(x,b?b.concat(T):[T])}),m.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return _(t),e}function iC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Jw(t,e){this._pairs=[],t&&Pg(t,this,e)}const rR=Jw.prototype;rR.append=function(e,n){this._pairs.push([e,n])};rR.toString=function(e){const n=e?function(r){return e.call(this,r,iC)}:iC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function UJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iR(t,e,n){if(!e)return t;const r=n&&n.encode||UJ,i=n&&n.serialize;let s;if(i?s=i(e,n):s=X.isURLSearchParams(e)?e.toString():new Jw(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class sC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zJ=typeof URLSearchParams<"u"?URLSearchParams:Jw,HJ=typeof FormData<"u"?FormData:null,WJ=typeof Blob<"u"?Blob:null,GJ={isBrowser:!0,classes:{URLSearchParams:zJ,FormData:HJ,Blob:WJ},protocols:["http","https","file","blob","url","data"]},e2=typeof window<"u"&&typeof document<"u",c0=typeof navigator=="object"&&navigator||void 0,qJ=e2&&(!c0||["ReactNative","NativeScript","NS"].indexOf(c0.product)<0),KJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZJ=e2&&window.location.href||"http://localhost",QJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:e2,hasStandardBrowserEnv:qJ,hasStandardBrowserWebWorkerEnv:KJ,navigator:c0,origin:ZJ},Symbol.toStringTag,{value:"Module"})),dr={...QJ,...GJ};function YJ(t,e){return Pg(t,new dr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return dr.isNode&&X.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function XJ(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JJ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function oR(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=s>=n.length;return a=!a&&X.isArray(i)?i.length:a,u?(X.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!X.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&X.isArray(i[a])&&(i[a]=JJ(i[a])),!l)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(r,i)=>{e(XJ(r),i,n,0)}),n}return null}function eee(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const vh={transitional:sR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=X.isObject(e);if(s&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return i?JSON.stringify(oR(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return YJ(e,this.formSerializer).toString();if((l=X.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Pg(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),eee(e)):e}],transformResponse:[function(e){const n=this.transitional||vh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?Ue.from(l,Ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{vh.headers[t]={}});const tee=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nee=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&tee[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},oC=Symbol("internals");function Tc(t){return t&&String(t).trim().toLowerCase()}function Zf(t){return t===!1||t==null?t:X.isArray(t)?t.map(Zf):String(t)}function ree(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const iee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function h_(t,e,n,r,i){if(X.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!X.isString(e)){if(X.isString(r))return e.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(e)}}function see(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function oee(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class hr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,d){const p=Tc(u);if(!p)throw new Error("header name must be a non-empty string");const m=X.findKey(i,p);(!m||i[m]===void 0||d===!0||d===void 0&&i[m]!==!1)&&(i[m||u]=Zf(l))}const a=(l,u)=>X.forEach(l,(d,p)=>s(d,p,u));if(X.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(X.isString(e)&&(e=e.trim())&&!iee(e))a(nee(e),n);else if(X.isHeaders(e))for(const[l,u]of e.entries())s(u,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Tc(e),e){const r=X.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return ree(i);if(X.isFunction(n))return n.call(this,i,r);if(X.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Tc(e),e){const r=X.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||h_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Tc(a),a){const l=X.findKey(r,a);l&&(!n||h_(r,r[l],l,n))&&(delete r[l],i=!0)}}return X.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||h_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return X.forEach(this,(i,s)=>{const a=X.findKey(r,s);if(a){n[a]=Zf(i),delete n[s];return}const l=e?see(s):String(s).trim();l!==s&&delete n[s],n[l]=Zf(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&X.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[oC]=this[oC]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=Tc(a);r[l]||(oee(i,a),r[l]=!0)}return X.isArray(e)?e.forEach(s):s(e),this}}hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(hr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});X.freezeMethods(hr);function f_(t,e){const n=this||vh,r=e||n,i=hr.from(r.headers);let s=r.data;return X.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function aR(t){return!!(t&&t.__CANCEL__)}function ju(t,e,n){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(ju,Ue,{__CANCEL__:!0});function lR(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aee(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lee(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),p=r[s];a||(a=d),n[i]=u,r[i]=d;let m=s,g=0;for(;m!==i;)g+=n[m++],m=m%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-a<e)return;const _=p&&d-p;return _?Math.round(g*1e3/_):void 0}}function uee(t,e){let n=0,r=1e3/e,i,s;const a=(d,p=Date.now())=>{n=p,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const p=Date.now(),m=p-n;m>=r?a(d,p):(i=d,s||(s=setTimeout(()=>{s=null,a(i)},r-m)))},()=>i&&a(i)]}const tm=(t,e,n=3)=>{let r=0;const i=lee(50,250);return uee(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,u=a-r,d=i(u),p=a<=l;r=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&p?(l-a)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},aC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},lC=t=>(...e)=>X.asap(()=>t(...e)),cee=dr.hasStandardBrowserEnv?function(){const e=dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent),n=document.createElement("a");let r;function i(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const l=X.isString(a)?i(a):a;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),dee=dr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),X.isString(r)&&a.push("path="+r),X.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hee(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fee(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uR(t,e){return t&&!hee(e)?fee(t,e):e}const uC=t=>t instanceof hr?{...t}:t;function Ba(t,e){e=e||{};const n={};function r(d,p,m){return X.isPlainObject(d)&&X.isPlainObject(p)?X.merge.call({caseless:m},d,p):X.isPlainObject(p)?X.merge({},p):X.isArray(p)?p.slice():p}function i(d,p,m){if(X.isUndefined(p)){if(!X.isUndefined(d))return r(void 0,d,m)}else return r(d,p,m)}function s(d,p){if(!X.isUndefined(p))return r(void 0,p)}function a(d,p){if(X.isUndefined(p)){if(!X.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function l(d,p,m){if(m in e)return r(d,p);if(m in t)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,p)=>i(uC(d),uC(p),!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(p){const m=u[p]||i,g=m(t[p],e[p],p);X.isUndefined(g)&&m!==l||(n[p]=g)}),n}const cR=t=>{const e=Ba({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=e;e.headers=a=hr.from(a),e.url=iR(uR(e.baseURL,e.url),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(X.isFormData(n)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[d,...p]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...p].join("; "))}}if(dr.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(e)),r||r!==!1&&cee(e.url))){const d=i&&s&&dee.read(s);d&&a.set(i,d)}return e},pee=typeof XMLHttpRequest<"u",mee=pee&&function(t){return new Promise(function(n,r){const i=cR(t);let s=i.data;const a=hr.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,p,m,g,_,C;function b(){_&&_(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function x(){if(!k)return;const P=hr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),U={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:P,config:t,request:k};lR(function(N){n(N),b()},function(N){r(N),b()},U),k=null}"onloadend"in k?k.onloadend=x:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(x)},k.onabort=function(){k&&(r(new Ue("Request aborted",Ue.ECONNABORTED,t,k)),k=null)},k.onerror=function(){r(new Ue("Network Error",Ue.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||sR;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new Ue(j,U.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,k)),k=null},s===void 0&&a.setContentType(null),"setRequestHeader"in k&&X.forEach(a.toJSON(),function(j,U){k.setRequestHeader(U,j)}),X.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),l&&l!=="json"&&(k.responseType=i.responseType),d&&([g,C]=tm(d,!0),k.addEventListener("progress",g)),u&&k.upload&&([m,_]=tm(u),k.upload.addEventListener("progress",m),k.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(p=P=>{k&&(r(!P||P.type?new ju(null,t,k):P),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const T=aee(i.url);if(T&&dr.protocols.indexOf(T)===-1){r(new Ue("Unsupported protocol "+T+":",Ue.ERR_BAD_REQUEST,t));return}k.send(s||null)})},gee=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const p=d instanceof Error?d:this.reason;r.abort(p instanceof Ue?p:new ju(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,s(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>X.asap(l),u}},vee=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},_ee=async function*(t,e){for await(const n of yee(t))yield*vee(n,e)},yee=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},cC=(t,e,n,r)=>{const i=_ee(t,e);let s=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:p}=await i.next();if(d){l(),u.close();return}let m=p.byteLength;if(n){let g=s+=m;n(g)}u.enqueue(new Uint8Array(p))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Ag=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dR=Ag&&typeof ReadableStream=="function",wee=Ag&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Eee=dR&&hR(()=>{let t=!1;const e=new Request(dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),dC=64*1024,d0=dR&&hR(()=>X.isReadableStream(new Response("").body)),nm={stream:d0&&(t=>t.body)};Ag&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!nm[e]&&(nm[e]=X.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ue(`Response type '${e}' is not supported`,Ue.ERR_NOT_SUPPORT,r)})})})(new Response);const Tee=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(dr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await wee(t)).byteLength},See=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??Tee(e)},Cee=Ag&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:p,withCredentials:m="same-origin",fetchOptions:g}=cR(t);d=d?(d+"").toLowerCase():"text";let _=gee([i,s&&s.toAbortSignal()],a),C;const b=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let k;try{if(u&&Eee&&n!=="get"&&n!=="head"&&(k=await See(p,r))!==0){let U=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(X.isFormData(r)&&(H=U.headers.get("content-type"))&&p.setContentType(H),U.body){const[N,S]=aC(k,tm(lC(u)));r=cC(U.body,dC,N,S)}}X.isString(m)||(m=m?"include":"omit");const x="credentials"in Request.prototype;C=new Request(e,{...g,signal:_,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:x?m:void 0});let T=await fetch(C);const P=d0&&(d==="stream"||d==="response");if(d0&&(l||P&&b)){const U={};["status","statusText","headers"].forEach(A=>{U[A]=T[A]});const H=X.toFiniteNumber(T.headers.get("content-length")),[N,S]=l&&aC(H,tm(lC(l),!0))||[];T=new Response(cC(T.body,dC,N,()=>{S&&S(),b&&b()}),U)}d=d||"text";let j=await nm[X.findKey(nm,d)||"text"](T,t);return!P&&b&&b(),await new Promise((U,H)=>{lR(U,H,{data:j,headers:hr.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:C})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,t,C),{cause:x.cause||x}):Ue.from(x,x&&x.code,t,C)}}),h0={http:VJ,xhr:mee,fetch:Cee};X.forEach(h0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hC=t=>`- ${t}`,Iee=t=>X.isFunction(t)||t===null||t===!1,fR={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!Iee(n)&&(r=h0[(a=String(n)).toLowerCase()],r===void 0))throw new Ue(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(hC).join(`
`):" "+hC(s[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:h0};function p_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ju(null,t)}function fC(t){return p_(t),t.headers=hr.from(t.headers),t.data=f_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fR.getAdapter(t.adapter||vh.adapter)(t).then(function(r){return p_(t),r.data=f_.call(t,t.transformResponse,r),r.headers=hr.from(r.headers),r},function(r){return aR(r)||(p_(t),r&&r.response&&(r.response.data=f_.call(t,t.transformResponse,r.response),r.response.headers=hr.from(r.response.headers))),Promise.reject(r)})}const pR="1.7.7",t2={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{t2[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const pC={};t2.transitional=function(e,n,r){function i(s,a){return"[Axios v"+pR+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(e===!1)throw new Ue(i(a," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!pC[a]&&(pC[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,l):!0}};function bee(t,e,n){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const l=t[s],u=l===void 0||a(l,s,t);if(u!==!0)throw new Ue("option "+s+" must be "+u,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+s,Ue.ERR_BAD_OPTION)}}const f0={assertOptions:bee,validators:t2},uo=f0.validators;class xa{constructor(e){this.defaults=e,this.interceptors={request:new sC,response:new sC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ba(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&f0.assertOptions(r,{silentJSONParsing:uo.transitional(uo.boolean),forcedJSONParsing:uo.transitional(uo.boolean),clarifyTimeoutError:uo.transitional(uo.boolean)},!1),i!=null&&(X.isFunction(i)?n.paramsSerializer={serialize:i}:f0.assertOptions(i,{encode:uo.function,serialize:uo.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&X.merge(s.common,s[n.method]);s&&X.forEach(["delete","get","head","post","put","patch","common"],C=>{delete s[C]}),n.headers=hr.concat(a,s);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let p,m=0,g;if(!u){const C=[fC.bind(this),void 0];for(C.unshift.apply(C,l),C.push.apply(C,d),g=C.length,p=Promise.resolve(n);m<g;)p=p.then(C[m++],C[m++]);return p}g=l.length;let _=n;for(m=0;m<g;){const C=l[m++],b=l[m++];try{_=C(_)}catch(k){b.call(this,k);break}}try{p=fC.call(this,_)}catch(C){return Promise.reject(C)}for(m=0,g=d.length;m<g;)p=p.then(d[m++],d[m++]);return p}getUri(e){e=Ba(this.defaults,e);const n=uR(e.baseURL,e.url);return iR(n,e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(e){xa.prototype[e]=function(n,r){return this.request(Ba(r||{},{method:e,url:n,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,l){return this.request(Ba(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}xa.prototype[e]=n(),xa.prototype[e+"Form"]=n(!0)});class n2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,l){r.reason||(r.reason=new ju(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new n2(function(i){e=i}),cancel:e}}}function xee(t){return function(n){return t.apply(null,n)}}function Pee(t){return X.isObject(t)&&t.isAxiosError===!0}const p0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(p0).forEach(([t,e])=>{p0[e]=t});function mR(t){const e=new xa(t),n=GA(xa.prototype.request,e);return X.extend(n,xa.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return mR(Ba(t,i))},n}const jt=mR(vh);jt.Axios=xa;jt.CanceledError=ju;jt.CancelToken=n2;jt.isCancel=aR;jt.VERSION=pR;jt.toFormData=Pg;jt.AxiosError=Ue;jt.Cancel=jt.CanceledError;jt.all=function(e){return Promise.all(e)};jt.spread=xee;jt.isAxiosError=Pee;jt.mergeConfig=Ba;jt.AxiosHeaders=hr;jt.formToJSON=t=>oR(X.isHTMLForm(t)?new FormData(t):t);jt.getAdapter=fR.getAdapter;jt.HttpStatusCode=p0;jt.default=jt;const gR=()=>{const[t,e]=M.useState(!1),[n,r]=M.useState(null),[i,s]=M.useState(3.405),[a,l]=M.useState(-76.49),[u,d]=M.useState(!1);return{updateEvent:async(g,_)=>{if(!g){console.error("No se proporcion un eventId vlido."),r("No se proporcion un eventId vlido.");return}e(!0),r(null);try{const C=ot(Qe,"events",g);await Zi(C,_),console.log("Evento actualizado correctamente")}catch(C){console.error("Error updating event:",C),r("Error al actualizar el evento.")}finally{e(!1)}},loading:t,error:n,onMapClick:g=>{const{lat:_,lng:C}=g.latlng;s(_),l(C),d(!0)},lat:i,lng:a,mapClicked:u}},Aee=(t,e)=>{const[n,r]=M.useState(""),[i,s]=M.useState(""),[a,l]=M.useState(""),[u,d]=M.useState(""),[p,m]=M.useState(""),[g,_]=M.useState(""),[C,b]=M.useState(""),[k,x]=M.useState(0),[T,P]=M.useState(e),[j,U]=M.useState(!1),[H,N]=M.useState(!1),{updateEvent:S,error:A}=gR(),R=async()=>{var D,re;try{const fe=ot(Qe,"events",t),Ce=await kn(fe);if(Ce.exists()){const Be=Ce.data();r(Be.name||""),s(Be.date||""),l(Be.startTime||""),d(Be.location||""),m(Be.eventType||""),_(Be.dressCode||""),b(Be.description||""),x(Be.amount||0),P({lat:((D=Be.coordinates)==null?void 0:D.lat)||e.lat,lng:((re=Be.coordinates)==null?void 0:re.lng)||e.lng})}}catch(fe){console.error("Error fetching event data:",fe)}},V=async D=>{D.preventDefault();const re={name:n,date:i,startTime:a,location:u,eventType:p,dressCode:g,description:C,amount:k,coordinates:T};try{await S(t,re),N(!0)}catch(fe){console.error("Error updating event:",fe)}},B=async D=>{d(D),U(!0);try{const fe=(await jt.get(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(D)}`)).data;if(fe&&fe.length>0){const{lat:Ce,lon:Be}=fe[0];P({lat:parseFloat(Ce),lng:parseFloat(Be)})}else console.error("No results found for this location.")}catch(re){console.error("Error fetching location:",re)}finally{U(!1)}};return M.useEffect(()=>{R()},[t]),{name:n,setName:r,date:i,setDate:s,startTime:a,setStartTime:l,location:u,setLocation:d,eventType:p,setEventType:m,dressCode:g,setDressCode:_,description:C,setDescription:b,amount:k,setAmount:x,coordinates:T,isLocationUpdating:j,isUpdateSuccessful:H,handleSubmitForm:V,handleLocationChange:B,error:A}},Ree=({eventId:t,lat:e,lng:n,onClose:r})=>{const{name:i,setName:s,date:a,setDate:l,startTime:u,setStartTime:d,location:p,eventType:m,setEventType:g,dressCode:_,setDressCode:C,description:b,setDescription:k,amount:x,setAmount:T,coordinates:P,isLocationUpdating:j,handleSubmitForm:U,handleLocationChange:H,error:N,isUpdateSuccessful:S}=Aee(t,{lat:e,lng:n});return M.useEffect(()=>{S&&(cn.success("Event updated successfully."),r())},[S,r]),w.jsxs("div",{"aria-label":"edit events form",className:"edit_event_form",children:[w.jsx("button",{className:"close-button",onClick:r,children:w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",children:[w.jsx("path",{d:"M1.34961 1.34961L9.18961 9.18961",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),w.jsx("path",{d:"M9.18945 1.34961L1.34945 9.18961",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})}),w.jsx("h2",{id:"update_even_tittle",children:"Update an event"}),w.jsxs("form",{id:"update_form",onSubmit:U,children:[w.jsxs("div",{className:"left-column",children:[w.jsx("label",{children:"Event name"}),w.jsx("input",{"aria-label":"event name",type:"text",value:i,onChange:A=>s(A.target.value),placeholder:"Event name",required:!0}),w.jsx("label",{children:"Date"}),w.jsx("input",{"aria-label":"event date",type:"date",value:a,onChange:A=>l(A.target.value),required:!0}),w.jsx("label",{children:"Start time"}),w.jsx("input",{"aria-label":"start time",type:"time",value:u,onChange:A=>d(A.target.value),required:!0}),w.jsx("label",{children:"Event type"}),w.jsxs("select",{id:"select_id","aria-label":"event type",value:m,onChange:A=>g(A.target.value),required:!0,children:[w.jsx("option",{value:"",disabled:!0,children:"Select an event type"}),w.jsx("option",{value:"Halloween",children:"Halloween"}),w.jsx("option",{value:"Wedding",children:"Wedding"}),w.jsx("option",{value:"Birthday",children:"Birthday"}),w.jsx("option",{value:"Baby shower",children:"Baby shower"}),w.jsx("option",{value:"Christmas",children:"Christmas"}),w.jsx("option",{value:"Other",children:"Other"})]}),w.jsx("label",{children:"Dress code"}),w.jsx("input",{"aria-label":"dress code",type:"text",value:_,onChange:A=>C(A.target.value),placeholder:"Dress code",required:!0}),w.jsx("label",{children:"Event amount"}),w.jsx("input",{"aria-label":"event amount",type:"number",value:x,onChange:A=>T(Number(A.target.value)),placeholder:"Event amount"})]}),w.jsxs("div",{className:"map_div",children:[w.jsxs("div",{className:"address-container",children:[w.jsx("label",{children:"Address"}),w.jsx("p",{className:"example",children:"Example: Cl. 38 Norte. #6N"})]}),w.jsx("input",{"aria-label":"address",type:"text",value:p,onChange:A=>H(A.target.value),placeholder:"Address",required:!0}),j&&w.jsx("p",{children:"Loading location..."}),w.jsx(WA,{lat:P.lat,lng:P.lng,location:p}),w.jsx("label",{children:"Description"}),w.jsx("textarea",{"aria-label":"description",value:b,onChange:A=>k(A.target.value),placeholder:"Description",required:!0})]}),w.jsx("button",{type:"submit",children:"Update event"})]}),N&&w.jsxs("p",{children:["Error updating event: ",N]})]})},kee=t=>{const[e,n]=M.useState(!1),[r,i]=M.useState(""),[s,a]=M.useState(""),[l,u]=M.useState(""),[d,p]=M.useState(""),[m,g]=M.useState(""),[_,C]=M.useState(""),[b,k]=M.useState(""),[x,T]=M.useState(null),[P,j]=M.useState(3.405),[U,H]=M.useState(-76.49),[N,S]=M.useState(!1),[A,R]=M.useState(""),{updateEvent:V,loading:B,error:D}=gR(),re=()=>n(!0),fe=()=>n(!1),Ce=async K=>{K.preventDefault(),await V(t,{eventId:t,name:r,date:s,startTime:l,location:d,eventType:m,dressCode:_,description:b,amount:x,coordinates:{lat:P,lng:U}}),fe()},Be=K=>{const{lat:ie,lng:J}=K.latlng;j(ie),H(J),S(!0)};return M.useEffect(()=>{switch(m){case"Halloween":R("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FHalloween.webp?alt=media&token=60a5ef71-06d5-424a-9769-a00cfbb4a4a2");break;case"Birthday":R("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FHappyBirthday.webp?alt=media&token=6902ad3e-c943-45e4-a355-ebd0a63acc39");break;case"Wedding":R("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FWedding.webp?alt=media&token=7e54d790-a151-4863-8dc4-1f2894748c46");break;case"Christmas":R("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FNavidad.webp?alt=media&token=eb85b70d-cf4c-4a50-b62a-54fff05ca922");break;case"Baby shower":R("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2Fbaby-shower-1.webp?alt=media&token=88aff7ae-4e95-4902-b8f3-0235dfcce888");break;case"Other":R("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FFiesta.webp?alt=media&token=09a1359c-42cc-43f4-921a-db5446cbfca9");break;default:R("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FFiesta.webp?alt=media&token=09a1359c-42cc-43f4-921a-db5446cbfca9");break}},[m]),{eventId:t,name:r,setName:i,date:s,setDate:a,startTime:l,setStartTime:u,location:d,setLocation:p,eventType:m,setEventType:g,dressCode:_,setDressCode:C,description:b,setDescription:k,handleSubmit:Ce,loading:B,error:D,lat:P,setLat:j,lng:U,setLng:H,amount:x,setAmount:T,isModalOpen:e,handleOpenModal:re,handleClose:fe,mapClicked:N,onMapClick:Be,imageSrc:A}},Lee=({eventId:t})=>{const{name:e,setName:n,date:r,setDate:i,startTime:s,setStartTime:a,location:l,setLocation:u,eventType:d,setEventType:p,dressCode:m,setDressCode:g,description:_,setDescription:C,lat:b,lng:k,onMapClick:x,handleClose:T,handleOpenModal:P,isModalOpen:j,amount:U,setAmount:H}=kee(t);return w.jsxs("div",{children:[w.jsx("button",{id:"edit_button",onClick:P,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"5 0 10 20",fill:"none",children:w.jsx("path",{d:"M17.7586 5.73165L14.268 2.24024C14.1519 2.12414 14.0141 2.03204 13.8624 1.9692C13.7107 1.90637 13.5482 1.87402 13.384 1.87402C13.2198 1.87402 13.0572 1.90637 12.9056 1.9692C12.7539 2.03204 12.6161 2.12414 12.5 2.24024L2.86641 11.8746C2.74983 11.9903 2.65741 12.1279 2.59451 12.2796C2.5316 12.4313 2.49948 12.594 2.50001 12.7582V16.2496C2.50001 16.5811 2.6317 16.8991 2.86612 17.1335C3.10054 17.3679 3.41849 17.4996 3.75001 17.4996H7.24141C7.40563 17.5001 7.5683 17.468 7.71999 17.4051C7.87168 17.3422 8.00935 17.2498 8.12501 17.1332L17.7586 7.49962C17.8747 7.38354 17.9668 7.24573 18.0296 7.09405C18.0925 6.94238 18.1248 6.77981 18.1248 6.61563C18.1248 6.45145 18.0925 6.28889 18.0296 6.13721C17.9668 5.98554 17.8747 5.84772 17.7586 5.73165ZM4.0086 12.4996L10.625 5.88321L11.9289 7.18712L5.31251 13.8027L4.0086 12.4996ZM3.75001 14.0082L5.99141 16.2496H3.75001V14.0082ZM7.50001 15.991L6.1961 14.6871L12.8125 8.07071L14.1164 9.37462L7.50001 15.991ZM15 8.49102L11.5086 4.99962L13.3836 3.12462L16.875 6.61524L15 8.49102Z",fill:"white"})})}),j&&Ob.createPortal(w.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},children:w.jsx(Ree,{eventId:t,name:e,setName:n,date:r,setDate:i,startTime:s,setStartTime:a,location:l,setLocation:u,eventType:d,setEventType:p,dressCode:m,setDressCode:g,description:_,setDescription:C,lat:b,lng:k,onMapClick:x,onClose:T,amount:U||0,setAmount:H})}),document.getElementById("modal-root"))]})},Oee=({eventId:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(0),[s,a]=M.useState(!0);M.useEffect(()=>{const u=ot(Qe,"funds",t),d=Hi(u,p=>{if(p.exists()){const m=p.data();n((m==null?void 0:m.goalAmount)||null);const _=((m==null?void 0:m.currentAmount)||[]).reduce((C,b)=>C+b,0);i(_)}else n(null);a(!1)});return()=>d()},[t]);const l=e&&e>0?r/e*100:0;return s||e===null?null:w.jsxs("div",{className:"linear-progress-bar-container",children:[w.jsxs("p",{className:"progress-label",children:["Funded: ",Math.round(l),"%"]}),w.jsx("div",{className:"progress-bar",children:w.jsx("div",{className:"progress-bar-fill",style:{width:`${l}%`}})})]})},Nee=()=>{const[t,e]=M.useState(null),[n,r]=M.useState(!1),i=gw();return{deleteEvent:async a=>{r(!0),e(null);try{await aj(ot(Qe,"events",a)),console.log(`Event with ID ${a} deleted from Firebase.`),vF(i,l=>{l||console.warn("User was signed out unexpectedly after deletion.")})}catch(l){e("Error deleting event"),console.error("Error deleting event:",l)}finally{r(!1)}},deleting:n,error:t}},Dee=({date:t,id:e,name:n,invitations:r,color:i})=>{var x;const s=Xr(),{deleteEvent:a,deleting:l,error:u}=Nee(),[d,p]=M.useState(!1),[m,g]=M.useState(((x=r[0])==null?void 0:x.userImg)||"default-avatar-url"),_=()=>{console.log(`Button clicked. Card ID: ${e}`),s(`/detail/${e}`,{state:{id:e,userType:"Host"}})},C=()=>{a(e)};console.log(T=>{g(T)});const k=()=>p(T=>!T);return w.jsxs("div",{id:"hosts_events",style:{backgroundColor:i},children:[w.jsxs("div",{id:"invitations",children:[r.length>0?w.jsxs("div",{id:"guest_list",children:[r.length>2&&w.jsx("div",{className:"more-invites",children:w.jsxs("span",{className:"more-invites-text",children:["+ ",r.length-2]})}),r.slice(0,2).map((T,P)=>w.jsx(FA,{src:m,size:window.innerWidth<740?"60":"30",round:!0,className:`sb-avatar__image ${P===1?"second-avatar":""}`},T.userId))]}):w.jsx("p",{id:"guest_text_h",children:"There are no guests"}),w.jsxs("button",{id:"host_event_button",onClick:_,children:[w.jsx("p",{id:"name_event",children:n}),w.jsx("p",{id:"date_event",children:t})]})]}),w.jsx(Oee,{eventId:e}),w.jsx("button",{id:"threeDotsButton",onClick:k,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:w.jsx("path",{d:"M15.583 14.0601C15.583 14.3093 15.5091 14.5529 15.3706 14.7601C15.2322 14.9673 15.0354 15.1288 14.8052 15.2242C14.5749 15.3196 14.3216 15.3445 14.0772 15.2959C13.8328 15.2473 13.6082 15.1273 13.432 14.9511C13.2558 14.7749 13.1358 14.5503 13.0872 14.3059C13.0386 14.0615 13.0635 13.8082 13.1589 13.5779C13.2543 13.3477 13.4158 13.1509 13.623 13.0125C13.8302 12.874 14.0738 12.8001 14.323 12.8001C14.6572 12.8001 14.9776 12.9329 15.2139 13.1692C15.4502 13.4055 15.583 13.726 15.583 14.0601ZM14.323 8.18015C14.5722 8.18015 14.8158 8.10625 15.023 7.9678C15.2302 7.82935 15.3917 7.63256 15.4871 7.40233C15.5824 7.1721 15.6074 6.91875 15.5588 6.67434C15.5102 6.42992 15.3901 6.20541 15.2139 6.0292C15.0377 5.85299 14.8132 5.73298 14.5688 5.68437C14.3244 5.63575 14.071 5.6607 13.8408 5.75607C13.6106 5.85143 13.4138 6.01293 13.2753 6.22014C13.1369 6.42734 13.063 6.67095 13.063 6.92015C13.063 7.25432 13.1957 7.57481 13.432 7.8111C13.6683 8.0474 13.9888 8.18015 14.323 8.18015ZM14.323 19.9401C14.0738 19.9401 13.8302 20.014 13.623 20.1524C13.4158 20.2909 13.2543 20.4877 13.1589 20.7179C13.0635 20.9481 13.0386 21.2015 13.0872 21.4459C13.1358 21.6903 13.2558 21.9148 13.432 22.091C13.6082 22.2673 13.8328 22.3873 14.0772 22.4359C14.3216 22.4845 14.5749 22.4595 14.8052 22.3642C15.0354 22.2688 15.2322 22.1073 15.3706 21.9001C15.5091 21.6929 15.583 21.4493 15.583 21.2001C15.583 20.8659 15.4502 20.5454 15.2139 20.3091C14.9776 20.0728 14.6572 19.9401 14.323 19.9401Z",fill:"#343330"})})}),d&&w.jsxs("div",{id:"buttons_event",children:[w.jsx(VA,{onClick:C}),w.jsx(Lee,{icon:"Edit",eventId:e})]}),l&&w.jsx("p",{children:"Deleting..."}),u&&w.jsx("p",{children:u})]})},Mee=t=>{const[e,n]=M.useState([]),[r,i]=M.useState([]),[s,a]=M.useState(!0),[l,u]=M.useState(null),[d,p]=M.useState(window.innerWidth),m=(b,k)=>{localStorage.setItem(b,JSON.stringify(k))},g=b=>{const k=localStorage.getItem(b);return k?JSON.parse(k):null};M.useEffect(()=>{const b=()=>p(window.innerWidth);return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const _=M.useMemo(()=>d<768?1:d<1024?2:3,[d]),C=M.useCallback(async()=>{a(!0);const b=zn(Qe,"events"),k=zn(Qe,"invitations"),x=xs(b,An("userId","==",t)),T=xs(k,An("creatorId","==",t),An("status","==","accepted")),P=g(`events_${t}`),j=g(`invitations_${t}`);P&&n(P),j&&i(j);try{const S=(await wu(x)).docs.map(V=>({id:V.id,...V.data()}));n(S),m(`events_${t}`,S);const R=(await wu(T)).docs.map(V=>({id:V.id,...V.data()}));i(R),m(`invitations_${t}`,R)}catch{u("Error loading data")}finally{a(!1)}const U=Hi(x,N=>{const S=N.docs.map(A=>({id:A.id,...A.data()}));n(S),m(`events_${t}`,S)}),H=Hi(T,N=>{const S=N.docs.map(A=>({id:A.id,...A.data()}));i(S),m(`invitations_${t}`,S)});return()=>{U(),H()}},[t]);return M.useEffect(()=>{C()},[C]),{profiles:e,invitations:r,slidesPerView:_,loading:s,error:l}},jee=({userId:t})=>{const{profiles:e,invitations:n,loading:r,error:i}=Mee(t),s=["#FFD4D4","#A8EEDE","#FFE4AF","#FFD4D4"],a=e.length>3;return w.jsxs("div",{"aria-label":"carousel host events",id:"host_card",children:[w.jsx("h2",{"aria-label":"carousel host events title",id:"host_tittle",children:"You are Host"}),w.jsx("div",{"aria-label":"carousel host events",id:"carousel_div",children:r?w.jsx("p",{id:"loading","aria-live":"polite",children:"Loading events..."}):i?w.jsx("p",{id:"error","aria-live":"assertive",children:i}):w.jsx("div",{id:"carousel",className:"carousel-container",style:{overflowX:a?"auto":"hidden"},children:e.map((l,u)=>{const d=s[u%s.length];return w.jsx("div",{className:"carousel-item",children:w.jsx(Dee,{id:l.id,image:l.image,invitations:n.filter(p=>p.eventId===l.id),name:l.name,date:l.date,color:d,"aria-hidden":"false"})},l.id)})})})]})},Fee=()=>{const[t,e]=M.useState(!1),[n,r]=M.useState(null);return{rejectInvitation:async(s,a)=>{var u,d;const l=ot(Qe,"invitations",s);e(!0),r(null);try{const p=await kn(l);if(!p.exists())throw new Error("Invitation not found");const m=p.data();if(((d=(u=m==null?void 0:m.guests)==null?void 0:u[a])==null?void 0:d.status)!=="accepted")throw new Error("Invitation not accepted, cannot reject.");await Zi(l,{[`guests.${a}.status`]:"rejected",[`guests.${a}`]:lj()}),console.log("Invitation status updated to rejected and guest removed")}catch(p){r(p instanceof Error?p.message:"Unknown error"),console.error("Error rejecting invitation:",p)}finally{e(!1)}},rejecting:t,error:n}},Vee=({date:t,id:e,name:n,invitations:r,coloor:i})=>{var b;const s=Xr(),[a,l]=M.useState(!1),{rejectInvitation:u}=Fee(),[d,p]=M.useState(((b=r[0])==null?void 0:b.userImg)||"default-avatar-url"),m=()=>{console.log(`Button clicked. Card ID: ${e}`),s(`/detail/${e}`,{state:{id:e,userType:"Guest"}})};console.log(k=>{p(k)});const _=()=>{l(!a)},C=k=>{u(e,k)};return w.jsxs("div",{id:"guest_events",style:{backgroundColor:i},children:[w.jsx("div",{id:"invitation",children:r.length>0?w.jsxs("div",{id:"guest_list",children:[r.slice(0,2).map((k,x)=>w.jsx(FA,{src:d,size:window.innerWidth<740?"60":"30",round:!0,className:`sb-avatar__images ${x===1?"second-avatar":""}`},k.userId)),r.length>2&&w.jsx("div",{className:"more-invite",children:w.jsxs("span",{className:"more-invites-text",children:["+ ",r.length-2]})})]}):w.jsx("p",{id:"guest_text",children:"There are no guests"})}),w.jsxs("button",{id:"guest_events_button",onClick:m,children:[w.jsx("p",{id:"name_event",children:n}),w.jsx("p",{id:"date_event",children:t})]}),w.jsx("button",{id:"threeDotsButton",onClick:_,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:w.jsx("path",{d:"M15.583 14.0601C15.583 14.3093 15.5091 14.5529 15.3706 14.7601C15.2322 14.9673 15.0354 15.1288 14.8052 15.2242C14.5749 15.3196 14.3216 15.3445 14.0772 15.2959C13.8328 15.2473 13.6082 15.1273 13.432 14.9511C13.2558 14.7749 13.1358 14.5503 13.0872 14.3059C13.0386 14.0615 13.0635 13.8082 13.1589 13.5779C13.2543 13.3477 13.4158 13.1509 13.623 13.0125C13.8302 12.874 14.0738 12.8001 14.323 12.8001C14.6572 12.8001 14.9776 12.9329 15.2139 13.1692C15.4502 13.4055 15.583 13.726 15.583 14.0601ZM14.323 8.18015C14.5722 8.18015 14.8158 8.10625 15.023 7.9678C15.2302 7.82935 15.3917 7.63256 15.4871 7.40233C15.5824 7.1721 15.6074 6.91875 15.5588 6.67434C15.5102 6.42992 15.3901 6.20541 15.2139 6.0292C15.0377 5.85299 14.8132 5.73298 14.5688 5.68437C14.3244 5.63575 14.071 5.6607 13.8408 5.75607C13.6106 5.85143 13.4138 6.01293 13.2753 6.22014C13.1369 6.42734 13.063 6.67095 13.063 6.92015C13.063 7.25432 13.1957 7.57481 13.432 7.8111C13.6683 8.0474 13.9888 8.18015 14.323 8.18015ZM14.323 19.9401C14.0738 19.9401 13.8302 20.014 13.623 20.1524C13.4158 20.2909 13.2543 20.4877 13.1589 20.7179C13.0635 20.9481 13.0386 21.2015 13.0872 21.4459C13.1358 21.6903 13.2558 21.9148 13.432 22.091C13.6082 22.2673 13.8328 22.3873 14.0772 22.4359C14.3216 22.4845 14.5749 22.4595 14.8052 22.3642C15.0354 22.2688 15.2322 22.1073 15.3706 21.9001C15.5091 21.6929 15.583 21.4493 15.583 21.2001C15.583 20.8659 15.4502 20.5454 15.2139 20.3091C14.9776 20.0728 14.6572 19.9401 14.323 19.9401Z",fill:"#343330"})})}),a&&w.jsx("div",{id:"buttons_event",children:w.jsx(VA,{onClick:()=>C("YqZdegGrN1MSG7bGA51GOTNcKkR2")})})]})},$ee=ke.memo(({userId:t})=>{const{profiles:e,invitations:n,loading:r,error:i}=q4(t),s=["#D9C0F9","#FFD4D4","#FFE4AF","#CFFAD0"],a=e.length>4;return w.jsxs("div",{"aria-label":"carousel guest events",id:"guest_card",children:[w.jsx("h2",{"aria-label":"carousel guest events title",id:"guest_tittle",children:"You are Guest"}),w.jsx("div",{id:"carousel_g",className:"carousel-container",style:{overflowX:a?"auto":"hidden"},children:r?w.jsx("p",{id:"loading","aria-live":"polite",children:"Loading events..."}):i?w.jsx("p",{id:"error","aria-live":"assertive",children:i}):e.length>0?w.jsx("div",{id:"guest_events_container",children:e.map((l,u)=>{const d=s[u%s.length];return w.jsx("div",{"aria-label":`Event ${l.name} on ${l.date}`,className:"carousel_item_g",children:w.jsx(Vee,{id:l.id,ocation:l.eventType,invitations:n.filter(p=>p.eventId===l.id),name:l.name,date:l.date,coloor:d,"aria-hidden":"false"})},l.id)})}):w.jsx("div",{className:"guest_event_card",children:w.jsx("p",{id:"no_events","aria-live":"polite",children:"No events available"})})})]})}),Bee=({name:t,setName:e,date:n,setDate:r,startTime:i,setStartTime:s,location:a,setLocation:l,eventType:u,setEventType:d,dressCode:p,setDressCode:m,description:g,setDescription:_,handleSubmit:C,lat:b,lng:k,onClose:x,amount:T,setAmount:P})=>{const[j,U]=M.useState({lat:b,lng:k}),[H,N]=M.useState(!1),S=async R=>{l(R),N(!0);try{const B=(await jt.get(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(R)}`)).data;if(B&&B.length>0){const{lat:D,lon:re}=B[0];U({lat:parseFloat(D),lng:parseFloat(re)})}else console.error("No results found for this location.")}catch(V){console.error("Error fetching location:",V)}finally{N(!1)}};M.useEffect(()=>{U({lat:b,lng:k})},[b,k]);const A=()=>t&&n&&i&&u&&p&&g&&a&&T!==void 0&&T!==null;return w.jsxs("div",{"aria-label":"create events form",className:"create_event_form",children:[w.jsx("button",{className:"close-button",onClick:x,children:w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",children:[w.jsx("path",{d:"M1.34961 1.34961L9.18961 9.18961",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),w.jsx("path",{d:"M9.18945 1.34961L1.34945 9.18961",stroke:"white","stroke-width":"2","stroke-linecap":"round"})]})}),w.jsx("h2",{className:"title_create_event",children:"Create a new event"}),w.jsxs("form",{id:"form_create",onSubmit:C,children:[w.jsxs("div",{className:"left-column",children:[w.jsx("label",{children:"Event name"}),w.jsx("input",{"aria-label":"event name",type:"text",value:t,onChange:R=>e(R.target.value),placeholder:"Event name",required:!0}),w.jsx("label",{children:"Date"}),w.jsx("input",{"aria-label":"event date",type:"date",value:n,onChange:R=>r(R.target.value),required:!0}),w.jsx("label",{children:"Start time"}),w.jsx("input",{"aria-label":"start time ",type:"time",value:i,onChange:R=>s(R.target.value),required:!0}),w.jsx("label",{children:"Event type"}),w.jsxs("select",{id:"select_id","aria-label":"event type",value:u,onChange:R=>d(R.target.value),required:!0,children:[w.jsx("option",{value:"",disabled:!0,children:"Select an event type"}),w.jsx("option",{value:"Halloween",children:"Halloween"}),w.jsx("option",{value:"Wedding",children:"Wedding"}),w.jsx("option",{value:"Birthday",children:"Birthday"}),w.jsx("option",{value:"Baby shower",children:"Baby shower"}),w.jsx("option",{value:"Christmas",children:"Christmas"}),w.jsx("option",{value:"Other",children:"Other"})]}),w.jsx("label",{children:"Dress code"}),w.jsx("input",{"aria-label":"dress code",type:"text",value:p,onChange:R=>m(R.target.value),placeholder:"Dress code",required:!0}),w.jsx("label",{children:"Event amount"}),w.jsx("input",{"aria-label":"event amount",type:"number",value:T,onChange:R=>P(Number(R.target.value)),placeholder:"Event amount"})]}),w.jsxs("div",{className:"map_div",children:[w.jsxs("div",{className:"address-container",children:[w.jsx("label",{children:"Address"}),w.jsx("p",{className:"example",children:"Example: Cl. 38 Norte. #6N"})]}),w.jsx("input",{"aria-label":"address",type:"text",value:a,onChange:R=>S(R.target.value),placeholder:"Address",required:!0}),H&&w.jsx("p",{children:"Loading location..."}),w.jsx(WA,{lat:j.lat,lng:j.lng,location:a}),w.jsx("label",{children:"Description"}),w.jsx("textarea",{"aria-label":"description",value:g,onChange:R=>_(R.target.value),placeholder:"Description",required:!0})]}),w.jsx("button",{id:"create_event",disabled:!A(),style:{backgroundColor:A()?"#00B78C":"#ccc",cursor:A()?"pointer":"not-allowed"},type:"submit",children:"Create event"})]})]})},Uee=({onClick:t})=>w.jsx("div",{id:"button_new_div",children:w.jsx("button",{id:"new_nevent_button",onClick:t,children:"+"})}),zee=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(""),[a,l]=M.useState(""),[u,d]=M.useState(""),[p,m]=M.useState(""),[g,_]=M.useState(""),[C,b]=M.useState(""),[k,x]=M.useState(3.405),[T,P]=M.useState(-76.49),[j,U]=M.useState(!1),[H,N]=M.useState(!1),[S,A]=M.useState(null),[R,V]=M.useState(0),B=M.useMemo(()=>({Halloween:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FHalloween.webp?alt=media&token=60a5ef71-06d5-424a-9769-a00cfbb4a4a2",Birthday:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FHappyBirthday.webp?alt=media&token=6902ad3e-c943-45e4-a355-ebd0a63acc39","Baby shower":"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2Fbaby-shower-1.webp?alt=media&token=88aff7ae-4e95-4902-b8f3-0235dfcce888",Wedding:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FWedding.webp?alt=media&token=7e54d790-a151-4863-8dc4-1f2894748c46",Christmas:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FNavidad.webp?alt=media&token=eb85b70d-cf4c-4a50-b62a-54fff05ca922",Other:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FFiesta.webp?alt=media&token=09a1359c-42cc-43f4-921a-db5446cbfca9"}),[]),D=ge=>{m(ge),A(B[ge]||null)},re=async ge=>{d(ge);const be=`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(ge)}&format=json&limit=1`;try{const je=await jt.get(be);if(je.data.length>0){const{lat:Ae,lon:Se}=je.data[0];x(parseFloat(Ae)),P(parseFloat(Se)),U(!0)}else cn.error("Location not found. Please try a different address.")}catch(je){console.error("Error fetching location:",je),cn.error("An error occurred while fetching the location.")}},fe=()=>{N(!1)},Ce=()=>`event-${Date.now()}-${Math.floor(Math.random()*1e3)}`,Be=async ge=>{ge.preventDefault();const be=Ce();if(e(be),!j){cn.error("Please set the location on the map.");return}if(!n||!i||!a||!u||!p||!g||!C){cn.error("Please complete all the required fields.");return}if(R<0){cn.error("Amount cannot be negative.");return}const Ae=gw().currentUser;if(!Ae){cn.error("User not authenticated.");return}const Se=ot(Qe,"users",Ae.uid);try{const nt=await kn(Se);if(!nt.exists()){cn.error("User data not found.");return}const yi=nt.data().accountAmount;if(R!==void 0&&yi<R){cn.error("Insufficient funds.");return}const Nn=R!==void 0?yi-R:yi;R!==void 0&&await Zi(Se,{accountAmount:Nn});const Dr={eventID:be,name:n,date:i,startTime:a,location:u,eventType:p,dressCode:g,description:C,userId:Ae.uid,coordinates:{lat:k,lng:T},image:S,amount:R===void 0?null:R};await zP(zn(Qe,"events"),Dr),K(),fe(),cn.success("Event created successfully.")}catch(nt){console.error("Error processing request: ",nt),cn.error("An error occurred while creating the event.")}},K=()=>{r(""),s(""),l(""),d(""),m(""),_(""),b(""),x(3.405),P(-76.49),U(!1),A(null),V(0),e("")};return{eventId:t,name:n,setName:r,date:i,setDate:s,startTime:a,setStartTime:l,location:u,setLocation:re,setEventType:D,dressCode:g,setDressCode:_,description:C,setDescription:b,eventType:p,handleSubmit:Be,lat:k,lng:T,onMapClick:ge=>{const{lat:be,lng:je}=ge.latlng;x(be),P(je),U(!0)},handleClose:()=>{K(),N(!1)},handleOpenModal:()=>{N(!0)},isModalOpen:H,image:S,amount:R,setAmount:V}},Hee=()=>{const{name:t,setName:e,date:n,setDate:r,startTime:i,setStartTime:s,location:a,setLocation:l,eventType:u,setEventType:d,dressCode:p,setDressCode:m,description:g,setDescription:_,handleSubmit:C,lat:b,lng:k,onMapClick:x,handleClose:T,handleOpenModal:P,isModalOpen:j,amount:U,setAmount:H}=zee();return w.jsxs(w.Fragment,{children:[w.jsx(Uee,{onClick:P}),j&&w.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:w.jsx(Bee,{name:t,setName:e,date:n,setDate:r,startTime:i,setStartTime:s,location:a,setLocation:l,eventType:u,setEventType:d,dressCode:p,setDressCode:m,description:g,setDescription:_,handleSubmit:C,lat:b,lng:k,onMapClick:x,onClose:T,amount:U||0,setAmount:H})})]})},Wee=()=>{const{userId:t}=Vd(),{user:e}=eh();M.useEffect(()=>{console.log("Usuario en contexto:",e)},[e]);const n=e?e.uid:t;return w.jsxs(w.Fragment,{children:[w.jsx(Xm,{}),w.jsx("div",{id:"background_invitation"}),w.jsx(JB,{}),w.jsx("div",{id:"background_houst_guest"}),w.jsx(Hee,{}),w.jsx(jee,{userId:n}),w.jsx($ee,{userId:n}),w.jsx("div",{id:"root"}),w.jsx("div",{id:"modal-root"})]})},Gl=({uid:t,lillogo:e,info:n,infoPlaceholder:r,inputType:i,...s})=>w.jsxs("div",{id:"inputSpace",children:[w.jsx("p",{className:"inputs_p",children:n}),w.jsxs("div",{id:"img-Input",children:[w.jsx("img",{src:e,alt:""}),w.jsx("input",{className:"theRegisterInput",id:t,type:i,placeholder:r,...s})]}),w.jsx("hr",{id:"lineaHorizontal"})]}),Gee=()=>{const t=Xr(),e=()=>{t("/login")};return w.jsx("button",{onClick:e,className:"register-buttons",children:"Login here !"})};function qee({title:t,infoMessagept1:e}){return w.jsxs("div",{id:"MessageSpace",children:[w.jsx("h1",{children:t}),w.jsx("div",{children:w.jsxs("p",{id:"register_message",children:[e,w.jsx(Gee,{})]})})]})}function vR({buttonText:t,btnId:e}){return w.jsx("button",{className:"theRegisterBtn",type:"submit",id:e,children:t})}const Kee=()=>{const[t,e]=M.useState(null),n=Xr();return{register:async(i,s,a,l)=>{e(null);try{const d=(await cF(po,i,s)).user,p=parseInt(l);await ow(ot(Qe,"users",d.uid),{username:a,accountAmount:p,email:d.email}),console.log("Usuario registrado:",d),n(`/main/${d.uid}`)}catch(u){console.error("Error al registrar:",u),u.code==="auth/email-already-in-use"?e("This email is already in use."):u.code==="auth/weak-password"?e("The password is too weak."):e("An error occurred while signing up.")}},error:t}},Zee=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(""),[a,l]=M.useState(""),{register:u,error:d}=Kee(),p=m=>{m.preventDefault(),u(t,i,n,a)};return w.jsx("div",{id:"SignBackgroundSpace",children:w.jsxs("div",{id:"SignWhiteSpace",children:[w.jsx("img",{id:"SignImg",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/LoginSigup%2FSignUp-Cover.png?alt=media&token=cf95e126-1e80-4443-8958-60ff564090c0",alt:""}),w.jsxs("form",{id:"registerForm",onSubmit:p,children:[w.jsx(qee,{title:"Sign Up",infoMessagept1:"If you already have an account registered. You can"}),w.jsx(Gl,{inputType:"email",uid:"registerEmail",lillogo:"/mail.svg",info:"Email",infoPlaceholder:"Enter your email address",onChange:m=>e(m.target.value)}),w.jsx(Gl,{inputType:"text",uid:"registerUsername",lillogo:"/user.svg",info:"Username",infoPlaceholder:"Enter your username",onChange:m=>r(m.target.value)}),w.jsx(Gl,{inputType:"password",uid:"registerPassword",lillogo:"/lock.svg",info:"Password",infoPlaceholder:"Enter your password",onChange:m=>s(m.target.value)}),w.jsx(Gl,{inputType:"number",uid:"registerAccount",lillogo:"money.svg",info:"Account Amount",infoPlaceholder:"Add account amount",onChange:m=>l(m.target.value)}),d&&w.jsx("div",{className:"errorMessage",children:d}),w.jsx(vR,{btnId:"RegisterBtn",buttonText:"Register"})]})]})})},Qee=()=>w.jsx("div",{className:"register-screen",children:w.jsx(Zee,{})}),Yee=()=>{const t=Xr(),e=()=>{t("/signup")};return w.jsx("button",{onClick:e,className:"login-buttons",children:"Register here !"})};function Xee({title:t,infoMessagept1:e}){return w.jsxs("div",{id:"MessageLogSpace",children:[w.jsx("h1",{children:t}),w.jsx("div",{id:"message_space",children:w.jsxs("p",{className:"login_message",children:[e,w.jsx(Yee,{})]})})]})}const Jee=()=>{const[t,e]=M.useState(null),{setUser:n}=eh(),r=Xr();return{login:async(s,a)=>{e(null);try{const u=(await dF(po,s,a)).user,d=ot(Qe,"users",u.uid),p=await kn(d);if(p.exists()){const m=p.data(),g={uid:u.uid,username:m.username||"",email:u.email||"",img:m.img||"",accountAmount:m.accountAmount||0};n(g),r(`/main/${u.uid}`)}else console.error("No such document!"),n(null)}catch(l){console.error("Error al iniciar sesin:",l),l.code==="auth/wrong-password"?e("Incorrect Password."):l.code==="auth/user-not-found"?e("There is no account associated with that email."):e("An error occurred while signing in.")}},error:t}};function ete(){const[t,e]=M.useState(""),[n,r]=M.useState(""),{login:i,error:s}=Jee(),a=l=>{l.preventDefault(),i(t,n)};return w.jsx("div",{id:"LogBackgroundSpace",children:w.jsxs("div",{id:"LogWhiteSpace",children:[w.jsx("img",{id:"LogImg",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/LoginSigup%2FRegister-Cover.png?alt=media&token=c7f8bff3-6426-4021-a9f7-73d84d6e2798",alt:""}),w.jsxs("form",{onSubmit:a,id:"loginForm",children:[w.jsx(Xee,{title:"Log In",infoMessagept1:"If you haven't registered yet. You can"}),w.jsx(Gl,{inputType:"email",uid:"loginEmail",lillogo:"/mail.svg",info:"Email",infoPlaceholder:"Enter your email address",onChange:l=>e(l.target.value)}),w.jsx(Gl,{inputType:"password",uid:"loginPassword",lillogo:"/lock.svg",info:"Password",infoPlaceholder:"Enter your password",onChange:l=>r(l.target.value)}),s&&w.jsx("div",{className:"errorMessage",children:s}),w.jsx(vR,{btnId:"",buttonText:"Login"})]})]})})}const tte=()=>w.jsx("div",{className:"login-screen",children:w.jsx(ete,{})}),nte=({items:t,total:e,onRemoveItem:n,onBuyAll:r})=>w.jsxs("div",{className:"shopping-cart",children:[w.jsx("h2",{id:"h2-consumption",children:"My Shopping Cart"}),w.jsx("div",{children:t.map(i=>w.jsxs("div",{className:"cart-item",children:[w.jsx("img",{src:i.image,alt:i.name}),w.jsxs("div",{className:"cart-item-details",children:[w.jsxs("div",{children:[w.jsx("p",{children:i.name}),w.jsxs("p",{children:["$",i.price]})]}),w.jsxs("div",{className:"btn-remove",children:[w.jsxs("p",{children:[i.quantity," units"]}),w.jsx("button",{onClick:()=>n(i.id),children:w.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Delete2.png?alt=media&token=535cf66d-bcb0-4ded-8f35-e514cdc399cb",alt:""})})]})]})]},i.id))}),w.jsxs("div",{className:"total-section",children:[w.jsxs("h2",{children:["Total: $",e]}),w.jsxs("button",{onClick:r,children:[w.jsx("img",{className:"img-total",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ShoppingCart.png?alt=media&token=be532a3d-382c-4209-bcb4-6fdec543a456",alt:""}),"Buy all"]})]})]}),rte=()=>{const{state:t}=Fd(),e=(t==null?void 0:t.eventType)||"",[n,r]=M.useState([]),[i,s]=M.useState(e);return M.useEffect(()=>{(async()=>{const u=await K$();r(u)})()},[]),{filteredItems:i==="Other"?n:n.filter(l=>l.eventType===i),filterType:i,setFilterType:s}},ite=()=>{const[t,e]=M.useState([]),n=(l,u)=>{e(d=>d.find(m=>m.id===l.id)?d.map(m=>m.id===l.id?{...m,quantity:Math.min(m.quantity+u,m.disponibility)}:m):[...d,{...l,quantity:u}])},r=l=>{e(u=>u.filter(d=>d.id!==l))},i=()=>parseFloat(t.reduce((l,u)=>l+u.price*u.quantity,0).toFixed(3)),s=()=>{e([])};return{consumption:t,addToConsumption:n,removeFromConsumption:r,getTotal:i,clearConsumption:s,processPurchase:async l=>{try{const u=ot(q$,l),d=await kn(u);if(!d.exists()){cn.error("Event not found.");return}const m=d.data().accountAmount,g=i();if(g>m){cn.error("Insufficient funds in the event.");return}await Promise.all([Zi(u,{accountAmount:m-g}),zP(G$,{items:t,total:g,timestamp:new Date})]),cn.success("Purchase processed successfully."),s()}catch(u){console.error("Error processing purchase:",u),cn.error("There was a problem processing the purchase.")}}}},ste=({onFilterSelect:t})=>{const e=["Halloween","Birthday","Wedding","Baby Shower","Christmas","Other"],[n,r]=M.useState(null),[i,s]=M.useState(!1),a=u=>{r(u),t(u),s(!1)},l=()=>{s(!i)};return w.jsxs("div",{className:"filters",children:[w.jsx("div",{onClick:l,className:"filters-toggle",children:w.jsx("p",{className:"p-filters",children:"Filters by"})}),w.jsx("div",{className:`CardsFilters ${i?"visible":""}`,children:e.map(u=>w.jsx("button",{className:`filterbtn ${n===u?"active":""}`,onClick:()=>a(u),children:u},u))})]})},ote=({id:t,image:e,name:n,price:r,disponibility:i,addToConsumption:s})=>{const[a,l]=M.useState(1),u=()=>{s({id:t,name:n,price:r,image:e,disponibility:i},a)};return w.jsxs("div",{className:"product-card",children:[w.jsx("img",{className:"product-card-img",src:e,alt:n}),w.jsxs("div",{children:[w.jsx("p",{className:"product-name",children:n}),w.jsxs("p",{className:"product-price",children:["$",r]}),w.jsxs("p",{className:"product-disponibility",children:["Disponibility: ",i]})]}),w.jsxs("div",{children:[w.jsx("input",{type:"number",className:"quantity-input",value:a,min:1,max:i,onChange:d=>l(Math.min(Number(d.target.value),i))}),w.jsx("button",{className:"buy-button",onClick:u,children:w.jsx("img",{className:"img-buy",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Agregar.png?alt=media&token=954816f7-a464-4a9a-bf63-a5e7a4721c6c",alt:""})})]})]})},ate=()=>{const t=Xr(),e=()=>{t(-1)};return w.jsxs("div",{className:"BackBtnEvents",children:[w.jsx("button",{className:"",onClick:e,children:w.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/DetailScreen%2FBack.webp?alt=media&token=f18bcebc-06b9-4d2f-abe5-895fe0f7505b",alt:"backbuttonEvents"})}),w.jsx("p",{children:"Your events"})]})},lte=()=>{const{id:t}=Vd(),{filteredItems:e,filterType:n,setFilterType:r}=rte(),{consumption:i,addToConsumption:s,removeFromConsumption:a,getTotal:l,processPurchase:u}=ite();return w.jsxs("div",{children:[w.jsx("div",{}),w.jsxs("div",{className:"receipt-section",children:[w.jsxs("div",{className:"cards-secction",children:[w.jsx(ate,{}),w.jsx(ste,{filterType:n,onFilterSelect:r}),w.jsx("div",{className:"grid-card",children:e.map(d=>w.jsx(ote,{id:d.id,image:d.image,name:d.name,price:d.price,disponibility:d.disponibility,addToConsumption:s},d.id))})]}),w.jsx("div",{className:"consumption-section",children:w.jsx(nte,{items:i,total:l(),onRemoveItem:a,onBuyAll:()=>u(t??"")})})]})]})},ute=()=>w.jsxs(w.Fragment,{children:[w.jsx(Xm,{}),w.jsx(lte,{})]}),cte=({eventId:t,onFundCreated:e})=>{const[n,r]=M.useState(0),[i,s]=M.useState(""),[a,l]=M.useState(!1),[u,d]=M.useState(""),[p,m]=M.useState(""),g=async _=>{if(_.preventDefault(),!t){d("El ID del evento no es vlido.");return}if(n<=0||i.trim()===""){d("Por favor, ingresa una cantidad y una descripcin vlidas.");return}l(!0),d(""),m("");try{const C=ot(Qe,"funds",t);await ow(C,{goalAmount:n,description:i,currentAmount:[],createdAt:new Date}),r(0),s(""),m("Meta guardada correctamente."),e()}catch(C){d("Hubo un error al guardar la meta."),console.error("Error al guardar la meta:",C)}finally{l(!1)}};return w.jsxs("form",{onSubmit:g,className:"fund-form",children:[w.jsx("h1",{id:"title_wel",children:"Welcome to group fundraising"}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"goalAmount",children:"Goal:"}),w.jsx("input",{id:"goalAmount",type:"number",value:n,onChange:_=>r(Number(_.target.value)),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"description",children:"Description:"}),w.jsx("textarea",{id:"description",value:i,onChange:_=>s(_.target.value),required:!0})]}),u&&w.jsx("p",{style:{color:"red"},children:u}),p&&w.jsx("p",{style:{color:"green"},children:p}),w.jsx("button",{type:"submit",disabled:a,children:a?"Guardando...":"Create"})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var m0=function(t,e){return m0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},m0(t,e)};function dte(t,e){m0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var hte=100,fte=100,mC=50,g0=50,v0=50;function gC(t){var e=t.className,n=t.counterClockwise,r=t.dashRatio,i=t.pathRadius,s=t.strokeWidth,a=t.style;return M.createElement("path",{className:e,style:Object.assign({},a,mte({pathRadius:i,dashRatio:r,counterClockwise:n})),d:pte({pathRadius:i,counterClockwise:n}),strokeWidth:s,fillOpacity:0})}function pte(t){var e=t.pathRadius,n=t.counterClockwise,r=e,i=n?1:0;return`
      M `+g0+","+v0+`
      m 0,-`+r+`
      a `+r+","+r+" "+i+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+i+" 1 1 0,-"+2*r+`
    `}function mte(t){var e=t.counterClockwise,n=t.dashRatio,r=t.pathRadius,i=Math.PI*2*r,s=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(e?-s:s)+"px"}}var gte=function(t){dte(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return mC-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var n=this.props,r=n.value,i=n.minValue,s=n.maxValue,a=Math.min(Math.max(r,i),s);return(a-i)/(s-i)},e.prototype.render=function(){var n=this.props,r=n.circleRatio,i=n.className,s=n.classes,a=n.counterClockwise,l=n.styles,u=n.strokeWidth,d=n.text,p=this.getPathRadius(),m=this.getPathRatio();return M.createElement("svg",{className:s.root+" "+i,style:l.root,viewBox:"0 0 "+hte+" "+fte,"data-test-id":"CircularProgressbar"},this.props.background?M.createElement("circle",{className:s.background,style:l.background,cx:g0,cy:v0,r:mC}):null,M.createElement(gC,{className:s.trail,counterClockwise:a,dashRatio:r,pathRadius:p,strokeWidth:u,style:l.trail}),M.createElement(gC,{className:s.path,counterClockwise:a,dashRatio:m*r,pathRadius:p,strokeWidth:u,style:l.path}),d?M.createElement("text",{className:s.text,style:l.text,x:g0,y:v0},d):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(M.Component);const vte=({eventId:t})=>{const[e,n]=M.useState(0),[r,i]=M.useState(0),[s,a]=M.useState(""),[l,u]=M.useState(!0),[d,p]=M.useState("");M.useEffect(()=>{const g=ot(Qe,"funds",t),_=Hi(g,C=>{if(C.exists()){const b=C.data();n((b==null?void 0:b.goalAmount)||0);const x=((b==null?void 0:b.currentAmount)||[]).reduce((T,P)=>T+P,0);i(x),a((b==null?void 0:b.description)||"")}else p(`No se encontr la meta para el evento con ID ${t}.`);u(!1)});return()=>_()},[t]);const m=e>0?r/e*100:0;return w.jsxs("div",{className:"goal-progress-container",children:[w.jsx("h2",{className:"goal-progress-title",children:"Goal Progress"}),l?w.jsx("p",{className:"loading-text",children:"Cargando..."}):d?w.jsx("p",{className:"error-message",children:d}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"circular-progress-wrapper",children:w.jsx(gte,{value:m,text:`${Math.round(m)}%`,styles:{root:{width:"150px",height:"150px"},path:{stroke:"#2eae85;",strokeWidth:10},trail:{stroke:"#2eae85;",strokeWidth:10},text:{fill:"#2eae85;;",fontSize:"16px"}}})}),w.jsxs("div",{className:"progress-values",children:[w.jsxs("div",{className:"current-amount",children:[w.jsxs("p",{className:"amount",children:["$",r]}),w.jsx("span",{className:"label",children:"Current Amount"})]}),w.jsxs("div",{className:"goal-amount",children:[w.jsxs("p",{className:"amount",children:["$",e]}),w.jsx("span",{className:"label",children:"Goal Amount"})]})]}),w.jsx("p",{className:"progress-description",children:s||"Sin descripcin proporcionada."})]})]})},r2=t=>typeof t=="number"&&!isNaN(t),Jc=t=>typeof t=="string",_R=t=>typeof t=="function",_te=t=>M.isValidElement(t)||Jc(t)||_R(t)||r2(t),Mi=new Map;let _0=[];const vC=new Set,yR=()=>Mi.size>0;function yte(t,e){var n;if(e)return!((n=Mi.get(e))==null||!n.isToastActive(t));let r=!1;return Mi.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function wte(t,e){_te(t)&&(yR()||_0.push({content:t,options:e}),Mi.forEach(n=>{n.buildToast(t,e)}))}function _C(t,e){Mi.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}let Ete=1;const wR=()=>""+Ete++;function Tte(t){return t&&(Jc(t.toastId)||r2(t.toastId))?t.toastId:wR()}function ed(t,e){return wte(t,e),e.toastId}function rm(t,e){return{...e,type:e&&e.type||t,toastId:Tte(e)}}function yf(t){return(e,n)=>ed(e,rm(t,n))}function _t(t,e){return ed(t,rm("default",e))}_t.loading=(t,e)=>ed(t,rm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),_t.promise=function(t,e,n){let r,{pending:i,error:s,success:a}=e;i&&(r=Jc(i)?_t.loading(i,n):_t.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,m,g)=>{if(m==null)return void _t.dismiss(r);const _={type:p,...l,...n,data:g},C=Jc(m)?{render:m}:m;return r?_t.update(r,{..._,...C}):_t(C.render,{..._,...C}),g},d=_R(t)?t():t;return d.then(p=>u("success",a,p)).catch(p=>u("error",s,p)),d},_t.success=yf("success"),_t.info=yf("info"),_t.error=yf("error"),_t.warning=yf("warning"),_t.warn=_t.warning,_t.dark=(t,e)=>ed(t,rm("default",{theme:"dark",...e})),_t.dismiss=function(t){(function(e){var n;if(yR()){if(e==null||Jc(n=e)||r2(n))Mi.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Mi.get(e.containerId);r?r.removeToast(e.id):Mi.forEach(i=>{i.removeToast(e.id)})}}else _0=_0.filter(r=>e!=null&&r.options.toastId!==e)})(t)},_t.clearWaitingQueue=function(t){t===void 0&&(t={}),Mi.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},_t.isActive=yte,_t.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:a}=i;return(s=Mi.get(a||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:wR()};s.toastId!==t&&(s.staleId=t);const a=s.render||i;delete s.render,ed(a,s)}},_t.done=t=>{_t.update(t,{progress:1})},_t.onChange=function(t){return vC.add(t),()=>{vC.delete(t)}},_t.play=t=>_C(!0,t),_t.pause=t=>_C(!1,t);const Ste=({eventId:t})=>{const[e,n]=M.useState(0),[r,i]=M.useState(!1),[s,a]=M.useState(""),[l,u]=M.useState(!1),{user:d}=eh(),p=async g=>{var _;if(g.preventDefault(),e<=0){a("Please enter a valid amount.");return}i(!0),a("");try{if(!d)throw new Error("User is not logged in.");const C=ot(Qe,"funds",t),b=await kn(C);if(!b.exists())throw new Error("Event not found");const k=((_=b.data())==null?void 0:_.currentAmount)||[];k.push(e);const x={amount:e,uid:d.uid,username:d.username||"Guest",img:d.img||"",timestamp:new Date().toISOString()};await Zi(C,{currentAmount:k,contributions:uj(x)}),n(0),_t.success("Money added successfully!"),u(!1)}catch(C){console.error("Error adding money:",C),a("There was an error adding money to the goal."),_t.error("There was an error adding money.")}finally{i(!1)}},m=()=>{u(!l)};return w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"ContibuteButton",onClick:m,children:"Contribute"}),l&&w.jsx("div",{className:"modal_thank",children:w.jsxs("div",{className:"modal-content_thank",children:[w.jsx("button",{onClick:m,className:"close-button",children:"X"}),w.jsxs("form",{onSubmit:p,children:[w.jsxs("div",{children:[w.jsx("h2",{id:"thanks_message",children:"Thank you for your contribution!"}),w.jsx("label",{htmlFor:"amountToAdd",children:"Amount:"}),w.jsx("input",{id:"amountToAdd",type:"number",value:e,onChange:g=>n(Number(g.target.value)),required:!0,className:"input-field"})]}),s&&w.jsx("p",{className:"error-message",children:s}),w.jsx("button",{type:"submit",disabled:r,className:"submit-button",children:r?"Adding...":"Add Money"})]})]})})]})},Cte=({eventId:t})=>{const[e,n]=M.useState([]),[r,i]=M.useState(!0),[s,a]=M.useState("");return M.useEffect(()=>{const l=ot(Qe,"funds",t),u=Hi(l,d=>{if(d.exists()){const p=d.data(),g=((p==null?void 0:p.contributions)||[]).map(_=>({username:_.username,amount:_.amount,img:_.img}));n(g)}else a("No se encontr la meta para este evento.");i(!1)});return()=>u()},[t]),w.jsxs("div",{className:"contributor-list-container",children:[w.jsx("h3",{className:"contributors-title",children:"Contributors"}),r?w.jsx("p",{children:"Cargando..."}):s?w.jsx("p",{className:"error-message",children:s}):w.jsx("div",{className:"contributors",children:e.map((l,u)=>w.jsxs("div",{className:"contributor-item",children:[w.jsx("img",{src:l.img,alt:l.username,className:"contributor-image"}),w.jsx("div",{className:"contributor-info",children:w.jsx("p",{className:"contributor-name",children:l.username})})]},u))})]})},Ite=()=>{const{id:t}=Vd(),[e,n]=M.useState(null),[r,i]=M.useState("");M.useEffect(()=>{if(!t){i("Error: No se encontr el ID del evento en la URL.");return}(async()=>{try{const l=ot(Qe,"funds",t);(await kn(l)).exists()?n(!0):n(!1)}catch(l){console.error("Error al verificar el fondo:",l),i("Hubo un problema al verificar el fondo del evento.")}})()},[t]);const s=()=>{n(!0)};return r?w.jsx("p",{style:{color:"red"},children:r}):e===null?w.jsx("p",{children:"Cargando..."}):w.jsxs("div",{className:"Found-screen",children:[w.jsx(Xm,{}),e?w.jsxs(w.Fragment,{children:[w.jsx(vte,{eventId:t}),w.jsx(Ste,{eventId:t}),w.jsx(Cte,{eventId:t})]}):w.jsx(cte,{eventId:t,onFundCreated:s})]})},bte=()=>{const t=Xr(),[e,n]=M.useState({username:"",birthday:"",email:"",accountAmount:"",img:""}),[r,i]=M.useState(null);M.useEffect(()=>{(async()=>{var g;const m=(g=po.currentUser)==null?void 0:g.uid;if(m){const _=ot(Qe,"users",m),C=await kn(_);C.exists()&&n(C.data())}})()},[]);const s=()=>{po.signOut().then(()=>t("/login"))},a=p=>{const{name:m,value:g}=p.target;n(_=>({..._,[m]:g}))},l=p=>{p.target.files&&p.target.files[0]&&i(p.target.files[0])},u=async()=>{var p;try{const m=(p=po.currentUser)==null?void 0:p.uid;if(!m)return;const g=ot(Qe,"users",m);let _=e.img;if(r){const C=F$(W$,`profileImages/${m}`);await M$(C,r),_=await j$(C)}await Zi(g,{...e,img:_}),n(C=>({...C,img:_})),alert("Profile updated successfully!")}catch(m){console.error("Error updating profile:",m),alert("Failed to update profile. Please try again.")}},d=async()=>{var p;try{const m=(p=po.currentUser)==null?void 0:p.uid,g=po.currentUser;if(!m||!(g!=null&&g.email)){alert("User not logged in or email not found.");return}const _=prompt("Enter your current password:");if(!_){alert("Password is required to update email.");return}const C=Qa.credential(g.email,_);if(await uF(g,C),!g.emailVerified){await hF(g),alert("Please verify your email before updating it. A verification link has been sent to your email.");return}await fF(g,e.email);const b=ot(Qe,"users",m);await Zi(b,{email:e.email}),alert("Email updated successfully!")}catch(m){console.error("Error updating email:",m)}};return w.jsx("div",{id:"the_background",children:w.jsxs("div",{id:"user_profile_container",children:[w.jsxs("aside",{id:"sidebar",children:[w.jsx("button",{id:"back_button",onClick:()=>t(-1),children:" Back"}),w.jsxs("div",{id:"user_info_without_amount",children:[w.jsxs("div",{id:"profile_image_container",children:[w.jsx("img",{id:"profile_image",src:e.img||"/path-to-placeholder.jpg",alt:e.username}),w.jsx("div",{id:"status_icon"})]}),w.jsx("h3",{id:"user_name",children:e.username}),w.jsxs("p",{id:"user_username",children:["@",e.username]})]}),w.jsx("div",{id:"cards",children:w.jsxs("div",{id:"funds_card",children:[w.jsx("img",{id:"money_img",src:"/handmoney.svg",alt:""}),w.jsxs("div",{id:"info_amount",children:[w.jsx("strong",{children:"Amount:"}),w.jsx("span",{children:e.accountAmount})]})]})}),w.jsx("button",{id:"logout_button",onClick:s,children:"Cerrar sesin"})]}),w.jsxs("main",{id:"main_content",children:[w.jsx("h2",{id:"edit_profile_title",children:"Edit Profile"}),w.jsxs("form",{id:"edit_profile_form",children:[w.jsxs("label",{className:"input_edit_space",children:["Name",w.jsx("input",{className:"input_edit",type:"text",name:"username",value:e.username||"",onChange:a})]}),w.jsxs("label",{className:"input_edit_space",children:["Birthday",w.jsx("input",{className:"input_edit",type:"date",name:"birthday",value:e.birthday||"",onChange:a})]}),w.jsxs("label",{className:"input_edit_space",children:["Email",w.jsx("input",{className:"input_edit",type:"email",name:"email",value:e.email||"",onChange:a})]}),w.jsxs("label",{className:"input_edit_space",children:["Funds",w.jsx("input",{className:"input_edit",type:"text",name:"accountAmount",value:e.accountAmount||"",onChange:a})]}),w.jsxs("label",{className:"input_edit_space",children:["Profile Image",w.jsx("input",{className:"input_edit",type:"file",accept:"image/*",onChange:l})]}),w.jsx("button",{id:"save_bttn",type:"button",onClick:()=>{var p;e.email!==((p=po.currentUser)==null?void 0:p.email)?d():u()},children:"Save"})]})]})]})})},xte=j7([{path:"/",element:w.jsx(kL,{})},{path:"/login",element:w.jsx(tte,{})},{path:"/signup",element:w.jsx(Qee,{})},{path:"/main/:userId",element:w.jsx(Wee,{})},{path:"/detail/:id",element:w.jsx(QB,{})},{path:"/shopping/:id",element:w.jsx(ute,{})},{path:"/found/:id",element:w.jsx(Ite,{})},{path:"/profile/:id",element:w.jsx(bte,{})}]);var ER,yC=wm;ER=yC.createRoot,yC.hydrateRoot;ER(document.getElementById("root")).render(w.jsxs(Y$,{children:[w.jsx(BB,{}),w.jsx(G7,{router:xte})]}));
