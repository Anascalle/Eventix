function Qw(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var BP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yw={exports:{}},lh={},Xw={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=Symbol.for("react.element"),jP=Symbol.for("react.portal"),UP=Symbol.for("react.fragment"),$P=Symbol.for("react.strict_mode"),HP=Symbol.for("react.profiler"),WP=Symbol.for("react.provider"),GP=Symbol.for("react.context"),qP=Symbol.for("react.forward_ref"),KP=Symbol.for("react.suspense"),ZP=Symbol.for("react.memo"),QP=Symbol.for("react.lazy"),Q_=Symbol.iterator;function YP(t){return t===null||typeof t!="object"?null:(t=Q_&&t[Q_]||t["@@iterator"],typeof t=="function"?t:null)}var Jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e0=Object.assign,t0={};function $a(t,e,n){this.props=t,this.context=e,this.refs=t0,this.updater=n||Jw}$a.prototype.isReactComponent={};$a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n0(){}n0.prototype=$a.prototype;function Am(t,e,n){this.props=t,this.context=e,this.refs=t0,this.updater=n||Jw}var Rm=Am.prototype=new n0;Rm.constructor=Am;e0(Rm,$a.prototype);Rm.isPureReactComponent=!0;var Y_=Array.isArray,i0=Object.prototype.hasOwnProperty,bm={current:null},r0={key:!0,ref:!0,__self:!0,__source:!0};function s0(t,e,n){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)i0.call(e,i)&&!r0.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];r.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Lu,type:t,key:o,ref:a,props:r,_owner:bm.current}}function XP(t,e){return{$$typeof:Lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function km(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lu}function JP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var X_=/\/+/g;function of(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JP(""+t.key):e.toString(36)}function Wc(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Lu:case jP:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+of(a,0):i,Y_(r)?(n="",t!=null&&(n=t.replace(X_,"$&/")+"/"),Wc(r,e,n,"",function(f){return f})):r!=null&&(km(r)&&(r=XP(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(X_,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",Y_(t))for(var u=0;u<t.length;u++){o=t[u];var c=i+of(o,u);a+=Wc(o,e,n,c,r)}else if(c=YP(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=i+of(o,u++),a+=Wc(o,e,n,c,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function wc(t,e,n){if(t==null)return t;var i=[],r=0;return Wc(t,i,"","",function(o){return e.call(n,o,r++)}),i}function e1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},Gc={transition:null},t1={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Gc,ReactCurrentOwner:bm};function o0(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:wc,forEach:function(t,e,n){wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wc(t,function(){e++}),e},toArray:function(t){return wc(t,function(e){return e})||[]},only:function(t){if(!km(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=$a;je.Fragment=UP;je.Profiler=HP;je.PureComponent=Am;je.StrictMode=$P;je.Suspense=KP;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t1;je.act=o0;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=e0({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=bm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)i0.call(e,c)&&!r0.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:Lu,type:t.type,key:r,ref:o,props:i,_owner:a}};je.createContext=function(t){return t={$$typeof:GP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WP,_context:t},t.Consumer=t};je.createElement=s0;je.createFactory=function(t){var e=s0.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:qP,render:t}};je.isValidElement=km;je.lazy=function(t){return{$$typeof:QP,_payload:{_status:-1,_result:t},_init:e1}};je.memo=function(t,e){return{$$typeof:ZP,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Gc.transition;Gc.transition={};try{t()}finally{Gc.transition=e}};je.unstable_act=o0;je.useCallback=function(t,e){return Tn.current.useCallback(t,e)};je.useContext=function(t){return Tn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};je.useEffect=function(t,e){return Tn.current.useEffect(t,e)};je.useId=function(){return Tn.current.useId()};je.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Tn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};je.useRef=function(t){return Tn.current.useRef(t)};je.useState=function(t){return Tn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Tn.current.useTransition()};je.version="18.3.1";Xw.exports=je;var H=Xw.exports;const gt=Cm(H),n1=Qw({__proto__:null,default:gt},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=H,r1=Symbol.for("react.element"),s1=Symbol.for("react.fragment"),o1=Object.prototype.hasOwnProperty,a1=i1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l1={key:!0,ref:!0,__self:!0,__source:!0};function a0(t,e,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)o1.call(e,i)&&!l1.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:r1,type:t,key:o,ref:a,props:r,_owner:a1.current}}lh.Fragment=s1;lh.jsx=a0;lh.jsxs=a0;Yw.exports=lh;var M=Yw.exports,l0={exports:{}},Xn={},u0={exports:{}},c0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ie){var ee=Y.length;Y.push(ie);e:for(;0<ee;){var ve=ee-1>>>1,we=Y[ve];if(0<r(we,ie))Y[ve]=ie,Y[ee]=we,ee=ve;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ie=Y[0],ee=Y.pop();if(ee!==ie){Y[0]=ee;e:for(var ve=0,we=Y.length,Ie=we>>>1;ve<Ie;){var De=2*(ve+1)-1,Ae=Y[De],ye=De+1,Xe=Y[ye];if(0>r(Ae,ee))ye<we&&0>r(Xe,Ae)?(Y[ve]=Xe,Y[ye]=ee,ve=ye):(Y[ve]=Ae,Y[De]=ee,ve=De);else if(ye<we&&0>r(Xe,ee))Y[ve]=Xe,Y[ye]=ee,ve=ye;else break e}}return ie}function r(Y,ie){var ee=Y.sortIndex-ie.sortIndex;return ee!==0?ee:Y.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],m=1,_=null,y=3,T=!1,R=!1,b=!1,B=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Y){for(var ie=n(f);ie!==null;){if(ie.callback===null)i(f);else if(ie.startTime<=Y)i(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function j(Y){if(b=!1,k(Y),!R)if(n(c)!==null)R=!0,Oe($);else{var ie=n(f);ie!==null&&at(j,ie.startTime-Y)}}function $(Y,ie){R=!1,b&&(b=!1,I(E),E=-1),T=!0;var ee=y;try{for(k(ie),_=n(c);_!==null&&(!(_.expirationTime>ie)||Y&&!N());){var ve=_.callback;if(typeof ve=="function"){_.callback=null,y=_.priorityLevel;var we=ve(_.expirationTime<=ie);ie=t.unstable_now(),typeof we=="function"?_.callback=we:_===n(c)&&i(c),k(ie)}else i(c);_=n(c)}if(_!==null)var Ie=!0;else{var De=n(f);De!==null&&at(j,De.startTime-ie),Ie=!1}return Ie}finally{_=null,y=ee,T=!1}}var K=!1,V=null,E=-1,x=5,C=-1;function N(){return!(t.unstable_now()-C<x)}function F(){if(V!==null){var Y=t.unstable_now();C=Y;var ie=!0;try{ie=V(!0,Y)}finally{ie?O():(K=!1,V=null)}}else K=!1}var O;if(typeof P=="function")O=function(){P(F)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Ne=ue.port2;ue.port1.onmessage=F,O=function(){Ne.postMessage(null)}}else O=function(){B(F,0)};function Oe(Y){V=Y,K||(K=!0,O())}function at(Y,ie){E=B(function(){Y(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){R||T||(R=!0,Oe($))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var ee=y;y=ie;try{return Y()}finally{y=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=y;y=Y;try{return ie()}finally{y=ee}},t.unstable_scheduleCallback=function(Y,ie,ee){var ve=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,Y){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ee+we,Y={id:m++,callback:ie,priorityLevel:Y,startTime:ee,expirationTime:we,sortIndex:-1},ee>ve?(Y.sortIndex=ee,e(f,Y),n(c)===null&&Y===n(f)&&(b?(I(E),E=-1):b=!0,at(j,ee-ve))):(Y.sortIndex=we,e(c,Y),R||T||(R=!0,Oe($))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var ie=y;return function(){var ee=y;y=ie;try{return Y.apply(this,arguments)}finally{y=ee}}}})(c0);u0.exports=c0;var u1=u0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1=H,Yn=u1;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d0=new Set,ru={};function wo(t,e){xa(t,e),xa(t+"Capture",e)}function xa(t,e){for(ru[t]=e,t=0;t<e.length;t++)d0.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=Object.prototype.hasOwnProperty,d1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J_={},ev={};function h1(t){return ep.call(ev,t)?!0:ep.call(J_,t)?!1:d1.test(t)?ev[t]=!0:(J_[t]=!0,!1)}function f1(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p1(t,e,n,i){if(e===null||typeof e>"u"||f1(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lm=/[\-:]([a-z])/g;function Mm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lm,Mm);rn[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lm,Mm);rn[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lm,Mm);rn[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Om(t,e,n,i){var r=rn.hasOwnProperty(e)?rn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p1(e,n,r,i)&&(n=null),i||r===null?h1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Nr=c1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),Nm=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),h0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),p0=Symbol.for("react.offscreen"),tv=Symbol.iterator;function wl(t){return t===null||typeof t!="object"?null:(t=tv&&t[tv]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,af;function Ll(t){if(af===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);af=e&&e[1]||""}return`
`+af+t}var lf=!1;function uf(t,e){if(!t||lf)return"";lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,u=o.length-1;1<=a&&0<=u&&r[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==o[u]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{lf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ll(t):""}function m1(t){switch(t.tag){case 5:return Ll(t.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return t=uf(t.type,!1),t;case 11:return t=uf(t.type.render,!1),t;case 1:return t=uf(t.type,!0),t;default:return""}}function rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ta:return"Fragment";case ea:return"Portal";case tp:return"Profiler";case Nm:return"StrictMode";case np:return"Suspense";case ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f0:return(t.displayName||"Context")+".Consumer";case h0:return(t._context.displayName||"Context")+".Provider";case Dm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:rp(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return rp(t(e))}catch{}}return null}function g1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(e);case 8:return e===Nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _1(t){var e=m0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tc(t){t._valueTracker||(t._valueTracker=_1(t))}function g0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=m0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sp(t,e){var n=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _0(t,e){e=e.checked,e!=null&&Om(t,"checked",e,!1)}function op(t,e){_0(t,e);var n=bs(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ap(t,e.type,n):e.hasOwnProperty("defaultValue")&&ap(t,e.type,bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ap(t,e,n){(e!=="number"||pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ml=Array.isArray;function ma(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+bs(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Ml(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bs(n)}}function v0(t,e){var n=bs(e.value),i=bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function sv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function up(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sc,w0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v1=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(t){v1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$l[e]=$l[t]})});function E0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$l.hasOwnProperty(t)&&$l[t]?(""+e).trim():e+"px"}function T0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=E0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var y1=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(t,e){if(e){if(y1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function dp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=null;function Fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fp=null,ga=null,_a=null;function ov(t){if(t=Nu(t)){if(typeof fp!="function")throw Error(re(280));var e=t.stateNode;e&&(e=fh(e),fp(t.stateNode,t.type,e))}}function S0(t){ga?_a?_a.push(t):_a=[t]:ga=t}function I0(){if(ga){var t=ga,e=_a;if(_a=ga=null,ov(t),e)for(t=0;t<e.length;t++)ov(e[t])}}function P0(t,e){return t(e)}function x0(){}var cf=!1;function C0(t,e,n){if(cf)return t(e,n);cf=!0;try{return P0(t,e,n)}finally{cf=!1,(ga!==null||_a!==null)&&(x0(),I0())}}function ou(t,e){var n=t.stateNode;if(n===null)return null;var i=fh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var pp=!1;if(Cr)try{var El={};Object.defineProperty(El,"passive",{get:function(){pp=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{pp=!1}function w1(t,e,n,i,r,o,a,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Hl=!1,md=null,gd=!1,mp=null,E1={onError:function(t){Hl=!0,md=t}};function T1(t,e,n,i,r,o,a,u,c){Hl=!1,md=null,w1.apply(E1,arguments)}function S1(t,e,n,i,r,o,a,u,c){if(T1.apply(this,arguments),Hl){if(Hl){var f=md;Hl=!1,md=null}else throw Error(re(198));gd||(gd=!0,mp=f)}}function Eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function av(t){if(Eo(t)!==t)throw Error(re(188))}function I1(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return av(r),t;if(o===i)return av(r),e;o=o.sibling}throw Error(re(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(re(189))}}if(n.alternate!==i)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function R0(t){return t=I1(t),t!==null?b0(t):null}function b0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b0(t);if(e!==null)return e;t=t.sibling}return null}var k0=Yn.unstable_scheduleCallback,lv=Yn.unstable_cancelCallback,P1=Yn.unstable_shouldYield,x1=Yn.unstable_requestPaint,Mt=Yn.unstable_now,C1=Yn.unstable_getCurrentPriorityLevel,zm=Yn.unstable_ImmediatePriority,L0=Yn.unstable_UserBlockingPriority,_d=Yn.unstable_NormalPriority,A1=Yn.unstable_LowPriority,M0=Yn.unstable_IdlePriority,uh=null,Ki=null;function R1(t){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(uh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:L1,b1=Math.log,k1=Math.LN2;function L1(t){return t>>>=0,t===0?32:31-(b1(t)/k1|0)|0}var Ic=64,Pc=4194304;function Ol(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vd(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=Ol(u):(o&=a,o!==0&&(i=Ol(o)))}else a=n&~r,a!==0?i=Ol(a):o!==0&&(i=Ol(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ii(e),r=1<<n,i|=t[n],e&=~r;return i}function M1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O1(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ii(o),u=1<<a,c=r[a];c===-1?(!(u&n)||u&i)&&(r[a]=M1(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function O0(){var t=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),t}function df(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ii(e),t[e]=n}function N1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ii(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ii(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var et=0;function N0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D0,jm,V0,F0,z0,_p=!1,xc=[],gs=null,_s=null,vs=null,au=new Map,lu=new Map,ss=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uv(t,e){switch(t){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(e.pointerId)}}function Tl(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Nu(e),e!==null&&jm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function V1(t,e,n,i,r){switch(e){case"focusin":return gs=Tl(gs,t,e,n,i,r),!0;case"dragenter":return _s=Tl(_s,t,e,n,i,r),!0;case"mouseover":return vs=Tl(vs,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return au.set(o,Tl(au.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,lu.set(o,Tl(lu.get(o)||null,t,e,n,i,r)),!0}return!1}function B0(t){var e=Xs(t.target);if(e!==null){var n=Eo(e);if(n!==null){if(e=n.tag,e===13){if(e=A0(n),e!==null){t.blockedOn=e,z0(t.priority,function(){V0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);hp=i,n.target.dispatchEvent(i),hp=null}else return e=Nu(n),e!==null&&jm(e),t.blockedOn=n,!1;e.shift()}return!0}function cv(t,e,n){qc(t)&&n.delete(e)}function F1(){_p=!1,gs!==null&&qc(gs)&&(gs=null),_s!==null&&qc(_s)&&(_s=null),vs!==null&&qc(vs)&&(vs=null),au.forEach(cv),lu.forEach(cv)}function Sl(t,e){t.blockedOn===e&&(t.blockedOn=null,_p||(_p=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,F1)))}function uu(t){function e(r){return Sl(r,t)}if(0<xc.length){Sl(xc[0],t);for(var n=1;n<xc.length;n++){var i=xc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(gs!==null&&Sl(gs,t),_s!==null&&Sl(_s,t),vs!==null&&Sl(vs,t),au.forEach(e),lu.forEach(e),n=0;n<ss.length;n++)i=ss[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ss.length&&(n=ss[0],n.blockedOn===null);)B0(n),n.blockedOn===null&&ss.shift()}var va=Nr.ReactCurrentBatchConfig,yd=!0;function z1(t,e,n,i){var r=et,o=va.transition;va.transition=null;try{et=1,Um(t,e,n,i)}finally{et=r,va.transition=o}}function B1(t,e,n,i){var r=et,o=va.transition;va.transition=null;try{et=4,Um(t,e,n,i)}finally{et=r,va.transition=o}}function Um(t,e,n,i){if(yd){var r=vp(t,e,n,i);if(r===null)Ef(t,e,i,wd,n),uv(t,i);else if(V1(r,t,e,n,i))i.stopPropagation();else if(uv(t,i),e&4&&-1<D1.indexOf(t)){for(;r!==null;){var o=Nu(r);if(o!==null&&D0(o),o=vp(t,e,n,i),o===null&&Ef(t,e,i,wd,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Ef(t,e,i,null,n)}}var wd=null;function vp(t,e,n,i){if(wd=null,t=Fm(i),t=Xs(t),t!==null)if(e=Eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wd=t,null}function j0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C1()){case zm:return 1;case L0:return 4;case _d:case A1:return 16;case M0:return 536870912;default:return 16}default:return 16}}var ds=null,$m=null,Kc=null;function U0(){if(Kc)return Kc;var t,e=$m,n=e.length,i,r="value"in ds?ds.value:ds.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[o-i];i++);return Kc=r.slice(t,1<i?1-i:void 0)}function Zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cc(){return!0}function dv(){return!1}function Jn(t){function e(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cc:dv,this.isPropagationStopped=dv,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hm=Jn(Ha),Ou=St({},Ha,{view:0,detail:0}),j1=Jn(Ou),hf,ff,Il,ch=St({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(hf=t.screenX-Il.screenX,ff=t.screenY-Il.screenY):ff=hf=0,Il=t),hf)},movementY:function(t){return"movementY"in t?t.movementY:ff}}),hv=Jn(ch),U1=St({},ch,{dataTransfer:0}),$1=Jn(U1),H1=St({},Ou,{relatedTarget:0}),pf=Jn(H1),W1=St({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=Jn(W1),q1=St({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K1=Jn(q1),Z1=St({},Ha,{data:0}),fv=Jn(Z1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X1[t])?!!e[t]:!1}function Wm(){return J1}var ex=St({},Ou,{key:function(t){if(t.key){var e=Q1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wm,charCode:function(t){return t.type==="keypress"?Zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tx=Jn(ex),nx=St({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pv=Jn(nx),ix=St({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wm}),rx=Jn(ix),sx=St({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),ox=Jn(sx),ax=St({},ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=Jn(ax),ux=[9,13,27,32],Gm=Cr&&"CompositionEvent"in window,Wl=null;Cr&&"documentMode"in document&&(Wl=document.documentMode);var cx=Cr&&"TextEvent"in window&&!Wl,$0=Cr&&(!Gm||Wl&&8<Wl&&11>=Wl),mv=" ",gv=!1;function H0(t,e){switch(t){case"keyup":return ux.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function dx(t,e){switch(t){case"compositionend":return W0(e);case"keypress":return e.which!==32?null:(gv=!0,mv);case"textInput":return t=e.data,t===mv&&gv?null:t;default:return null}}function hx(t,e){if(na)return t==="compositionend"||!Gm&&H0(t,e)?(t=U0(),Kc=$m=ds=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $0&&e.locale!=="ko"?null:e.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fx[t.type]:e==="textarea"}function G0(t,e,n,i){S0(i),e=Ed(e,"onChange"),0<e.length&&(n=new Hm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Gl=null,cu=null;function px(t){iE(t,0)}function dh(t){var e=sa(t);if(g0(e))return t}function mx(t,e){if(t==="change")return e}var q0=!1;if(Cr){var mf;if(Cr){var gf="oninput"in document;if(!gf){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),gf=typeof vv.oninput=="function"}mf=gf}else mf=!1;q0=mf&&(!document.documentMode||9<document.documentMode)}function yv(){Gl&&(Gl.detachEvent("onpropertychange",K0),cu=Gl=null)}function K0(t){if(t.propertyName==="value"&&dh(cu)){var e=[];G0(e,cu,t,Fm(t)),C0(px,e)}}function gx(t,e,n){t==="focusin"?(yv(),Gl=e,cu=n,Gl.attachEvent("onpropertychange",K0)):t==="focusout"&&yv()}function _x(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dh(cu)}function vx(t,e){if(t==="click")return dh(e)}function yx(t,e){if(t==="input"||t==="change")return dh(e)}function wx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ai=typeof Object.is=="function"?Object.is:wx;function du(t,e){if(Ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ep.call(e,r)||!Ai(t[r],e[r]))return!1}return!0}function wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ev(t,e){var n=wv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wv(n)}}function Z0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q0(){for(var t=window,e=pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pd(t.document)}return e}function qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ex(t){var e=Q0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Z0(n.ownerDocument.documentElement,n)){if(i!==null&&qm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Ev(n,o);var a=Ev(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tx=Cr&&"documentMode"in document&&11>=document.documentMode,ia=null,yp=null,ql=null,wp=!1;function Tv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wp||ia==null||ia!==pd(i)||(i=ia,"selectionStart"in i&&qm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ql&&du(ql,i)||(ql=i,i=Ed(yp,"onSelect"),0<i.length&&(e=new Hm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ia)))}function Ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ra={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},_f={},Y0={};Cr&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function hh(t){if(_f[t])return _f[t];if(!ra[t])return t;var e=ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Y0)return _f[t]=e[n];return t}var X0=hh("animationend"),J0=hh("animationiteration"),eE=hh("animationstart"),tE=hh("transitionend"),nE=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){nE.set(t,e),wo(e,[t])}for(var vf=0;vf<Sv.length;vf++){var yf=Sv[vf],Sx=yf.toLowerCase(),Ix=yf[0].toUpperCase()+yf.slice(1);Ds(Sx,"on"+Ix)}Ds(X0,"onAnimationEnd");Ds(J0,"onAnimationIteration");Ds(eE,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(tE,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Px=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Iv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,S1(i,e,void 0,t),t.currentTarget=null}function iE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&r.isPropagationStopped())break e;Iv(r,u,f),o=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&r.isPropagationStopped())break e;Iv(r,u,f),o=c}}}if(gd)throw t=mp,gd=!1,mp=null,t}function ct(t,e){var n=e[Pp];n===void 0&&(n=e[Pp]=new Set);var i=t+"__bubble";n.has(i)||(rE(e,t,2,!1),n.add(i))}function wf(t,e,n){var i=0;e&&(i|=4),rE(n,t,i,e)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function hu(t){if(!t[Rc]){t[Rc]=!0,d0.forEach(function(n){n!=="selectionchange"&&(Px.has(n)||wf(n,!1,t),wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rc]||(e[Rc]=!0,wf("selectionchange",!1,e))}}function rE(t,e,n,i){switch(j0(e)){case 1:var r=z1;break;case 4:r=B1;break;default:r=Um}n=r.bind(null,e,n,t),r=void 0,!pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ef(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;u!==null;){if(a=Xs(u),a===null)return;if(c=a.tag,c===5||c===6){i=o=a;continue e}u=u.parentNode}}i=i.return}C0(function(){var f=o,m=Fm(n),_=[];e:{var y=nE.get(t);if(y!==void 0){var T=Hm,R=t;switch(t){case"keypress":if(Zc(n)===0)break e;case"keydown":case"keyup":T=tx;break;case"focusin":R="focus",T=pf;break;case"focusout":R="blur",T=pf;break;case"beforeblur":case"afterblur":T=pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=rx;break;case X0:case J0:case eE:T=G1;break;case tE:T=ox;break;case"scroll":T=j1;break;case"wheel":T=lx;break;case"copy":case"cut":case"paste":T=K1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=pv}var b=(e&4)!==0,B=!b&&t==="scroll",I=b?y!==null?y+"Capture":null:y;b=[];for(var P=f,k;P!==null;){k=P;var j=k.stateNode;if(k.tag===5&&j!==null&&(k=j,I!==null&&(j=ou(P,I),j!=null&&b.push(fu(P,j,k)))),B)break;P=P.return}0<b.length&&(y=new T(y,R,null,n,m),_.push({event:y,listeners:b}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",y&&n!==hp&&(R=n.relatedTarget||n.fromElement)&&(Xs(R)||R[Ar]))break e;if((T||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,T?(R=n.relatedTarget||n.toElement,T=f,R=R?Xs(R):null,R!==null&&(B=Eo(R),R!==B||R.tag!==5&&R.tag!==6)&&(R=null)):(T=null,R=f),T!==R)){if(b=hv,j="onMouseLeave",I="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(b=pv,j="onPointerLeave",I="onPointerEnter",P="pointer"),B=T==null?y:sa(T),k=R==null?y:sa(R),y=new b(j,P+"leave",T,n,m),y.target=B,y.relatedTarget=k,j=null,Xs(m)===f&&(b=new b(I,P+"enter",R,n,m),b.target=k,b.relatedTarget=B,j=b),B=j,T&&R)t:{for(b=T,I=R,P=0,k=b;k;k=Zo(k))P++;for(k=0,j=I;j;j=Zo(j))k++;for(;0<P-k;)b=Zo(b),P--;for(;0<k-P;)I=Zo(I),k--;for(;P--;){if(b===I||I!==null&&b===I.alternate)break t;b=Zo(b),I=Zo(I)}b=null}else b=null;T!==null&&Pv(_,y,T,b,!1),R!==null&&B!==null&&Pv(_,B,R,b,!0)}}e:{if(y=f?sa(f):window,T=y.nodeName&&y.nodeName.toLowerCase(),T==="select"||T==="input"&&y.type==="file")var $=mx;else if(_v(y))if(q0)$=yx;else{$=_x;var K=gx}else(T=y.nodeName)&&T.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=vx);if($&&($=$(t,f))){G0(_,$,n,m);break e}K&&K(t,y,f),t==="focusout"&&(K=y._wrapperState)&&K.controlled&&y.type==="number"&&ap(y,"number",y.value)}switch(K=f?sa(f):window,t){case"focusin":(_v(K)||K.contentEditable==="true")&&(ia=K,yp=f,ql=null);break;case"focusout":ql=yp=ia=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,Tv(_,n,m);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":Tv(_,n,m)}var V;if(Gm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else na?H0(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&($0&&n.locale!=="ko"&&(na||E!=="onCompositionStart"?E==="onCompositionEnd"&&na&&(V=U0()):(ds=m,$m="value"in ds?ds.value:ds.textContent,na=!0)),K=Ed(f,E),0<K.length&&(E=new fv(E,t,null,n,m),_.push({event:E,listeners:K}),V?E.data=V:(V=W0(n),V!==null&&(E.data=V)))),(V=cx?dx(t,n):hx(t,n))&&(f=Ed(f,"onBeforeInput"),0<f.length&&(m=new fv("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=V))}iE(_,e)})}function fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ed(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=ou(t,n),o!=null&&i.unshift(fu(t,o,r)),o=ou(t,e),o!=null&&i.push(fu(t,o,r))),t=t.return}return i}function Zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,i,r){for(var o=e._reactName,a=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&f!==null&&(u=f,r?(c=ou(n,o),c!=null&&a.unshift(fu(n,c,u))):r||(c=ou(n,o),c!=null&&a.push(fu(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var xx=/\r\n?/g,Cx=/\u0000|\uFFFD/g;function xv(t){return(typeof t=="string"?t:""+t).replace(xx,`
`).replace(Cx,"")}function bc(t,e,n){if(e=xv(e),xv(t)!==e&&n)throw Error(re(425))}function Td(){}var Ep=null,Tp=null;function Sp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ip=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,Rx=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(bx)}:Ip;function bx(t){setTimeout(function(){throw t})}function Tf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),uu(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);uu(e)}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Av(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),Gi="__reactFiber$"+Wa,pu="__reactProps$"+Wa,Ar="__reactContainer$"+Wa,Pp="__reactEvents$"+Wa,kx="__reactListeners$"+Wa,Lx="__reactHandles$"+Wa;function Xs(t){var e=t[Gi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[Gi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Av(t);t!==null;){if(n=t[Gi])return n;t=Av(t)}return e}t=n,n=t.parentNode}return null}function Nu(t){return t=t[Gi]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function fh(t){return t[pu]||null}var xp=[],oa=-1;function Vs(t){return{current:t}}function ht(t){0>oa||(t.current=xp[oa],xp[oa]=null,oa--)}function lt(t,e){oa++,xp[oa]=t.current,t.current=e}var ks={},fn=Vs(ks),Nn=Vs(!1),oo=ks;function Ca(t,e){var n=t.type.contextTypes;if(!n)return ks;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Dn(t){return t=t.childContextTypes,t!=null}function Sd(){ht(Nn),ht(fn)}function Rv(t,e,n){if(fn.current!==ks)throw Error(re(168));lt(fn,e),lt(Nn,n)}function sE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(re(108,g1(t)||"Unknown",r));return St({},n,i)}function Id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ks,oo=fn.current,lt(fn,t),lt(Nn,Nn.current),!0}function bv(t,e,n){var i=t.stateNode;if(!i)throw Error(re(169));n?(t=sE(t,e,oo),i.__reactInternalMemoizedMergedChildContext=t,ht(Nn),ht(fn),lt(fn,t)):ht(Nn),lt(Nn,n)}var vr=null,ph=!1,Sf=!1;function oE(t){vr===null?vr=[t]:vr.push(t)}function Mx(t){ph=!0,oE(t)}function Fs(){if(!Sf&&vr!==null){Sf=!0;var t=0,e=et;try{var n=vr;for(et=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}vr=null,ph=!1}catch(r){throw vr!==null&&(vr=vr.slice(t+1)),k0(zm,Fs),r}finally{et=e,Sf=!1}}return null}var aa=[],la=0,Pd=null,xd=0,ui=[],ci=0,ao=null,yr=1,wr="";function Ks(t,e){aa[la++]=xd,aa[la++]=Pd,Pd=t,xd=e}function aE(t,e,n){ui[ci++]=yr,ui[ci++]=wr,ui[ci++]=ao,ao=t;var i=yr;t=wr;var r=32-Ii(i)-1;i&=~(1<<r),n+=1;var o=32-Ii(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,yr=1<<32-Ii(e)+r|n<<r|i,wr=o+t}else yr=1<<o|n<<r|i,wr=t}function Km(t){t.return!==null&&(Ks(t,1),aE(t,1,0))}function Zm(t){for(;t===Pd;)Pd=aa[--la],aa[la]=null,xd=aa[--la],aa[la]=null;for(;t===ao;)ao=ui[--ci],ui[ci]=null,wr=ui[--ci],ui[ci]=null,yr=ui[--ci],ui[ci]=null}var Qn=null,Kn=null,_t=!1,Si=null;function lE(t,e){var n=di(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Kn=ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ao!==null?{id:yr,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=di(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,Kn=null,!0):!1;default:return!1}}function Cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(_t){var e=Kn;if(e){var n=e;if(!kv(t,e)){if(Cp(t))throw Error(re(418));e=ys(n.nextSibling);var i=Qn;e&&kv(t,e)?lE(i,n):(t.flags=t.flags&-4097|2,_t=!1,Qn=t)}}else{if(Cp(t))throw Error(re(418));t.flags=t.flags&-4097|2,_t=!1,Qn=t}}}function Lv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function kc(t){if(t!==Qn)return!1;if(!_t)return Lv(t),_t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sp(t.type,t.memoizedProps)),e&&(e=Kn)){if(Cp(t))throw uE(),Error(re(418));for(;e;)lE(t,e),e=ys(e.nextSibling)}if(Lv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Qn?ys(t.stateNode.nextSibling):null;return!0}function uE(){for(var t=Kn;t;)t=ys(t.nextSibling)}function Aa(){Kn=Qn=null,_t=!1}function Qm(t){Si===null?Si=[t]:Si.push(t)}var Ox=Nr.ReactCurrentBatchConfig;function Pl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var i=n.stateNode}if(!i)throw Error(re(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=r.refs;a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Lc(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mv(t){var e=t._init;return e(t._payload)}function cE(t){function e(I,P){if(t){var k=I.deletions;k===null?(I.deletions=[P],I.flags|=16):k.push(P)}}function n(I,P){if(!t)return null;for(;P!==null;)e(I,P),P=P.sibling;return null}function i(I,P){for(I=new Map;P!==null;)P.key!==null?I.set(P.key,P):I.set(P.index,P),P=P.sibling;return I}function r(I,P){return I=Ss(I,P),I.index=0,I.sibling=null,I}function o(I,P,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<P?(I.flags|=2,P):k):(I.flags|=2,P)):(I.flags|=1048576,P)}function a(I){return t&&I.alternate===null&&(I.flags|=2),I}function u(I,P,k,j){return P===null||P.tag!==6?(P=bf(k,I.mode,j),P.return=I,P):(P=r(P,k),P.return=I,P)}function c(I,P,k,j){var $=k.type;return $===ta?m(I,P,k.props.children,j,k.key):P!==null&&(P.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===is&&Mv($)===P.type)?(j=r(P,k.props),j.ref=Pl(I,P,k),j.return=I,j):(j=nd(k.type,k.key,k.props,null,I.mode,j),j.ref=Pl(I,P,k),j.return=I,j)}function f(I,P,k,j){return P===null||P.tag!==4||P.stateNode.containerInfo!==k.containerInfo||P.stateNode.implementation!==k.implementation?(P=kf(k,I.mode,j),P.return=I,P):(P=r(P,k.children||[]),P.return=I,P)}function m(I,P,k,j,$){return P===null||P.tag!==7?(P=ro(k,I.mode,j,$),P.return=I,P):(P=r(P,k),P.return=I,P)}function _(I,P,k){if(typeof P=="string"&&P!==""||typeof P=="number")return P=bf(""+P,I.mode,k),P.return=I,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ec:return k=nd(P.type,P.key,P.props,null,I.mode,k),k.ref=Pl(I,null,P),k.return=I,k;case ea:return P=kf(P,I.mode,k),P.return=I,P;case is:var j=P._init;return _(I,j(P._payload),k)}if(Ml(P)||wl(P))return P=ro(P,I.mode,k,null),P.return=I,P;Lc(I,P)}return null}function y(I,P,k,j){var $=P!==null?P.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return $!==null?null:u(I,P,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ec:return k.key===$?c(I,P,k,j):null;case ea:return k.key===$?f(I,P,k,j):null;case is:return $=k._init,y(I,P,$(k._payload),j)}if(Ml(k)||wl(k))return $!==null?null:m(I,P,k,j,null);Lc(I,k)}return null}function T(I,P,k,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return I=I.get(k)||null,u(P,I,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ec:return I=I.get(j.key===null?k:j.key)||null,c(P,I,j,$);case ea:return I=I.get(j.key===null?k:j.key)||null,f(P,I,j,$);case is:var K=j._init;return T(I,P,k,K(j._payload),$)}if(Ml(j)||wl(j))return I=I.get(k)||null,m(P,I,j,$,null);Lc(P,j)}return null}function R(I,P,k,j){for(var $=null,K=null,V=P,E=P=0,x=null;V!==null&&E<k.length;E++){V.index>E?(x=V,V=null):x=V.sibling;var C=y(I,V,k[E],j);if(C===null){V===null&&(V=x);break}t&&V&&C.alternate===null&&e(I,V),P=o(C,P,E),K===null?$=C:K.sibling=C,K=C,V=x}if(E===k.length)return n(I,V),_t&&Ks(I,E),$;if(V===null){for(;E<k.length;E++)V=_(I,k[E],j),V!==null&&(P=o(V,P,E),K===null?$=V:K.sibling=V,K=V);return _t&&Ks(I,E),$}for(V=i(I,V);E<k.length;E++)x=T(V,I,E,k[E],j),x!==null&&(t&&x.alternate!==null&&V.delete(x.key===null?E:x.key),P=o(x,P,E),K===null?$=x:K.sibling=x,K=x);return t&&V.forEach(function(N){return e(I,N)}),_t&&Ks(I,E),$}function b(I,P,k,j){var $=wl(k);if(typeof $!="function")throw Error(re(150));if(k=$.call(k),k==null)throw Error(re(151));for(var K=$=null,V=P,E=P=0,x=null,C=k.next();V!==null&&!C.done;E++,C=k.next()){V.index>E?(x=V,V=null):x=V.sibling;var N=y(I,V,C.value,j);if(N===null){V===null&&(V=x);break}t&&V&&N.alternate===null&&e(I,V),P=o(N,P,E),K===null?$=N:K.sibling=N,K=N,V=x}if(C.done)return n(I,V),_t&&Ks(I,E),$;if(V===null){for(;!C.done;E++,C=k.next())C=_(I,C.value,j),C!==null&&(P=o(C,P,E),K===null?$=C:K.sibling=C,K=C);return _t&&Ks(I,E),$}for(V=i(I,V);!C.done;E++,C=k.next())C=T(V,I,E,C.value,j),C!==null&&(t&&C.alternate!==null&&V.delete(C.key===null?E:C.key),P=o(C,P,E),K===null?$=C:K.sibling=C,K=C);return t&&V.forEach(function(F){return e(I,F)}),_t&&Ks(I,E),$}function B(I,P,k,j){if(typeof k=="object"&&k!==null&&k.type===ta&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ec:e:{for(var $=k.key,K=P;K!==null;){if(K.key===$){if($=k.type,$===ta){if(K.tag===7){n(I,K.sibling),P=r(K,k.props.children),P.return=I,I=P;break e}}else if(K.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===is&&Mv($)===K.type){n(I,K.sibling),P=r(K,k.props),P.ref=Pl(I,K,k),P.return=I,I=P;break e}n(I,K);break}else e(I,K);K=K.sibling}k.type===ta?(P=ro(k.props.children,I.mode,j,k.key),P.return=I,I=P):(j=nd(k.type,k.key,k.props,null,I.mode,j),j.ref=Pl(I,P,k),j.return=I,I=j)}return a(I);case ea:e:{for(K=k.key;P!==null;){if(P.key===K)if(P.tag===4&&P.stateNode.containerInfo===k.containerInfo&&P.stateNode.implementation===k.implementation){n(I,P.sibling),P=r(P,k.children||[]),P.return=I,I=P;break e}else{n(I,P);break}else e(I,P);P=P.sibling}P=kf(k,I.mode,j),P.return=I,I=P}return a(I);case is:return K=k._init,B(I,P,K(k._payload),j)}if(Ml(k))return R(I,P,k,j);if(wl(k))return b(I,P,k,j);Lc(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,P!==null&&P.tag===6?(n(I,P.sibling),P=r(P,k),P.return=I,I=P):(n(I,P),P=bf(k,I.mode,j),P.return=I,I=P),a(I)):n(I,P)}return B}var Ra=cE(!0),dE=cE(!1),Cd=Vs(null),Ad=null,ua=null,Ym=null;function Xm(){Ym=ua=Ad=null}function Jm(t){var e=Cd.current;ht(Cd),t._currentValue=e}function Rp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){Ad=t,Ym=ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function fi(t){var e=t._currentValue;if(Ym!==t)if(t={context:t,memoizedValue:e,next:null},ua===null){if(Ad===null)throw Error(re(308));ua=t,Ad.dependencies={lanes:0,firstContext:t}}else ua=ua.next=t;return e}var Js=null;function eg(t){Js===null?Js=[t]:Js.push(t)}function hE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,eg(e)):(n.next=r.next,r.next=n),e.interleaved=n,Rr(t,i)}function Rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rs=!1;function tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ws(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ke&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Rr(t,n)}return r=i.interleaved,r===null?(e.next=e,eg(i)):(e.next=r.next,r.next=e),i.interleaved=e,Rr(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Bm(t,n)}}function Ov(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rd(t,e,n,i){var r=t.updateQueue;rs=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,f=c.next;c.next=null,a===null?o=f:a.next=f,a=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==a&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=c))}if(o!==null){var _=r.baseState;a=0,m=f=c=null,u=o;do{var y=u.lane,T=u.eventTime;if((i&y)===y){m!==null&&(m=m.next={eventTime:T,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var R=t,b=u;switch(y=e,T=n,b.tag){case 1:if(R=b.payload,typeof R=="function"){_=R.call(T,_,y);break e}_=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=b.payload,y=typeof R=="function"?R.call(T,_,y):R,y==null)break e;_=St({},_,y);break e;case 2:rs=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=r.effects,y===null?r.effects=[u]:y.push(u))}else T={eventTime:T,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=T,c=_):m=m.next=T,a|=y;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;y=u,u=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);if(m===null&&(c=_),r.baseState=c,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);uo|=a,t.lanes=a,t.memoizedState=_}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(re(191,r));r.call(i)}}}var Du={},Zi=Vs(Du),mu=Vs(Du),gu=Vs(Du);function eo(t){if(t===Du)throw Error(re(174));return t}function ng(t,e){switch(lt(gu,e),lt(mu,t),lt(Zi,Du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:up(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=up(e,t)}ht(Zi),lt(Zi,e)}function ba(){ht(Zi),ht(mu),ht(gu)}function pE(t){eo(gu.current);var e=eo(Zi.current),n=up(e,t.type);e!==n&&(lt(mu,t),lt(Zi,n))}function ig(t){mu.current===t&&(ht(Zi),ht(mu))}var Et=Vs(0);function bd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var If=[];function rg(){for(var t=0;t<If.length;t++)If[t]._workInProgressVersionPrimary=null;If.length=0}var Yc=Nr.ReactCurrentDispatcher,Pf=Nr.ReactCurrentBatchConfig,lo=0,Tt=null,Bt=null,Kt=null,kd=!1,Kl=!1,_u=0,Nx=0;function on(){throw Error(re(321))}function sg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ai(t[n],e[n]))return!1;return!0}function og(t,e,n,i,r,o){if(lo=o,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?zx:Bx,t=n(i,r),Kl){o=0;do{if(Kl=!1,_u=0,25<=o)throw Error(re(301));o+=1,Kt=Bt=null,e.updateQueue=null,Yc.current=jx,t=n(i,r)}while(Kl)}if(Yc.current=Ld,e=Bt!==null&&Bt.next!==null,lo=0,Kt=Bt=Tt=null,kd=!1,e)throw Error(re(300));return t}function ag(){var t=_u!==0;return _u=0,t}function Wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Tt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function pi(){if(Bt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=Kt===null?Tt.memoizedState:Kt.next;if(e!==null)Kt=e,Bt=t;else{if(t===null)throw Error(re(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Kt===null?Tt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function vu(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=pi(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var i=Bt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=a=null,c=null,f=o;do{var m=f.lane;if((lo&m)===m)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=_,a=i):c=c.next=_,Tt.lanes|=m,uo|=m}f=f.next}while(f!==null&&f!==o);c===null?a=i:c.next=u,Ai(i,e.memoizedState)||(On=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Tt.lanes|=o,uo|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cf(t){var e=pi(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);Ai(o,e.memoizedState)||(On=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function mE(){}function gE(t,e){var n=Tt,i=pi(),r=e(),o=!Ai(i.memoizedState,r);if(o&&(i.memoizedState=r,On=!0),i=i.queue,lg(yE.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,yu(9,vE.bind(null,n,i,r,e),void 0,null),Zt===null)throw Error(re(349));lo&30||_E(n,e,r)}return r}function _E(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vE(t,e,n,i){e.value=n,e.getSnapshot=i,wE(e)&&EE(t)}function yE(t,e,n){return n(function(){wE(e)&&EE(t)})}function wE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ai(t,n)}catch{return!0}}function EE(t){var e=Rr(t,1);e!==null&&Pi(e,t,1,-1)}function Dv(t){var e=Wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:t},e.queue=t,t=t.dispatch=Fx.bind(null,Tt,t),[e.memoizedState,t]}function yu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function TE(){return pi().memoizedState}function Xc(t,e,n,i){var r=Wi();Tt.flags|=t,r.memoizedState=yu(1|e,n,void 0,i===void 0?null:i)}function mh(t,e,n,i){var r=pi();i=i===void 0?null:i;var o=void 0;if(Bt!==null){var a=Bt.memoizedState;if(o=a.destroy,i!==null&&sg(i,a.deps)){r.memoizedState=yu(e,n,o,i);return}}Tt.flags|=t,r.memoizedState=yu(1|e,n,o,i)}function Vv(t,e){return Xc(8390656,8,t,e)}function lg(t,e){return mh(2048,8,t,e)}function SE(t,e){return mh(4,2,t,e)}function IE(t,e){return mh(4,4,t,e)}function PE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xE(t,e,n){return n=n!=null?n.concat([t]):null,mh(4,4,PE.bind(null,e,t),n)}function ug(){}function CE(t,e){var n=pi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&sg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function AE(t,e){var n=pi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&sg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function RE(t,e,n){return lo&21?(Ai(n,e)||(n=O0(),Tt.lanes|=n,uo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function Dx(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var i=Pf.transition;Pf.transition={};try{t(!1),e()}finally{et=n,Pf.transition=i}}function bE(){return pi().memoizedState}function Vx(t,e,n){var i=Ts(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},kE(t))LE(e,n);else if(n=hE(t,e,n,i),n!==null){var r=En();Pi(n,t,i,r),ME(n,e,i)}}function Fx(t,e,n){var i=Ts(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(kE(t))LE(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(r.hasEagerState=!0,r.eagerState=u,Ai(u,a)){var c=e.interleaved;c===null?(r.next=r,eg(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=hE(t,e,r,i),n!==null&&(r=En(),Pi(n,t,i,r),ME(n,e,i))}}function kE(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function LE(t,e){Kl=kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ME(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Bm(t,n)}}var Ld={readContext:fi,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},zx={readContext:fi,useCallback:function(t,e){return Wi().memoizedState=[t,e===void 0?null:e],t},useContext:fi,useEffect:Vv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,PE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=Wi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Wi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Vx.bind(null,Tt,t),[i.memoizedState,t]},useRef:function(t){var e=Wi();return t={current:t},e.memoizedState=t},useState:Dv,useDebugValue:ug,useDeferredValue:function(t){return Wi().memoizedState=t},useTransition:function(){var t=Dv(!1),e=t[0];return t=Dx.bind(null,t[1]),Wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Tt,r=Wi();if(_t){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),Zt===null)throw Error(re(349));lo&30||_E(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Vv(yE.bind(null,i,o,t),[t]),i.flags|=2048,yu(9,vE.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Wi(),e=Zt.identifierPrefix;if(_t){var n=wr,i=yr;n=(i&~(1<<32-Ii(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=_u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bx={readContext:fi,useCallback:CE,useContext:fi,useEffect:lg,useImperativeHandle:xE,useInsertionEffect:SE,useLayoutEffect:IE,useMemo:AE,useReducer:xf,useRef:TE,useState:function(){return xf(vu)},useDebugValue:ug,useDeferredValue:function(t){var e=pi();return RE(e,Bt.memoizedState,t)},useTransition:function(){var t=xf(vu)[0],e=pi().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:bE,unstable_isNewReconciler:!1},jx={readContext:fi,useCallback:CE,useContext:fi,useEffect:lg,useImperativeHandle:xE,useInsertionEffect:SE,useLayoutEffect:IE,useMemo:AE,useReducer:Cf,useRef:TE,useState:function(){return Cf(vu)},useDebugValue:ug,useDeferredValue:function(t){var e=pi();return Bt===null?e.memoizedState=t:RE(e,Bt.memoizedState,t)},useTransition:function(){var t=Cf(vu)[0],e=pi().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:bE,unstable_isNewReconciler:!1};function wi(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gh={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=En(),r=Ts(t),o=Pr(i,r);o.payload=e,n!=null&&(o.callback=n),e=ws(t,o,r),e!==null&&(Pi(e,t,r,i),Qc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=En(),r=Ts(t),o=Pr(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ws(t,o,r),e!==null&&(Pi(e,t,r,i),Qc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),i=Ts(t),r=Pr(n,i);r.tag=2,e!=null&&(r.callback=e),e=ws(t,r,i),e!==null&&(Pi(e,t,i,n),Qc(e,t,i))}};function Fv(t,e,n,i,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!du(n,i)||!du(r,o):!0}function OE(t,e,n){var i=!1,r=ks,o=e.contextType;return typeof o=="object"&&o!==null?o=fi(o):(r=Dn(e)?oo:fn.current,i=e.contextTypes,o=(i=i!=null)?Ca(t,r):ks),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function zv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&gh.enqueueReplaceState(e,e.state,null)}function kp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},tg(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=fi(o):(o=Dn(e)?oo:fn.current,r.context=Ca(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bp(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&gh.enqueueReplaceState(r,r.state,null),Rd(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ka(t,e){try{var n="",i=e;do n+=m1(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function NE(t,e,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Od||(Od=!0,Up=i),Lp(t,e)},n}function DE(t,e,n){n=Pr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Lp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Lp(t,e),typeof i!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Bv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Ux;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=nC.bind(null,t,e,n),e.then(t,t))}function jv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pr(-1,1),e.tag=2,ws(n,e,1))),n.lanes|=1),t)}var $x=Nr.ReactCurrentOwner,On=!1;function wn(t,e,n,i){e.child=t===null?dE(e,null,n,i):Ra(e,t.child,n,i)}function $v(t,e,n,i,r){n=n.render;var o=e.ref;return ya(e,r),i=og(t,e,n,i,o,r),n=ag(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,br(t,e,r)):(_t&&n&&Km(e),e.flags|=1,wn(t,e,i,r),e.child)}function Hv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!_g(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,VE(t,e,o,i,r)):(t=nd(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:du,n(a,i)&&t.ref===e.ref)return br(t,e,r)}return e.flags|=1,t=Ss(o,i),t.ref=e.ref,t.return=e,e.child=t}function VE(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(du(o,i)&&t.ref===e.ref)if(On=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,br(t,e,r)}return Mp(t,e,n,i,r)}function FE(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(da,Wn),Wn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(da,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,lt(da,Wn),Wn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,lt(da,Wn),Wn|=i;return wn(t,e,r,n),e.child}function zE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mp(t,e,n,i,r){var o=Dn(n)?oo:fn.current;return o=Ca(e,o),ya(e,r),n=og(t,e,n,i,o,r),i=ag(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,br(t,e,r)):(_t&&i&&Km(e),e.flags|=1,wn(t,e,n,r),e.child)}function Wv(t,e,n,i,r){if(Dn(n)){var o=!0;Id(e)}else o=!1;if(ya(e,r),e.stateNode===null)Jc(t,e),OE(e,n,i),kp(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=fi(f):(f=Dn(n)?oo:fn.current,f=Ca(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||c!==f)&&zv(e,a,i,f),rs=!1;var y=e.memoizedState;a.state=y,Rd(e,i,a,r),c=e.memoizedState,u!==i||y!==c||Nn.current||rs?(typeof m=="function"&&(bp(e,n,m,i),c=e.memoizedState),(u=rs||Fv(e,n,u,i,y,c,f))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=f,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,fE(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:wi(e.type,u),a.props=f,_=e.pendingProps,y=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=fi(c):(c=Dn(n)?oo:fn.current,c=Ca(e,c));var T=n.getDerivedStateFromProps;(m=typeof T=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==_||y!==c)&&zv(e,a,i,c),rs=!1,y=e.memoizedState,a.state=y,Rd(e,i,a,r);var R=e.memoizedState;u!==_||y!==R||Nn.current||rs?(typeof T=="function"&&(bp(e,n,T,i),R=e.memoizedState),(f=rs||Fv(e,n,f,i,y,R,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,R,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,R,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=R),a.props=i,a.state=R,a.context=c,i=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),i=!1)}return Op(t,e,n,i,o,r)}function Op(t,e,n,i,r,o){zE(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&bv(e,n,!1),br(t,e,o);i=e.stateNode,$x.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Ra(e,t.child,null,o),e.child=Ra(e,null,u,o)):wn(t,e,u,o),e.memoizedState=i.state,r&&bv(e,n,!0),e.child}function BE(t){var e=t.stateNode;e.pendingContext?Rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rv(t,e.context,!1),ng(t,e.containerInfo)}function Gv(t,e,n,i,r){return Aa(),Qm(r),e.flags|=256,wn(t,e,n,i),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function jE(t,e,n){var i=e.pendingProps,r=Et.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),lt(Et,r&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=yh(a,i,0,null),t=ro(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Dp(n),e.memoizedState=Np,t):cg(e,a));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Hx(t,e,a,i,u,r,n);if(o){o=i.fallback,a=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Ss(r,c),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=Ss(u,o):(o=ro(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Dp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Np,i}return o=t.child,t=o.sibling,i=Ss(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function cg(t,e){return e=yh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mc(t,e,n,i){return i!==null&&Qm(i),Ra(e,t.child,null,n),t=cg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hx(t,e,n,i,r,o,a){if(n)return e.flags&256?(e.flags&=-257,i=Af(Error(re(422))),Mc(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=yh({mode:"visible",children:i.children},r,0,null),o=ro(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Ra(e,t.child,null,a),e.child.memoizedState=Dp(a),e.memoizedState=Np,o);if(!(e.mode&1))return Mc(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(re(419)),i=Af(o,i,void 0),Mc(t,e,a,i)}if(u=(a&t.childLanes)!==0,On||u){if(i=Zt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Rr(t,r),Pi(i,t,r,-1))}return gg(),i=Af(Error(re(421))),Mc(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=iC.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Kn=ys(r.nextSibling),Qn=e,_t=!0,Si=null,t!==null&&(ui[ci++]=yr,ui[ci++]=wr,ui[ci++]=ao,yr=t.id,wr=t.overflow,ao=e),e=cg(e,i.children),e.flags|=4096,e)}function qv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Rp(t.return,e,n)}function Rf(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function UE(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(wn(t,e,i.children,n),i=Et.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qv(t,n,e);else if(t.tag===19)qv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(lt(Et,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&bd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Rf(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&bd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Rf(e,!0,n,null,o);break;case"together":Rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wx(t,e,n){switch(e.tag){case 3:BE(e),Aa();break;case 5:pE(e);break;case 1:Dn(e.type)&&Id(e);break;case 4:ng(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;lt(Cd,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(lt(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?jE(t,e,n):(lt(Et,Et.current&1),t=br(t,e,n),t!==null?t.sibling:null);lt(Et,Et.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return UE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),lt(Et,Et.current),i)break;return null;case 22:case 23:return e.lanes=0,FE(t,e,n)}return br(t,e,n)}var $E,Vp,HE,WE;$E=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vp=function(){};HE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,eo(Zi.current);var o=null;switch(n){case"input":r=sp(t,r),i=sp(t,i),o=[];break;case"select":r=St({},r,{value:void 0}),i=St({},i,{value:void 0}),o=[];break;case"textarea":r=lp(t,r),i=lp(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Td)}cp(n,i);var a;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ru.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var c=i[f];if(u=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ru.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ct("scroll",t),o||u===c||(o=[])):(o=o||[]).push(f,c))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};WE=function(t,e,n,i){n!==i&&(e.flags|=4)};function xl(t,e){if(!_t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Gx(t,e,n){var i=e.pendingProps;switch(Zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Dn(e.type)&&Sd(),an(e),null;case 3:return i=e.stateNode,ba(),ht(Nn),ht(fn),rg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Si!==null&&(Wp(Si),Si=null))),Vp(t,e),an(e),null;case 5:ig(e);var r=eo(gu.current);if(n=e.type,t!==null&&e.stateNode!=null)HE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(re(166));return an(e),null}if(t=eo(Zi.current),kc(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Gi]=e,i[pu]=o,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(r=0;r<Nl.length;r++)ct(Nl[r],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":nv(i,o),ct("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ct("invalid",i);break;case"textarea":rv(i,o),ct("invalid",i)}cp(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&bc(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&bc(i.textContent,u,t),r=["children",""+u]):ru.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&ct("scroll",i)}switch(n){case"input":Tc(i),iv(i,o,!0);break;case"textarea":Tc(i),sv(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Td)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Gi]=e,t[pu]=i,$E(t,e,!1,!1),e.stateNode=t;e:{switch(a=dp(n,i),n){case"dialog":ct("cancel",t),ct("close",t),r=i;break;case"iframe":case"object":case"embed":ct("load",t),r=i;break;case"video":case"audio":for(r=0;r<Nl.length;r++)ct(Nl[r],t);r=i;break;case"source":ct("error",t),r=i;break;case"img":case"image":case"link":ct("error",t),ct("load",t),r=i;break;case"details":ct("toggle",t),r=i;break;case"input":nv(t,i),r=sp(t,i),ct("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=St({},i,{value:void 0}),ct("invalid",t);break;case"textarea":rv(t,i),r=lp(t,i),ct("invalid",t);break;default:r=i}cp(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?T0(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&w0(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&su(t,c):typeof c=="number"&&su(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ru.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ct("scroll",t):c!=null&&Om(t,o,c,a))}switch(n){case"input":Tc(t),iv(t,i,!1);break;case"textarea":Tc(t),sv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+bs(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?ma(t,!!i.multiple,o,!1):i.defaultValue!=null&&ma(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Td)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)WE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(re(166));if(n=eo(gu.current),eo(Zi.current),kc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Gi]=e,(o=i.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:bc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bc(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Gi]=e,e.stateNode=i}return an(e),null;case 13:if(ht(Et),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_t&&Kn!==null&&e.mode&1&&!(e.flags&128))uE(),Aa(),e.flags|=98560,o=!1;else if(o=kc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[Gi]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else Si!==null&&(Wp(Si),Si=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?jt===0&&(jt=3):gg())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return ba(),Vp(t,e),t===null&&hu(e.stateNode.containerInfo),an(e),null;case 10:return Jm(e.type._context),an(e),null;case 17:return Dn(e.type)&&Sd(),an(e),null;case 19:if(ht(Et),o=e.memoizedState,o===null)return an(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)xl(o,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=bd(t),a!==null){for(e.flags|=128,xl(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(Et,Et.current&1|2),e.child}t=t.sibling}o.tail!==null&&Mt()>La&&(e.flags|=128,i=!0,xl(o,!1),e.lanes=4194304)}else{if(!i)if(t=bd(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!_t)return an(e),null}else 2*Mt()-o.renderingStartTime>La&&n!==1073741824&&(e.flags|=128,i=!0,xl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Mt(),e.sibling=null,n=Et.current,lt(Et,i?n&1|2:n&1),e):(an(e),null);case 22:case 23:return mg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Wn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function qx(t,e){switch(Zm(e),e.tag){case 1:return Dn(e.type)&&Sd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ba(),ht(Nn),ht(fn),rg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ig(e),null;case 13:if(ht(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(Et),null;case 4:return ba(),null;case 10:return Jm(e.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var Oc=!1,cn=!1,Kx=typeof WeakSet=="function"?WeakSet:Set,de=null;function ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){At(t,e,i)}else n.current=null}function Fp(t,e,n){try{n()}catch(i){At(t,e,i)}}var Kv=!1;function Zx(t,e){if(Ep=yd,t=Q0(),qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,f=0,m=0,_=t,y=null;t:for(;;){for(var T;_!==n||r!==0&&_.nodeType!==3||(u=a+r),_!==o||i!==0&&_.nodeType!==3||(c=a+i),_.nodeType===3&&(a+=_.nodeValue.length),(T=_.firstChild)!==null;)y=_,_=T;for(;;){if(_===t)break t;if(y===n&&++f===r&&(u=a),y===o&&++m===i&&(c=a),(T=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=T}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:t,selectionRange:n},yd=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var b=R.memoizedProps,B=R.memoizedState,I=e.stateNode,P=I.getSnapshotBeforeUpdate(e.elementType===e.type?b:wi(e.type,b),B);I.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(j){At(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return R=Kv,Kv=!1,R}function Zl(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Fp(e,n,o)}r=r.next}while(r!==i)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GE(t){var e=t.alternate;e!==null&&(t.alternate=null,GE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gi],delete e[pu],delete e[Pp],delete e[kx],delete e[Lx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qE(t){return t.tag===5||t.tag===3||t.tag===4}function Zv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Td));else if(i!==4&&(t=t.child,t!==null))for(Bp(t,e,n),t=t.sibling;t!==null;)Bp(t,e,n),t=t.sibling}function jp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(jp(t,e,n),t=t.sibling;t!==null;)jp(t,e,n),t=t.sibling}var Xt=null,Ei=!1;function es(t,e,n){for(n=n.child;n!==null;)KE(t,e,n),n=n.sibling}function KE(t,e,n){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:cn||ca(n,e);case 6:var i=Xt,r=Ei;Xt=null,es(t,e,n),Xt=i,Ei=r,Xt!==null&&(Ei?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Ei?(t=Xt,n=n.stateNode,t.nodeType===8?Tf(t.parentNode,n):t.nodeType===1&&Tf(t,n),uu(t)):Tf(Xt,n.stateNode));break;case 4:i=Xt,r=Ei,Xt=n.stateNode.containerInfo,Ei=!0,es(t,e,n),Xt=i,Ei=r;break;case 0:case 11:case 14:case 15:if(!cn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Fp(n,e,a),r=r.next}while(r!==i)}es(t,e,n);break;case 1:if(!cn&&(ca(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){At(n,e,u)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(cn=(i=cn)||n.memoizedState!==null,es(t,e,n),cn=i):es(t,e,n);break;default:es(t,e,n)}}function Qv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Kx),e.forEach(function(i){var r=rC.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function yi(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Xt=u.stateNode,Ei=!1;break e;case 3:Xt=u.stateNode.containerInfo,Ei=!0;break e;case 4:Xt=u.stateNode.containerInfo,Ei=!0;break e}u=u.return}if(Xt===null)throw Error(re(160));KE(o,a,r),Xt=null,Ei=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(f){At(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZE(e,t),e=e.sibling}function ZE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yi(e,t),Hi(t),i&4){try{Zl(3,t,t.return),_h(3,t)}catch(b){At(t,t.return,b)}try{Zl(5,t,t.return)}catch(b){At(t,t.return,b)}}break;case 1:yi(e,t),Hi(t),i&512&&n!==null&&ca(n,n.return);break;case 5:if(yi(e,t),Hi(t),i&512&&n!==null&&ca(n,n.return),t.flags&32){var r=t.stateNode;try{su(r,"")}catch(b){At(t,t.return,b)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&_0(r,o),dp(u,a);var f=dp(u,o);for(a=0;a<c.length;a+=2){var m=c[a],_=c[a+1];m==="style"?T0(r,_):m==="dangerouslySetInnerHTML"?w0(r,_):m==="children"?su(r,_):Om(r,m,_,f)}switch(u){case"input":op(r,o);break;case"textarea":v0(r,o);break;case"select":var y=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var T=o.value;T!=null?ma(r,!!o.multiple,T,!1):y!==!!o.multiple&&(o.defaultValue!=null?ma(r,!!o.multiple,o.defaultValue,!0):ma(r,!!o.multiple,o.multiple?[]:"",!1))}r[pu]=o}catch(b){At(t,t.return,b)}}break;case 6:if(yi(e,t),Hi(t),i&4){if(t.stateNode===null)throw Error(re(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(b){At(t,t.return,b)}}break;case 3:if(yi(e,t),Hi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{uu(e.containerInfo)}catch(b){At(t,t.return,b)}break;case 4:yi(e,t),Hi(t);break;case 13:yi(e,t),Hi(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(fg=Mt())),i&4&&Qv(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(f=cn)||m,yi(e,t),cn=f):yi(e,t),Hi(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(de=t,m=t.child;m!==null;){for(_=de=m;de!==null;){switch(y=de,T=y.child,y.tag){case 0:case 11:case 14:case 15:Zl(4,y,y.return);break;case 1:ca(y,y.return);var R=y.stateNode;if(typeof R.componentWillUnmount=="function"){i=y,n=y.return;try{e=i,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(b){At(i,n,b)}}break;case 5:ca(y,y.return);break;case 22:if(y.memoizedState!==null){Xv(_);continue}}T!==null?(T.return=y,de=T):Xv(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{r=_.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=_.stateNode,c=_.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=E0("display",a))}catch(b){At(t,t.return,b)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(b){At(t,t.return,b)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:yi(e,t),Hi(t),i&4&&Qv(t);break;case 21:break;default:yi(e,t),Hi(t)}}function Hi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qE(n)){var i=n;break e}n=n.return}throw Error(re(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(su(r,""),i.flags&=-33);var o=Zv(t);jp(t,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=Zv(t);Bp(t,u,a);break;default:throw Error(re(161))}}catch(c){At(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qx(t,e,n){de=t,QE(t)}function QE(t,e,n){for(var i=(t.mode&1)!==0;de!==null;){var r=de,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Oc;if(!a){var u=r.alternate,c=u!==null&&u.memoizedState!==null||cn;u=Oc;var f=cn;if(Oc=a,(cn=c)&&!f)for(de=r;de!==null;)a=de,c=a.child,a.tag===22&&a.memoizedState!==null?Jv(r):c!==null?(c.return=a,de=c):Jv(r);for(;o!==null;)de=o,QE(o),o=o.sibling;de=r,Oc=u,cn=f}Yv(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,de=o):Yv(t)}}function Yv(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||_h(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!cn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:wi(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Nv(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&uu(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}cn||e.flags&512&&zp(e)}catch(y){At(e,e.return,y)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function Xv(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function Jv(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(c){At(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){At(e,r,c)}}var o=e.return;try{zp(e)}catch(c){At(e,o,c)}break;case 5:var a=e.return;try{zp(e)}catch(c){At(e,a,c)}}}catch(c){At(e,e.return,c)}if(e===t){de=null;break}var u=e.sibling;if(u!==null){u.return=e.return,de=u;break}de=e.return}}var Yx=Math.ceil,Md=Nr.ReactCurrentDispatcher,dg=Nr.ReactCurrentOwner,hi=Nr.ReactCurrentBatchConfig,Ke=0,Zt=null,Ft=null,tn=0,Wn=0,da=Vs(0),jt=0,wu=null,uo=0,vh=0,hg=0,Ql=null,Ln=null,fg=0,La=1/0,_r=null,Od=!1,Up=null,Es=null,Nc=!1,hs=null,Nd=0,Yl=0,$p=null,ed=-1,td=0;function En(){return Ke&6?Mt():ed!==-1?ed:ed=Mt()}function Ts(t){return t.mode&1?Ke&2&&tn!==0?tn&-tn:Ox.transition!==null?(td===0&&(td=O0()),td):(t=et,t!==0||(t=window.event,t=t===void 0?16:j0(t.type)),t):1}function Pi(t,e,n,i){if(50<Yl)throw Yl=0,$p=null,Error(re(185));Mu(t,n,i),(!(Ke&2)||t!==Zt)&&(t===Zt&&(!(Ke&2)&&(vh|=n),jt===4&&os(t,tn)),Vn(t,i),n===1&&Ke===0&&!(e.mode&1)&&(La=Mt()+500,ph&&Fs()))}function Vn(t,e){var n=t.callbackNode;O1(t,e);var i=vd(t,t===Zt?tn:0);if(i===0)n!==null&&lv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&lv(n),e===1)t.tag===0?Mx(ey.bind(null,t)):oE(ey.bind(null,t)),Rx(function(){!(Ke&6)&&Fs()}),n=null;else{switch(N0(i)){case 1:n=zm;break;case 4:n=L0;break;case 16:n=_d;break;case 536870912:n=M0;break;default:n=_d}n=rT(n,YE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YE(t,e){if(ed=-1,td=0,Ke&6)throw Error(re(327));var n=t.callbackNode;if(wa()&&t.callbackNode!==n)return null;var i=vd(t,t===Zt?tn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Dd(t,i);else{e=i;var r=Ke;Ke|=2;var o=JE();(Zt!==t||tn!==e)&&(_r=null,La=Mt()+500,io(t,e));do try{eC();break}catch(u){XE(t,u)}while(!0);Xm(),Md.current=o,Ke=r,Ft!==null?e=0:(Zt=null,tn=0,e=jt)}if(e!==0){if(e===2&&(r=gp(t),r!==0&&(i=r,e=Hp(t,r))),e===1)throw n=wu,io(t,0),os(t,i),Vn(t,Mt()),n;if(e===6)os(t,i);else{if(r=t.current.alternate,!(i&30)&&!Xx(r)&&(e=Dd(t,i),e===2&&(o=gp(t),o!==0&&(i=o,e=Hp(t,o))),e===1))throw n=wu,io(t,0),os(t,i),Vn(t,Mt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(re(345));case 2:Zs(t,Ln,_r);break;case 3:if(os(t,i),(i&130023424)===i&&(e=fg+500-Mt(),10<e)){if(vd(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){En(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ip(Zs.bind(null,t,Ln,_r),e);break}Zs(t,Ln,_r);break;case 4:if(os(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-Ii(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=Mt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Yx(i/1960))-i,10<i){t.timeoutHandle=Ip(Zs.bind(null,t,Ln,_r),i);break}Zs(t,Ln,_r);break;case 5:Zs(t,Ln,_r);break;default:throw Error(re(329))}}}return Vn(t,Mt()),t.callbackNode===n?YE.bind(null,t):null}function Hp(t,e){var n=Ql;return t.current.memoizedState.isDehydrated&&(io(t,e).flags|=256),t=Dd(t,e),t!==2&&(e=Ln,Ln=n,e!==null&&Wp(e)),t}function Wp(t){Ln===null?Ln=t:Ln.push.apply(Ln,t)}function Xx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Ai(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function os(t,e){for(e&=~hg,e&=~vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ii(e),i=1<<n;t[n]=-1,e&=~i}}function ey(t){if(Ke&6)throw Error(re(327));wa();var e=vd(t,0);if(!(e&1))return Vn(t,Mt()),null;var n=Dd(t,e);if(t.tag!==0&&n===2){var i=gp(t);i!==0&&(e=i,n=Hp(t,i))}if(n===1)throw n=wu,io(t,0),os(t,e),Vn(t,Mt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zs(t,Ln,_r),Vn(t,Mt()),null}function pg(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(La=Mt()+500,ph&&Fs())}}function co(t){hs!==null&&hs.tag===0&&!(Ke&6)&&wa();var e=Ke;Ke|=1;var n=hi.transition,i=et;try{if(hi.transition=null,et=1,t)return t()}finally{et=i,hi.transition=n,Ke=e,!(Ke&6)&&Fs()}}function mg(){Wn=da.current,ht(da)}function io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ax(n)),Ft!==null)for(n=Ft.return;n!==null;){var i=n;switch(Zm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Sd();break;case 3:ba(),ht(Nn),ht(fn),rg();break;case 5:ig(i);break;case 4:ba();break;case 13:ht(Et);break;case 19:ht(Et);break;case 10:Jm(i.type._context);break;case 22:case 23:mg()}n=n.return}if(Zt=t,Ft=t=Ss(t.current,null),tn=Wn=e,jt=0,wu=null,hg=vh=uo=0,Ln=Ql=null,Js!==null){for(e=0;e<Js.length;e++)if(n=Js[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}Js=null}return t}function XE(t,e){do{var n=Ft;try{if(Xm(),Yc.current=Ld,kd){for(var i=Tt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}kd=!1}if(lo=0,Kt=Bt=Tt=null,Kl=!1,_u=0,dg.current=null,n===null||n.return===null){jt=1,wu=e,Ft=null;break}e:{var o=t,a=n.return,u=n,c=e;if(e=tn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,m=u,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var T=jv(a);if(T!==null){T.flags&=-257,Uv(T,a,u,o,e),T.mode&1&&Bv(o,f,e),e=T,c=f;var R=e.updateQueue;if(R===null){var b=new Set;b.add(c),e.updateQueue=b}else R.add(c);break e}else{if(!(e&1)){Bv(o,f,e),gg();break e}c=Error(re(426))}}else if(_t&&u.mode&1){var B=jv(a);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Uv(B,a,u,o,e),Qm(ka(c,u));break e}}o=c=ka(c,u),jt!==4&&(jt=2),Ql===null?Ql=[o]:Ql.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=NE(o,c,e);Ov(o,I);break e;case 1:u=c;var P=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Es===null||!Es.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var j=DE(o,u,e);Ov(o,j);break e}}o=o.return}while(o!==null)}tT(n)}catch($){e=$,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function JE(){var t=Md.current;return Md.current=Ld,t===null?Ld:t}function gg(){(jt===0||jt===3||jt===2)&&(jt=4),Zt===null||!(uo&268435455)&&!(vh&268435455)||os(Zt,tn)}function Dd(t,e){var n=Ke;Ke|=2;var i=JE();(Zt!==t||tn!==e)&&(_r=null,io(t,e));do try{Jx();break}catch(r){XE(t,r)}while(!0);if(Xm(),Ke=n,Md.current=i,Ft!==null)throw Error(re(261));return Zt=null,tn=0,jt}function Jx(){for(;Ft!==null;)eT(Ft)}function eC(){for(;Ft!==null&&!P1();)eT(Ft)}function eT(t){var e=iT(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?tT(t):Ft=e,dg.current=null}function tT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qx(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,Ft=null;return}}else if(n=Gx(n,e,Wn),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);jt===0&&(jt=5)}function Zs(t,e,n){var i=et,r=hi.transition;try{hi.transition=null,et=1,tC(t,e,n,i)}finally{hi.transition=r,et=i}return null}function tC(t,e,n,i){do wa();while(hs!==null);if(Ke&6)throw Error(re(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(N1(t,o),t===Zt&&(Ft=Zt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nc||(Nc=!0,rT(_d,function(){return wa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hi.transition,hi.transition=null;var a=et;et=1;var u=Ke;Ke|=4,dg.current=null,Zx(t,n),ZE(n,t),Ex(Tp),yd=!!Ep,Tp=Ep=null,t.current=n,Qx(n),x1(),Ke=u,et=a,hi.transition=o}else t.current=n;if(Nc&&(Nc=!1,hs=t,Nd=r),o=t.pendingLanes,o===0&&(Es=null),R1(n.stateNode),Vn(t,Mt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Od)throw Od=!1,t=Up,Up=null,t;return Nd&1&&t.tag!==0&&wa(),o=t.pendingLanes,o&1?t===$p?Yl++:(Yl=0,$p=t):Yl=0,Fs(),null}function wa(){if(hs!==null){var t=N0(Nd),e=hi.transition,n=et;try{if(hi.transition=null,et=16>t?16:t,hs===null)var i=!1;else{if(t=hs,hs=null,Nd=0,Ke&6)throw Error(re(331));var r=Ke;for(Ke|=4,de=t.current;de!==null;){var o=de,a=o.child;if(de.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(de=f;de!==null;){var m=de;switch(m.tag){case 0:case 11:case 15:Zl(8,m,o)}var _=m.child;if(_!==null)_.return=m,de=_;else for(;de!==null;){m=de;var y=m.sibling,T=m.return;if(GE(m),m===f){de=null;break}if(y!==null){y.return=T,de=y;break}de=T}}}var R=o.alternate;if(R!==null){var b=R.child;if(b!==null){R.child=null;do{var B=b.sibling;b.sibling=null,b=B}while(b!==null)}}de=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,de=a;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zl(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,de=I;break e}de=o.return}}var P=t.current;for(de=P;de!==null;){a=de;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,de=k;else e:for(a=P;de!==null;){if(u=de,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:_h(9,u)}}catch($){At(u,u.return,$)}if(u===a){de=null;break e}var j=u.sibling;if(j!==null){j.return=u.return,de=j;break e}de=u.return}}if(Ke=r,Fs(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(uh,t)}catch{}i=!0}return i}finally{et=n,hi.transition=e}}return!1}function ty(t,e,n){e=ka(n,e),e=NE(t,e,1),t=ws(t,e,1),e=En(),t!==null&&(Mu(t,1,e),Vn(t,e))}function At(t,e,n){if(t.tag===3)ty(t,t,n);else for(;e!==null;){if(e.tag===3){ty(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Es===null||!Es.has(i))){t=ka(n,t),t=DE(e,t,1),e=ws(e,t,1),t=En(),e!==null&&(Mu(e,1,t),Vn(e,t));break}}e=e.return}}function nC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(tn&n)===n&&(jt===4||jt===3&&(tn&130023424)===tn&&500>Mt()-fg?io(t,0):hg|=n),Vn(t,e)}function nT(t,e){e===0&&(t.mode&1?(e=Pc,Pc<<=1,!(Pc&130023424)&&(Pc=4194304)):e=1);var n=En();t=Rr(t,e),t!==null&&(Mu(t,e,n),Vn(t,n))}function iC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nT(t,n)}function rC(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(re(314))}i!==null&&i.delete(e),nT(t,n)}var iT;iT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,Wx(t,e,n);On=!!(t.flags&131072)}else On=!1,_t&&e.flags&1048576&&aE(e,xd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Jc(t,e),t=e.pendingProps;var r=Ca(e,fn.current);ya(e,n),r=og(null,e,i,t,r,n);var o=ag();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(i)?(o=!0,Id(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,tg(e),r.updater=gh,e.stateNode=r,r._reactInternals=e,kp(e,i,t,n),e=Op(null,e,i,!0,o,n)):(e.tag=0,_t&&o&&Km(e),wn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=oC(i),t=wi(i,t),r){case 0:e=Mp(null,e,i,t,n);break e;case 1:e=Wv(null,e,i,t,n);break e;case 11:e=$v(null,e,i,t,n);break e;case 14:e=Hv(null,e,i,wi(i.type,t),n);break e}throw Error(re(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:wi(i,r),Mp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:wi(i,r),Wv(t,e,i,r,n);case 3:e:{if(BE(e),t===null)throw Error(re(387));i=e.pendingProps,o=e.memoizedState,r=o.element,fE(t,e),Rd(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=ka(Error(re(423)),e),e=Gv(t,e,i,n,r);break e}else if(i!==r){r=ka(Error(re(424)),e),e=Gv(t,e,i,n,r);break e}else for(Kn=ys(e.stateNode.containerInfo.firstChild),Qn=e,_t=!0,Si=null,n=dE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Aa(),i===r){e=br(t,e,n);break e}wn(t,e,i,n)}e=e.child}return e;case 5:return pE(e),t===null&&Ap(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,Sp(i,r)?a=null:o!==null&&Sp(i,o)&&(e.flags|=32),zE(t,e),wn(t,e,a,n),e.child;case 6:return t===null&&Ap(e),null;case 13:return jE(t,e,n);case 4:return ng(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ra(e,null,i,n):wn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:wi(i,r),$v(t,e,i,r,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,lt(Cd,i._currentValue),i._currentValue=a,o!==null)if(Ai(o.value,a)){if(o.children===r.children&&!Nn.current){e=br(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=Pr(-1,n&-n),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?c.next=c:(c.next=m.next,m.next=c),f.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Rp(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(re(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Rp(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}wn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ya(e,n),r=fi(r),i=i(r),e.flags|=1,wn(t,e,i,n),e.child;case 14:return i=e.type,r=wi(i,e.pendingProps),r=wi(i.type,r),Hv(t,e,i,r,n);case 15:return VE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:wi(i,r),Jc(t,e),e.tag=1,Dn(i)?(t=!0,Id(e)):t=!1,ya(e,n),OE(e,i,r),kp(e,i,r,n),Op(null,e,i,!0,t,n);case 19:return UE(t,e,n);case 22:return FE(t,e,n)}throw Error(re(156,e.tag))};function rT(t,e){return k0(t,e)}function sC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(t,e,n,i){return new sC(t,e,n,i)}function _g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oC(t){if(typeof t=="function")return _g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dm)return 11;if(t===Vm)return 14}return 2}function Ss(t,e){var n=t.alternate;return n===null?(n=di(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nd(t,e,n,i,r,o){var a=2;if(i=t,typeof t=="function")_g(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ta:return ro(n.children,r,o,e);case Nm:a=8,r|=8;break;case tp:return t=di(12,n,e,r|2),t.elementType=tp,t.lanes=o,t;case np:return t=di(13,n,e,r),t.elementType=np,t.lanes=o,t;case ip:return t=di(19,n,e,r),t.elementType=ip,t.lanes=o,t;case p0:return yh(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case h0:a=10;break e;case f0:a=9;break e;case Dm:a=11;break e;case Vm:a=14;break e;case is:a=16,i=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=di(a,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function ro(t,e,n,i){return t=di(7,t,i,e),t.lanes=n,t}function yh(t,e,n,i){return t=di(22,t,i,e),t.elementType=p0,t.lanes=n,t.stateNode={isHidden:!1},t}function bf(t,e,n){return t=di(6,t,null,e),t.lanes=n,t}function kf(t,e,n){return e=di(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aC(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function vg(t,e,n,i,r,o,a,u,c){return t=new aC(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=di(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(o),t}function lC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function sT(t){if(!t)return ks;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(Dn(n))return sE(t,n,e)}return e}function oT(t,e,n,i,r,o,a,u,c){return t=vg(n,i,!0,t,r,o,a,u,c),t.context=sT(null),n=t.current,i=En(),r=Ts(n),o=Pr(i,r),o.callback=e??null,ws(n,o,r),t.current.lanes=r,Mu(t,r,i),Vn(t,i),t}function wh(t,e,n,i){var r=e.current,o=En(),a=Ts(r);return n=sT(n),e.context===null?e.context=n:e.pendingContext=n,e=Pr(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ws(r,e,a),t!==null&&(Pi(t,r,a,o),Qc(t,r,a)),a}function Vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ny(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yg(t,e){ny(t,e),(t=t.alternate)&&ny(t,e)}function uC(){return null}var aT=typeof reportError=="function"?reportError:function(t){console.error(t)};function wg(t){this._internalRoot=t}Eh.prototype.render=wg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));wh(t,e,null,null)};Eh.prototype.unmount=wg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;co(function(){wh(null,t,null,null)}),e[Ar]=null}};function Eh(t){this._internalRoot=t}Eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=F0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ss.length&&e!==0&&e<ss[n].priority;n++);ss.splice(n,0,t),n===0&&B0(t)}};function Eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iy(){}function cC(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Vd(a);o.call(f)}}var a=oT(e,i,t,0,null,!1,!1,"",iy);return t._reactRootContainer=a,t[Ar]=a.current,hu(t.nodeType===8?t.parentNode:t),co(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var f=Vd(c);u.call(f)}}var c=vg(t,0,!1,null,null,!1,!1,"",iy);return t._reactRootContainer=c,t[Ar]=c.current,hu(t.nodeType===8?t.parentNode:t),co(function(){wh(e,c,n,i)}),c}function Sh(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var u=r;r=function(){var c=Vd(a);u.call(c)}}wh(e,a,t,r)}else a=cC(n,e,t,r,i);return Vd(a)}D0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ol(e.pendingLanes);n!==0&&(Bm(e,n|1),Vn(e,Mt()),!(Ke&6)&&(La=Mt()+500,Fs()))}break;case 13:co(function(){var i=Rr(t,1);if(i!==null){var r=En();Pi(i,t,1,r)}}),yg(t,1)}};jm=function(t){if(t.tag===13){var e=Rr(t,134217728);if(e!==null){var n=En();Pi(e,t,134217728,n)}yg(t,134217728)}};V0=function(t){if(t.tag===13){var e=Ts(t),n=Rr(t,e);if(n!==null){var i=En();Pi(n,t,e,i)}yg(t,e)}};F0=function(){return et};z0=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};fp=function(t,e,n){switch(e){case"input":if(op(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=fh(i);if(!r)throw Error(re(90));g0(i),op(i,r)}}}break;case"textarea":v0(t,n);break;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}};P0=pg;x0=co;var dC={usingClientEntryPoint:!1,Events:[Nu,sa,fh,S0,I0,pg]},Cl={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hC={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R0(t),t===null?null:t.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||uC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{uh=Dc.inject(hC),Ki=Dc}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dC;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eg(e))throw Error(re(200));return lC(t,e,null,n)};Xn.createRoot=function(t,e){if(!Eg(t))throw Error(re(299));var n=!1,i="",r=aT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=vg(t,1,!1,null,null,n,!1,i,r),t[Ar]=e.current,hu(t.nodeType===8?t.parentNode:t),new wg(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=R0(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return co(t)};Xn.hydrate=function(t,e,n){if(!Th(e))throw Error(re(200));return Sh(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!Eg(t))throw Error(re(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=aT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=oT(e,null,t,1,n??null,r,!1,o,a),t[Ar]=e.current,hu(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Eh(e)};Xn.render=function(t,e,n){if(!Th(e))throw Error(re(200));return Sh(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Th(t))throw Error(re(40));return t._reactRootContainer?(co(function(){Sh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};Xn.unstable_batchedUpdates=pg;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Th(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Sh(t,e,n,!1,i)};Xn.version="18.3.1-next-f1338f8080-20240426";function lT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lT)}catch(t){console.error(t)}}lT(),l0.exports=Xn;var Ih=l0.exports;const fC=Cm(Ih),pC=Qw({__proto__:null,default:fC},[Ih]);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wt(){return wt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wt.apply(this,arguments)}var Vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vt||(Vt={}));const ry="popstate";function mC(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:a,hash:u}=i.location;return Eu("",{pathname:o,search:a,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Vu(r)}return _C(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ma(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gC(){return Math.random().toString(36).substr(2,8)}function sy(t,e){return{usr:t.state,key:t.key,idx:e}}function Eu(t,e,n,i){return n===void 0&&(n=null),wt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zs(e):e,{state:n,key:e&&e.key||i||gC()})}function Vu(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function zs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function _C(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,u=Vt.Pop,c=null,f=m();f==null&&(f=0,a.replaceState(wt({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function _(){u=Vt.Pop;let B=m(),I=B==null?null:B-f;f=B,c&&c({action:u,location:b.location,delta:I})}function y(B,I){u=Vt.Push;let P=Eu(b.location,B,I);f=m()+1;let k=sy(P,f),j=b.createHref(P);try{a.pushState(k,"",j)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(j)}o&&c&&c({action:u,location:b.location,delta:1})}function T(B,I){u=Vt.Replace;let P=Eu(b.location,B,I);f=m();let k=sy(P,f),j=b.createHref(P);a.replaceState(k,"",j),o&&c&&c({action:u,location:b.location,delta:0})}function R(B){let I=r.location.origin!=="null"?r.location.origin:r.location.href,P=typeof B=="string"?B:Vu(B);return P=P.replace(/ $/,"%20"),Ue(I,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,I)}let b={get action(){return u},get location(){return t(r,a)},listen(B){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(ry,_),c=B,()=>{r.removeEventListener(ry,_),c=null}},createHref(B){return e(r,B)},createURL:R,encodeLocation(B){let I=R(B);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:y,replace:T,go(B){return a.go(B)}};return b}var st;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(st||(st={}));const vC=new Set(["lazy","caseSensitive","path","id","index","children"]);function yC(t){return t.index===!0}function Tu(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,o)=>{let a=[...n,String(o)],u=typeof r.id=="string"?r.id:a.join("-");if(Ue(r.index!==!0||!r.children,"Cannot specify children on an index route"),Ue(!i[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),yC(r)){let c=wt({},r,e(r),{id:u});return i[u]=c,c}else{let c=wt({},r,e(r),{id:u,children:void 0});return i[u]=c,r.children&&(c.children=Tu(r.children,e,a,i)),c}})}function Ys(t,e,n){return n===void 0&&(n="/"),id(t,e,n,!1)}function id(t,e,n,i){let r=typeof e=="string"?zs(e):e,o=Fu(r.pathname||"/",n);if(o==null)return null;let a=uT(t);EC(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=LC(o);u=bC(a[c],f,i)}return u}function wC(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function uT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let f=Is([i,c.relativePath]),m=n.concat(c);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),uT(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:AC(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,a);else for(let c of cT(o.path))r(o,a,c)}),e}function cT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=cT(i.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),r&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function EC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const TC=/^:[\w-]+$/,SC=3,IC=2,PC=1,xC=10,CC=-2,oy=t=>t==="*";function AC(t,e){let n=t.split("/"),i=n.length;return n.some(oy)&&(i+=CC),e&&(i+=IC),n.filter(r=>!oy(r)).reduce((r,o)=>r+(TC.test(o)?SC:o===""?PC:xC),i)}function RC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function bC(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,r={},o="/",a=[];for(let u=0;u<i.length;++u){let c=i[u],f=u===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",_=ay({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},m),y=c.route;if(!_&&f&&n&&!i[i.length-1].route.index&&(_=ay({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!_)return null;Object.assign(r,_.params),a.push({params:r,pathname:Is([o,_.pathname]),pathnameBase:NC(Is([o,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(o=Is([o,_.pathnameBase]))}return a}function ay(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=kC(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,m,_)=>{let{paramName:y,isOptional:T}=m;if(y==="*"){let b=u[_]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const R=u[_];return T&&!R?f[y]=void 0:f[y]=(R||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function kC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ma(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function LC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ma(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function MC(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?zs(t):t;return{pathname:n?n.startsWith("/")?n:OC(n,e):e,search:DC(i),hash:VC(r)}}function OC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Lf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hT(t,e){let n=dT(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function fT(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=zs(t):(r=wt({},t),Ue(!r.pathname||!r.pathname.includes("?"),Lf("?","pathname","search",r)),Ue(!r.pathname||!r.pathname.includes("#"),Lf("#","pathname","hash",r)),Ue(!r.search||!r.search.includes("#"),Lf("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,u;if(a==null)u=n;else{let _=e.length-1;if(!i&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),_-=1;r.pathname=y.join("/")}u=_>=0?e[_]:"/"}let c=MC(r,u),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||m)&&(c.pathname+="/"),c}const Is=t=>t.join("/").replace(/\/\/+/g,"/"),NC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Fd{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Ph(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pT=["post","put","patch","delete"],FC=new Set(pT),zC=["get",...pT],BC=new Set(zC),jC=new Set([301,302,303,307,308]),UC=new Set([307,308]),Mf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$C={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Al={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HC=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),mT="remix-router-transitions";function WC(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;Ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;r=U=>({hasErrorBoundary:D(U)})}else r=HC;let o={},a=Tu(t.routes,r,void 0,o),u,c=t.basename||"/",f=t.unstable_dataStrategy||YC,m=t.unstable_patchRoutesOnNavigation,_=wt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),y=null,T=new Set,R=1e3,b=new Set,B=null,I=null,P=null,k=t.hydrationData!=null,j=Ys(a,t.history.location,c),$=null;if(j==null&&!m){let D=yn(404,{pathname:t.history.location.pathname}),{matches:U,route:q}=gy(a);j=U,$={[q.id]:D}}j&&!t.hydrationData&&xt(j,a,t.history.location.pathname).active&&(j=null);let K;if(j)if(j.some(D=>D.route.lazy))K=!1;else if(!j.some(D=>D.route.loader))K=!0;else if(_.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null,q=X=>X.route.loader?typeof X.route.loader=="function"&&X.route.loader.hydrate===!0?!1:D&&D[X.route.id]!==void 0||U&&U[X.route.id]!==void 0:!0;if(U){let X=j.findIndex(le=>U[le.route.id]!==void 0);K=j.slice(0,X+1).every(q)}else K=j.every(q)}else K=t.hydrationData!=null;else if(K=!1,j=[],_.v7_partialHydration){let D=xt(null,a,t.history.location.pathname);D.active&&D.matches&&(j=D.matches)}let V,E={historyAction:t.history.action,location:t.history.location,matches:j,initialized:K,navigation:Mf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||$,fetchers:new Map,blockers:new Map},x=Vt.Pop,C=!1,N,F=!1,O=new Map,ue=null,Ne=!1,Oe=!1,at=[],Y=new Set,ie=new Map,ee=0,ve=-1,we=new Map,Ie=new Set,De=new Map,Ae=new Map,ye=new Set,Xe=new Map,Pt=new Map,xo=new Map,Fn;function ki(){if(y=t.history.listen(D=>{let{action:U,location:q,delta:X}=D;if(Fn){Fn(),Fn=void 0;return}Ma(Pt.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=ir({currentLocation:E.location,nextLocation:q,historyAction:U});if(le&&X!=null){let ge=new Promise(Te=>{Fn=Te});t.history.go(X*-1),Bn(le,{state:"blocked",location:q,proceed(){Bn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),ge.then(()=>t.history.go(X))},reset(){let Te=new Map(E.blockers);Te.set(le,Al),Rt({blockers:Te})}});return}return In(U,q)}),n){hA(e,O);let D=()=>fA(e,O);e.addEventListener("pagehide",D),ue=()=>e.removeEventListener("pagehide",D)}return E.initialized||In(Vt.Pop,E.location,{initialHydration:!0}),V}function mi(){y&&y(),ue&&ue(),T.clear(),N&&N.abort(),E.fetchers.forEach((D,U)=>Oi(U)),E.blockers.forEach((D,U)=>Hr(U))}function tr(D){return T.add(D),()=>T.delete(D)}function Rt(D,U){U===void 0&&(U={}),E=wt({},E,D);let q=[],X=[];_.v7_fetcherPersist&&E.fetchers.forEach((le,ge)=>{le.state==="idle"&&(ye.has(ge)?X.push(ge):q.push(ge))}),[...T].forEach(le=>le(E,{deletedFetchers:X,unstable_viewTransitionOpts:U.viewTransitionOpts,unstable_flushSync:U.flushSync===!0})),_.v7_fetcherPersist&&(q.forEach(le=>E.fetchers.delete(le)),X.forEach(le=>Oi(le)))}function zn(D,U,q){var X,le;let{flushSync:ge}=q===void 0?{}:q,Te=E.actionData!=null&&E.navigation.formMethod!=null&&Ti(E.navigation.formMethod)&&E.navigation.state==="loading"&&((X=D.state)==null?void 0:X._isRedirect)!==!0,se;U.actionData?Object.keys(U.actionData).length>0?se=U.actionData:se=null:Te?se=E.actionData:se=null;let pe=U.loaderData?py(E.loaderData,U.loaderData,U.matches||[],U.errors):E.loaderData,fe=E.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((He,Ye)=>fe.set(Ye,Al)));let me=C===!0||E.navigation.formMethod!=null&&Ti(E.navigation.formMethod)&&((le=D.state)==null?void 0:le._isRedirect)!==!0;u&&(a=u,u=void 0),Ne||x===Vt.Pop||(x===Vt.Push?t.history.push(D,D.state):x===Vt.Replace&&t.history.replace(D,D.state));let ze;if(x===Vt.Pop){let He=O.get(E.location.pathname);He&&He.has(D.pathname)?ze={currentLocation:E.location,nextLocation:D}:O.has(D.pathname)&&(ze={currentLocation:D,nextLocation:E.location})}else if(F){let He=O.get(E.location.pathname);He?He.add(D.pathname):(He=new Set([D.pathname]),O.set(E.location.pathname,He)),ze={currentLocation:E.location,nextLocation:D}}Rt(wt({},U,{actionData:se,loaderData:pe,historyAction:x,location:D,initialized:!0,navigation:Mf,revalidation:"idle",restoreScrollPosition:or(D,U.matches||E.matches),preventScrollReset:me,blockers:fe}),{viewTransitionOpts:ze,flushSync:ge===!0}),x=Vt.Pop,C=!1,F=!1,Ne=!1,Oe=!1,at=[]}async function Fr(D,U){if(typeof D=="number"){t.history.go(D);return}let q=Gp(E.location,E.matches,c,_.v7_prependBasename,D,_.v7_relativeSplatPath,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:X,submission:le,error:ge}=ly(_.v7_normalizeFormMethod,!1,q,U),Te=E.location,se=Eu(E.location,X,U&&U.state);se=wt({},se,t.history.encodeLocation(se));let pe=U&&U.replace!=null?U.replace:void 0,fe=Vt.Push;pe===!0?fe=Vt.Replace:pe===!1||le!=null&&Ti(le.formMethod)&&le.formAction===E.location.pathname+E.location.search&&(fe=Vt.Replace);let me=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,ze=(U&&U.unstable_flushSync)===!0,He=ir({currentLocation:Te,nextLocation:se,historyAction:fe});if(He){Bn(He,{state:"blocked",location:se,proceed(){Bn(He,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Fr(D,U)},reset(){let Ye=new Map(E.blockers);Ye.set(He,Al),Rt({blockers:Ye})}});return}return await In(fe,se,{submission:le,pendingError:ge,preventScrollReset:me,replace:U&&U.replace,enableViewTransition:U&&U.unstable_viewTransition,flushSync:ze})}function $s(){if(jr(),Rt({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){In(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}In(x||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:F===!0})}}async function In(D,U,q){N&&N.abort(),N=null,x=D,Ne=(q&&q.startUninterruptedRevalidation)===!0,sr(E.location,E.matches),C=(q&&q.preventScrollReset)===!0,F=(q&&q.enableViewTransition)===!0;let X=u||a,le=q&&q.overrideNavigation,ge=Ys(X,U,c),Te=(q&&q.flushSync)===!0,se=xt(ge,X,U.pathname);if(se.active&&se.matches&&(ge=se.matches),!ge){let{error:Ve,notFoundMatches:ut,route:ot}=rr(U.pathname);zn(U,{matches:ut,loaderData:{},errors:{[ot.id]:Ve}},{flushSync:Te});return}if(E.initialized&&!Oe&&iA(E.location,U)&&!(q&&q.submission&&Ti(q.submission.formMethod))){zn(U,{matches:ge},{flushSync:Te});return}N=new AbortController;let pe=Qo(t.history,U,N.signal,q&&q.submission),fe;if(q&&q.pendingError)fe=[ha(ge).route.id,{type:st.error,error:q.pendingError}];else if(q&&q.submission&&Ti(q.submission.formMethod)){let Ve=await Co(pe,U,q.submission,ge,se.active,{replace:q.replace,flushSync:Te});if(Ve.shortCircuited)return;if(Ve.pendingActionResult){let[ut,ot]=Ve.pendingActionResult;if(Gn(ot)&&Ph(ot.error)&&ot.error.status===404){N=null,zn(U,{matches:Ve.matches,loaderData:{},errors:{[ut]:ot.error}});return}}ge=Ve.matches||ge,fe=Ve.pendingActionResult,le=Of(U,q.submission),Te=!1,se.active=!1,pe=Qo(t.history,pe.url,pe.signal)}let{shortCircuited:me,matches:ze,loaderData:He,errors:Ye}=await zr(pe,U,ge,se.active,le,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,Te,fe);me||(N=null,zn(U,wt({matches:ze||ge},my(fe),{loaderData:He,errors:Ye})))}async function Co(D,U,q,X,le,ge){ge===void 0&&(ge={}),jr();let Te=cA(U,q);if(Rt({navigation:Te},{flushSync:ge.flushSync===!0}),le){let fe=await ar(X,U.pathname,D.signal);if(fe.type==="aborted")return{shortCircuited:!0};if(fe.type==="error"){let{boundaryId:me,error:ze}=Cn(U.pathname,fe);return{matches:fe.partialMatches,pendingActionResult:[me,{type:st.error,error:ze}]}}else if(fe.matches)X=fe.matches;else{let{notFoundMatches:me,error:ze,route:He}=rr(U.pathname);return{matches:me,pendingActionResult:[He.id,{type:st.error,error:ze}]}}}let se,pe=Dl(X,U);if(!pe.route.action&&!pe.route.lazy)se={type:st.error,error:yn(405,{method:D.method,pathname:U.pathname,routeId:pe.route.id})};else if(se=(await ft("action",E,D,[pe],X,null))[pe.route.id],D.signal.aborted)return{shortCircuited:!0};if(to(se)){let fe;return ge&&ge.replace!=null?fe=ge.replace:fe=dy(se.response.headers.get("Location"),new URL(D.url),c)===E.location.pathname+E.location.search,await nt(D,se,!0,{submission:q,replace:fe}),{shortCircuited:!0}}if(fs(se))throw yn(400,{type:"defer-action"});if(Gn(se)){let fe=ha(X,pe.route.id);return(ge&&ge.replace)!==!0&&(x=Vt.Push),{matches:X,pendingActionResult:[fe.route.id,se]}}return{matches:X,pendingActionResult:[pe.route.id,se]}}async function zr(D,U,q,X,le,ge,Te,se,pe,fe,me){let ze=le||Of(U,ge),He=ge||Te||vy(ze),Ye=!Ne&&(!_.v7_partialHydration||!pe);if(X){if(Ye){let Se=nr(me);Rt(wt({navigation:ze},Se!==void 0?{actionData:Se}:{}),{flushSync:fe})}let ae=await ar(q,U.pathname,D.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:Se,error:bt}=Cn(U.pathname,ae);return{matches:ae.partialMatches,loaderData:{},errors:{[Se]:bt}}}else if(ae.matches)q=ae.matches;else{let{error:Se,notFoundMatches:bt,route:Ze}=rr(U.pathname);return{matches:bt,loaderData:{},errors:{[Ze.id]:Se}}}}let Ve=u||a,[ut,ot]=uy(t.history,E,q,He,U,_.v7_partialHydration&&pe===!0,_.v7_skipActionErrorRevalidation,Oe,at,Y,ye,De,Ie,Ve,c,me);if(Wr(ae=>!(q&&q.some(Se=>Se.route.id===ae))||ut&&ut.some(Se=>Se.route.id===ae)),ve=++ee,ut.length===0&&ot.length===0){let ae=Ni();return zn(U,wt({matches:q,loaderData:{},errors:me&&Gn(me[1])?{[me[0]]:me[1].error}:null},my(me),ae?{fetchers:new Map(E.fetchers)}:{}),{flushSync:fe}),{shortCircuited:!0}}if(Ye){let ae={};if(!X){ae.navigation=ze;let Se=nr(me);Se!==void 0&&(ae.actionData=Se)}ot.length>0&&(ae.fetchers=Ao(ot)),Rt(ae,{flushSync:fe})}ot.forEach(ae=>{ie.has(ae.key)&&mn(ae.key),ae.controller&&ie.set(ae.key,ae.controller)});let Vi=()=>ot.forEach(ae=>mn(ae.key));N&&N.signal.addEventListener("abort",Vi);let{loaderResults:gn,fetcherResults:Rn}=await Li(E,q,ut,ot,D);if(D.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Vi),ot.forEach(ae=>ie.delete(ae.key));let $t=Vc(gn);if($t)return await nt(D,$t.result,!0,{replace:se}),{shortCircuited:!0};if($t=Vc(Rn),$t)return Ie.add($t.key),await nt(D,$t.result,!0,{replace:se}),{shortCircuited:!0};let{loaderData:ti,errors:Yt}=fy(E,q,ut,gn,me,ot,Rn,Xe);Xe.forEach((ae,Se)=>{ae.subscribe(bt=>{(bt||ae.done)&&Xe.delete(Se)})}),_.v7_partialHydration&&pe&&E.errors&&Object.entries(E.errors).filter(ae=>{let[Se]=ae;return!ut.some(bt=>bt.route.id===Se)}).forEach(ae=>{let[Se,bt]=ae;Yt=Object.assign(Yt||{},{[Se]:bt})});let Fi=Ni(),zi=$r(ve),jn=Fi||zi||ot.length>0;return wt({matches:q,loaderData:ti,errors:Yt},jn?{fetchers:new Map(E.fetchers)}:{})}function nr(D){if(D&&!Gn(D[1]))return{[D[0]]:D[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function Ao(D){return D.forEach(U=>{let q=E.fetchers.get(U.key),X=Rl(void 0,q?q.data:void 0);E.fetchers.set(U.key,X)}),new Map(E.fetchers)}function Br(D,U,q,X){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ie.has(D)&&mn(D);let le=(X&&X.unstable_flushSync)===!0,ge=u||a,Te=Gp(E.location,E.matches,c,_.v7_prependBasename,q,_.v7_relativeSplatPath,U,X==null?void 0:X.relative),se=Ys(ge,Te,c),pe=xt(se,ge,Te);if(pe.active&&pe.matches&&(se=pe.matches),!se){xn(D,U,yn(404,{pathname:Te}),{flushSync:le});return}let{path:fe,submission:me,error:ze}=ly(_.v7_normalizeFormMethod,!0,Te,X);if(ze){xn(D,U,ze,{flushSync:le});return}let He=Dl(se,fe);if(C=(X&&X.preventScrollReset)===!0,me&&Ti(me.formMethod)){Hs(D,U,fe,He,se,pe.active,le,me);return}De.set(D,{routeId:U,path:fe}),Ro(D,U,fe,He,se,pe.active,le,me)}async function Hs(D,U,q,X,le,ge,Te,se){jr(),De.delete(D);function pe(Ze){if(!Ze.route.action&&!Ze.route.lazy){let Ht=yn(405,{method:se.formMethod,pathname:q,routeId:U});return xn(D,U,Ht,{flushSync:Te}),!0}return!1}if(!ge&&pe(X))return;let fe=E.fetchers.get(D);Pn(D,dA(se,fe),{flushSync:Te});let me=new AbortController,ze=Qo(t.history,q,me.signal,se);if(ge){let Ze=await ar(le,q,ze.signal);if(Ze.type==="aborted")return;if(Ze.type==="error"){let{error:Ht}=Cn(q,Ze);xn(D,U,Ht,{flushSync:Te});return}else if(Ze.matches){if(le=Ze.matches,X=Dl(le,q),pe(X))return}else{xn(D,U,yn(404,{pathname:q}),{flushSync:Te});return}}ie.set(D,me);let He=ee,Ve=(await ft("action",E,ze,[X],le,D))[X.route.id];if(ze.signal.aborted){ie.get(D)===me&&ie.delete(D);return}if(_.v7_fetcherPersist&&ye.has(D)){if(to(Ve)||Gn(Ve)){Pn(D,ns(void 0));return}}else{if(to(Ve))if(ie.delete(D),ve>He){Pn(D,ns(void 0));return}else return Ie.add(D),Pn(D,Rl(se)),nt(ze,Ve,!1,{fetcherSubmission:se});if(Gn(Ve)){xn(D,U,Ve.error);return}}if(fs(Ve))throw yn(400,{type:"defer-action"});let ut=E.navigation.location||E.location,ot=Qo(t.history,ut,me.signal),Vi=u||a,gn=E.navigation.state!=="idle"?Ys(Vi,E.navigation.location,c):E.matches;Ue(gn,"Didn't find any matches after fetcher action");let Rn=++ee;we.set(D,Rn);let $t=Rl(se,Ve.data);E.fetchers.set(D,$t);let[ti,Yt]=uy(t.history,E,gn,se,ut,!1,_.v7_skipActionErrorRevalidation,Oe,at,Y,ye,De,Ie,Vi,c,[X.route.id,Ve]);Yt.filter(Ze=>Ze.key!==D).forEach(Ze=>{let Ht=Ze.key,qr=E.fetchers.get(Ht),ke=Rl(void 0,qr?qr.data:void 0);E.fetchers.set(Ht,ke),ie.has(Ht)&&mn(Ht),Ze.controller&&ie.set(Ht,Ze.controller)}),Rt({fetchers:new Map(E.fetchers)});let Fi=()=>Yt.forEach(Ze=>mn(Ze.key));me.signal.addEventListener("abort",Fi);let{loaderResults:zi,fetcherResults:jn}=await Li(E,gn,ti,Yt,ot);if(me.signal.aborted)return;me.signal.removeEventListener("abort",Fi),we.delete(D),ie.delete(D),Yt.forEach(Ze=>ie.delete(Ze.key));let ae=Vc(zi);if(ae)return nt(ot,ae.result,!1);if(ae=Vc(jn),ae)return Ie.add(ae.key),nt(ot,ae.result,!1);let{loaderData:Se,errors:bt}=fy(E,gn,ti,zi,void 0,Yt,jn,Xe);if(E.fetchers.has(D)){let Ze=ns(Ve.data);E.fetchers.set(D,Ze)}$r(Rn),E.navigation.state==="loading"&&Rn>ve?(Ue(x,"Expected pending action"),N&&N.abort(),zn(E.navigation.location,{matches:gn,loaderData:Se,errors:bt,fetchers:new Map(E.fetchers)})):(Rt({errors:bt,loaderData:py(E.loaderData,Se,gn,bt),fetchers:new Map(E.fetchers)}),Oe=!1)}async function Ro(D,U,q,X,le,ge,Te,se){let pe=E.fetchers.get(D);Pn(D,Rl(se,pe?pe.data:void 0),{flushSync:Te});let fe=new AbortController,me=Qo(t.history,q,fe.signal);if(ge){let Ve=await ar(le,q,me.signal);if(Ve.type==="aborted")return;if(Ve.type==="error"){let{error:ut}=Cn(q,Ve);xn(D,U,ut,{flushSync:Te});return}else if(Ve.matches)le=Ve.matches,X=Dl(le,q);else{xn(D,U,yn(404,{pathname:q}),{flushSync:Te});return}}ie.set(D,fe);let ze=ee,Ye=(await ft("loader",E,me,[X],le,D))[X.route.id];if(fs(Ye)&&(Ye=await Sg(Ye,me.signal,!0)||Ye),ie.get(D)===fe&&ie.delete(D),!me.signal.aborted){if(ye.has(D)){Pn(D,ns(void 0));return}if(to(Ye))if(ve>ze){Pn(D,ns(void 0));return}else{Ie.add(D),await nt(me,Ye,!1);return}if(Gn(Ye)){xn(D,U,Ye.error);return}Ue(!fs(Ye),"Unhandled fetcher deferred data"),Pn(D,ns(Ye.data))}}async function nt(D,U,q,X){let{submission:le,fetcherSubmission:ge,replace:Te}=X===void 0?{}:X;U.response.headers.has("X-Remix-Revalidate")&&(Oe=!0);let se=U.response.headers.get("Location");Ue(se,"Expected a Location header on the redirect Response"),se=dy(se,new URL(D.url),c);let pe=Eu(E.location,se,{_isRedirect:!0});if(n){let Ve=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(Tg.test(se)){const ut=t.history.createURL(se);Ve=ut.origin!==e.location.origin||Fu(ut.pathname,c)==null}if(Ve){Te?e.location.replace(se):e.location.assign(se);return}}N=null;let fe=Te===!0||U.response.headers.has("X-Remix-Replace")?Vt.Replace:Vt.Push,{formMethod:me,formAction:ze,formEncType:He}=E.navigation;!le&&!ge&&me&&ze&&He&&(le=vy(E.navigation));let Ye=le||ge;if(UC.has(U.response.status)&&Ye&&Ti(Ye.formMethod))await In(fe,pe,{submission:wt({},Ye,{formAction:se}),preventScrollReset:C,enableViewTransition:q?F:void 0});else{let Ve=Of(pe,le);await In(fe,pe,{overrideNavigation:Ve,fetcherSubmission:ge,preventScrollReset:C,enableViewTransition:q?F:void 0})}}async function ft(D,U,q,X,le,ge){let Te,se={};try{Te=await XC(f,D,U,q,X,le,ge,o,r)}catch(pe){return X.forEach(fe=>{se[fe.route.id]={type:st.error,error:pe}}),se}for(let[pe,fe]of Object.entries(Te))if(sA(fe)){let me=fe.result;se[pe]={type:st.redirect,response:tA(me,q,pe,le,c,_.v7_relativeSplatPath)}}else se[pe]=await eA(fe);return se}async function Li(D,U,q,X,le){let ge=D.matches,Te=ft("loader",D,le,q,U,null),se=Promise.all(X.map(async me=>{if(me.matches&&me.match&&me.controller){let He=(await ft("loader",D,Qo(t.history,me.path,me.controller.signal),[me.match],me.matches,me.key))[me.match.route.id];return{[me.key]:He}}else return Promise.resolve({[me.key]:{type:st.error,error:yn(404,{pathname:me.path})}})})),pe=await Te,fe=(await se).reduce((me,ze)=>Object.assign(me,ze),{});return await Promise.all([lA(U,pe,le.signal,ge,D.loaderData),uA(U,fe,X)]),{loaderResults:pe,fetcherResults:fe}}function jr(){Oe=!0,at.push(...Wr()),De.forEach((D,U)=>{ie.has(U)&&(Y.add(U),mn(U))})}function Pn(D,U,q){q===void 0&&(q={}),E.fetchers.set(D,U),Rt({fetchers:new Map(E.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function xn(D,U,q,X){X===void 0&&(X={});let le=ha(E.matches,U);Oi(D),Rt({errors:{[le.route.id]:q},fetchers:new Map(E.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Mi(D){return _.v7_fetcherPersist&&(Ae.set(D,(Ae.get(D)||0)+1),ye.has(D)&&ye.delete(D)),E.fetchers.get(D)||$C}function Oi(D){let U=E.fetchers.get(D);ie.has(D)&&!(U&&U.state==="loading"&&we.has(D))&&mn(D),De.delete(D),we.delete(D),Ie.delete(D),ye.delete(D),Y.delete(D),E.fetchers.delete(D)}function Ur(D){if(_.v7_fetcherPersist){let U=(Ae.get(D)||0)-1;U<=0?(Ae.delete(D),ye.add(D)):Ae.set(D,U)}else Oi(D);Rt({fetchers:new Map(E.fetchers)})}function mn(D){let U=ie.get(D);Ue(U,"Expected fetch controller: "+D),U.abort(),ie.delete(D)}function bo(D){for(let U of D){let q=Mi(U),X=ns(q.data);E.fetchers.set(U,X)}}function Ni(){let D=[],U=!1;for(let q of Ie){let X=E.fetchers.get(q);Ue(X,"Expected fetcher: "+q),X.state==="loading"&&(Ie.delete(q),D.push(q),U=!0)}return bo(D),U}function $r(D){let U=[];for(let[q,X]of we)if(X<D){let le=E.fetchers.get(q);Ue(le,"Expected fetcher: "+q),le.state==="loading"&&(mn(q),we.delete(q),U.push(q))}return bo(U),U.length>0}function ko(D,U){let q=E.blockers.get(D)||Al;return Pt.get(D)!==U&&Pt.set(D,U),q}function Hr(D){E.blockers.delete(D),Pt.delete(D)}function Bn(D,U){let q=E.blockers.get(D)||Al;Ue(q.state==="unblocked"&&U.state==="blocked"||q.state==="blocked"&&U.state==="blocked"||q.state==="blocked"&&U.state==="proceeding"||q.state==="blocked"&&U.state==="unblocked"||q.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+q.state+" -> "+U.state);let X=new Map(E.blockers);X.set(D,U),Rt({blockers:X})}function ir(D){let{currentLocation:U,nextLocation:q,historyAction:X}=D;if(Pt.size===0)return;Pt.size>1&&Ma(!1,"A router only supports one blocker at a time");let le=Array.from(Pt.entries()),[ge,Te]=le[le.length-1],se=E.blockers.get(ge);if(!(se&&se.state==="proceeding")&&Te({currentLocation:U,nextLocation:q,historyAction:X}))return ge}function rr(D){let U=yn(404,{pathname:D}),q=u||a,{matches:X,route:le}=gy(q);return Wr(),{notFoundMatches:X,route:le,error:U}}function Cn(D,U){return{boundaryId:ha(U.partialMatches).route.id,error:yn(400,{type:"route-discovery",pathname:D,message:U.error!=null&&"message"in U.error?U.error:String(U.error)})}}function Wr(D){let U=[];return Xe.forEach((q,X)=>{(!D||D(X))&&(q.cancel(),U.push(X),Xe.delete(X))}),U}function Gr(D,U,q){if(B=D,P=U,I=q||null,!k&&E.navigation===Mf){k=!0;let X=or(E.location,E.matches);X!=null&&Rt({restoreScrollPosition:X})}return()=>{B=null,P=null,I=null}}function Ws(D,U){return I&&I(D,U.map(X=>wC(X,E.loaderData)))||D.key}function sr(D,U){if(B&&P){let q=Ws(D,U);B[q]=P()}}function or(D,U){if(B){let q=Ws(D,U),X=B[q];if(typeof X=="number")return X}return null}function xt(D,U,q){if(m){if(b.has(q))return{active:!1,matches:D};if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:id(U,q,c,!0)}}else return{active:!0,matches:id(U,q,c,!0)||[]}}return{active:!1,matches:null}}async function ar(D,U,q){let X=D;for(;;){let le=u==null,ge=u||a;try{await ZC(m,U,X,ge,o,r,xo,q)}catch(pe){return{type:"error",error:pe,partialMatches:X}}finally{le&&(a=[...a])}if(q.aborted)return{type:"aborted"};let Te=Ys(ge,U,c);if(Te)return Di(U,b),{type:"success",matches:Te};let se=id(ge,U,c,!0);if(!se||X.length===se.length&&X.every((pe,fe)=>pe.route.id===se[fe].route.id))return Di(U,b),{type:"success",matches:null};X=se}}function Di(D,U){if(U.size>=R){let q=U.values().next().value;U.delete(q)}U.add(D)}function lr(D){o={},u=Tu(D,r,void 0,o)}function An(D,U){let q=u==null;_T(D,U,u||a,o,r),q&&(a=[...a],Rt({}))}return V={get basename(){return c},get future(){return _},get state(){return E},get routes(){return a},get window(){return e},initialize:ki,subscribe:tr,enableScrollRestoration:Gr,navigate:Fr,fetch:Br,revalidate:$s,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Mi,deleteFetcher:Ur,dispose:mi,getBlocker:ko,deleteBlocker:Hr,patchRoutes:An,_internalFetchControllers:ie,_internalActiveDeferreds:Xe,_internalSetRoutes:lr},V}function GC(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Gp(t,e,n,i,r,o,a,u){let c,f;if(a){c=[];for(let _ of e)if(c.push(_),_.route.id===a){f=_;break}}else c=e,f=e[e.length-1];let m=fT(r||".",hT(c,o),Fu(t.pathname,n)||t.pathname,u==="path");return r==null&&(m.search=t.search,m.hash=t.hash),(r==null||r===""||r===".")&&f&&f.route.index&&!Ig(m.search)&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(m.pathname=m.pathname==="/"?n:Is([n,m.pathname])),Vu(m)}function ly(t,e,n,i){if(!i||!GC(i))return{path:n};if(i.formMethod&&!aA(i.formMethod))return{path:n,error:yn(405,{method:i.formMethod})};let r=()=>({path:n,error:yn(400,{type:"invalid-body"})}),o=i.formMethod||"get",a=t?o.toUpperCase():o.toLowerCase(),u=vT(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ti(a))return r();let y=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((T,R)=>{let[b,B]=R;return""+T+b+"="+B+`
`},""):String(i.body);return{path:n,submission:{formMethod:a,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:y}}}else if(i.formEncType==="application/json"){if(!Ti(a))return r();try{let y=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:a,formAction:u,formEncType:i.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let c,f;if(i.formData)c=qp(i.formData),f=i.formData;else if(i.body instanceof FormData)c=qp(i.body),f=i.body;else if(i.body instanceof URLSearchParams)c=i.body,f=hy(c);else if(i.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(i.body),f=hy(c)}catch{return r()}let m={formMethod:a,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Ti(m.formMethod))return{path:n,submission:m};let _=zs(n);return e&&_.search&&Ig(_.search)&&c.append("index",""),_.search="?"+c,{path:Vu(_),submission:m}}function qC(t,e){let n=t;if(e){let i=t.findIndex(r=>r.route.id===e);i>=0&&(n=t.slice(0,i))}return n}function uy(t,e,n,i,r,o,a,u,c,f,m,_,y,T,R,b){let B=b?Gn(b[1])?b[1].error:b[1].data:void 0,I=t.createURL(e.location),P=t.createURL(r),k=b&&Gn(b[1])?b[0]:void 0,j=k?qC(n,k):n,$=b?b[1].statusCode:void 0,K=a&&$&&$>=400,V=j.filter((x,C)=>{let{route:N}=x;if(N.lazy)return!0;if(N.loader==null)return!1;if(o)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(KC(e.loaderData,e.matches[C],x)||c.some(ue=>ue===x.route.id))return!0;let F=e.matches[C],O=x;return cy(x,wt({currentUrl:I,currentParams:F.params,nextUrl:P,nextParams:O.params},i,{actionResult:B,actionStatus:$,defaultShouldRevalidate:K?!1:u||I.pathname+I.search===P.pathname+P.search||I.search!==P.search||gT(F,O)}))}),E=[];return _.forEach((x,C)=>{if(o||!n.some(Ne=>Ne.route.id===x.routeId)||m.has(C))return;let N=Ys(T,x.path,R);if(!N){E.push({key:C,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(C),O=Dl(N,x.path),ue=!1;y.has(C)?ue=!1:f.has(C)?(f.delete(C),ue=!0):F&&F.state!=="idle"&&F.data===void 0?ue=u:ue=cy(O,wt({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:P,nextParams:n[n.length-1].params},i,{actionResult:B,actionStatus:$,defaultShouldRevalidate:K?!1:u})),ue&&E.push({key:C,routeId:x.routeId,path:x.path,matches:N,match:O,controller:new AbortController})}),[V,E]}function KC(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function gT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function cy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function ZC(t,e,n,i,r,o,a,u){let c=[e,...n.map(f=>f.route.id)].join("-");try{let f=a.get(c);f||(f=t({path:e,matches:n,patch:(m,_)=>{u.aborted||_T(m,_,i,r,o)}}),a.set(c,f)),f&&rA(f)&&await f}finally{a.delete(c)}}function _T(t,e,n,i,r){if(t){var o;let a=i[t];Ue(a,"No route found to patch children into: routeId = "+t);let u=Tu(e,r,[t,"patch",String(((o=a.children)==null?void 0:o.length)||"0")],i);a.children?a.children.push(...u):a.children=u}else{let a=Tu(e,r,["patch",String(n.length||"0")],i);n.push(...a)}}async function QC(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];Ue(r,"No route found in manifest");let o={};for(let a in i){let c=r[a]!==void 0&&a!=="hasErrorBoundary";Ma(!c,'Route "'+r.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!vC.has(a)&&(o[a]=i[a])}Object.assign(r,o),Object.assign(r,wt({},e(r),{lazy:void 0}))}async function YC(t){let{matches:e}=t,n=e.filter(r=>r.shouldLoad);return(await Promise.all(n.map(r=>r.resolve()))).reduce((r,o,a)=>Object.assign(r,{[n[a].route.id]:o}),{})}async function XC(t,e,n,i,r,o,a,u,c,f){let m=o.map(T=>T.route.lazy?QC(T.route,c,u):void 0),_=o.map((T,R)=>{let b=m[R],B=r.some(P=>P.route.id===T.route.id);return wt({},T,{shouldLoad:B,resolve:async P=>(P&&i.method==="GET"&&(T.route.lazy||T.route.loader)&&(B=!0),B?JC(e,i,T,b,P,f):Promise.resolve({type:st.data,result:void 0}))})}),y=await t({matches:_,request:i,params:o[0].params,fetcherKey:a,context:f});try{await Promise.all(m)}catch{}return y}async function JC(t,e,n,i,r,o){let a,u,c=f=>{let m,_=new Promise((R,b)=>m=b);u=()=>m(),e.signal.addEventListener("abort",u);let y=R=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:o},...R!==void 0?[R]:[]),T=(async()=>{try{return{type:"data",result:await(r?r(b=>y(b)):y())}}catch(R){return{type:"error",result:R}}})();return Promise.race([T,_])};try{let f=n.route[t];if(i)if(f){let m,[_]=await Promise.all([c(f).catch(y=>{m=y}),i]);if(m!==void 0)throw m;a=_}else if(await i,f=n.route[t],f)a=await c(f);else if(t==="action"){let m=new URL(e.url),_=m.pathname+m.search;throw yn(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:st.data,result:void 0};else if(f)a=await c(f);else{let m=new URL(e.url),_=m.pathname+m.search;throw yn(404,{pathname:_})}Ue(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:st.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function eA(t){let{result:e,type:n}=t;if(yT(e)){let f;try{let m=e.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(m){return{type:st.error,error:m}}return n===st.error?{type:st.error,error:new Fd(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:st.data,data:f,statusCode:e.status,headers:e.headers}}if(n===st.error){if(_y(e)){var i;if(e.data instanceof Error){var r;return{type:st.error,error:e.data,statusCode:(r=e.init)==null?void 0:r.status}}e=new Fd(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:st.error,error:e,statusCode:Ph(e)?e.status:void 0}}if(oA(e)){var o,a;return{type:st.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(_y(e)){var u,c;return{type:st.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:st.data,data:e}}function tA(t,e,n,i,r,o){let a=t.headers.get("Location");if(Ue(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tg.test(a)){let u=i.slice(0,i.findIndex(c=>c.route.id===n)+1);a=Gp(new URL(e.url),u,r,!0,a,o),t.headers.set("Location",a)}return t}function dy(t,e,n){if(Tg.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=Fu(r.pathname,n)!=null;if(r.origin===e.origin&&o)return r.pathname+r.search+r.hash}return t}function Qo(t,e,n,i){let r=t.createURL(vT(e)).toString(),o={signal:n};if(i&&Ti(i.formMethod)){let{formMethod:a,formEncType:u}=i;o.method=a.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(i.json)):u==="text/plain"?o.body=i.text:u==="application/x-www-form-urlencoded"&&i.formData?o.body=qp(i.formData):o.body=i.formData}return new Request(r,o)}function qp(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function hy(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function nA(t,e,n,i,r){let o={},a=null,u,c=!1,f={},m=n&&Gn(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let y=_.route.id,T=e[y];if(Ue(!to(T),"Cannot handle redirect results in processLoaderData"),Gn(T)){let R=T.error;m!==void 0&&(R=m,m=void 0),a=a||{};{let b=ha(t,y);a[b.route.id]==null&&(a[b.route.id]=R)}o[y]=void 0,c||(c=!0,u=Ph(T.error)?T.error.status:500),T.headers&&(f[y]=T.headers)}else fs(T)?(i.set(y,T.deferredData),o[y]=T.deferredData.data,T.statusCode!=null&&T.statusCode!==200&&!c&&(u=T.statusCode),T.headers&&(f[y]=T.headers)):(o[y]=T.data,T.statusCode&&T.statusCode!==200&&!c&&(u=T.statusCode),T.headers&&(f[y]=T.headers))}),m!==void 0&&n&&(a={[n[0]]:m},o[n[0]]=void 0),{loaderData:o,errors:a,statusCode:u||200,loaderHeaders:f}}function fy(t,e,n,i,r,o,a,u){let{loaderData:c,errors:f}=nA(e,i,r,u);return o.forEach(m=>{let{key:_,match:y,controller:T}=m,R=a[_];if(Ue(R,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Gn(R)){let b=ha(t.matches,y==null?void 0:y.route.id);f&&f[b.route.id]||(f=wt({},f,{[b.route.id]:R.error})),t.fetchers.delete(_)}else if(to(R))Ue(!1,"Unhandled fetcher revalidation redirect");else if(fs(R))Ue(!1,"Unhandled fetcher deferred data");else{let b=ns(R.data);t.fetchers.set(_,b)}}),{loaderData:c,errors:f}}function py(t,e,n,i){let r=wt({},e);for(let o of n){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(r[a]=e[a]):t[a]!==void 0&&o.route.loader&&(r[a]=t[a]),i&&i.hasOwnProperty(a))break}return r}function my(t){return t?Gn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ha(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function gy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function yn(t,e){let{pathname:n,routeId:i,method:r,type:o,message:a}=e===void 0?{}:e,u="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(u="Bad Request",o==="route-discovery"?c='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+a):r&&n&&i?c="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":o==="defer-action"?c="defer() is not supported in actions":o==="invalid-body"&&(c="Unable to encode submission body")):t===403?(u="Forbidden",c='Route "'+i+'" does not match URL "'+n+'"'):t===404?(u="Not Found",c='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",r&&n&&i?c="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(c='Invalid request method "'+r.toUpperCase()+'"')),new Fd(t||500,u,new Error(c),!0)}function Vc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(to(r))return{key:i,result:r}}}function vT(t){let e=typeof t=="string"?zs(t):t;return Vu(wt({},e,{hash:""}))}function iA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function rA(t){return typeof t=="object"&&t!=null&&"then"in t}function sA(t){return yT(t.result)&&jC.has(t.result.status)}function fs(t){return t.type===st.deferred}function Gn(t){return t.type===st.error}function to(t){return(t&&t.type)===st.redirect}function _y(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function oA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function yT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function aA(t){return BC.has(t.toLowerCase())}function Ti(t){return FC.has(t.toLowerCase())}async function lA(t,e,n,i,r){let o=Object.entries(e);for(let a=0;a<o.length;a++){let[u,c]=o[a],f=t.find(y=>(y==null?void 0:y.route.id)===u);if(!f)continue;let m=i.find(y=>y.route.id===f.route.id),_=m!=null&&!gT(m,f)&&(r&&r[f.route.id])!==void 0;fs(c)&&_&&await Sg(c,n,!1).then(y=>{y&&(e[u]=y)})}}async function uA(t,e,n){for(let i=0;i<n.length;i++){let{key:r,routeId:o,controller:a}=n[i],u=e[r];t.find(f=>(f==null?void 0:f.route.id)===o)&&fs(u)&&(Ue(a,"Expected an AbortController for revalidating fetcher deferred result"),await Sg(u,a.signal,!0).then(f=>{f&&(e[r]=f)}))}}async function Sg(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:st.data,data:t.deferredData.unwrappedData}}catch(r){return{type:st.error,error:r}}return{type:st.data,data:t.deferredData.data}}}function Ig(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Dl(t,e){let n=typeof e=="string"?zs(e).search:e.search;if(t[t.length-1].route.index&&Ig(n||""))return t[t.length-1];let i=dT(t);return i[i.length-1]}function vy(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:o,json:a}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:a,text:void 0}}}function Of(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Rl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ns(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function hA(t,e){try{let n=t.sessionStorage.getItem(mT);if(n){let i=JSON.parse(n);for(let[r,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(r,new Set(o||[]))}}catch{}}function fA(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(mT,JSON.stringify(n))}catch(i){Ma(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zd.apply(this,arguments)}const xh=H.createContext(null),wT=H.createContext(null),Ch=H.createContext(null),Pg=H.createContext(null),To=H.createContext({outlet:null,matches:[],isDataRoute:!1}),ET=H.createContext(null);function Ah(){return H.useContext(Pg)!=null}function xg(){return Ah()||Ue(!1),H.useContext(Pg).location}function TT(t){H.useContext(Ch).static||H.useLayoutEffect(t)}function Dr(){let{isDataRoute:t}=H.useContext(To);return t?PA():pA()}function pA(){Ah()||Ue(!1);let t=H.useContext(xh),{basename:e,future:n,navigator:i}=H.useContext(Ch),{matches:r}=H.useContext(To),{pathname:o}=xg(),a=JSON.stringify(hT(r,n.v7_relativeSplatPath)),u=H.useRef(!1);return TT(()=>{u.current=!0}),H.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){i.go(f);return}let _=fT(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Is([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,a,o,t])}function Cg(){let{matches:t}=H.useContext(To),e=t[t.length-1];return e?e.params:{}}function mA(t,e,n,i){Ah()||Ue(!1);let{navigator:r}=H.useContext(Ch),{matches:o}=H.useContext(To),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=xg(),m;m=f;let _=m.pathname||"/",y=_;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+_.replace(/^\//,"").split("/").slice(b.length).join("/")}let T=Ys(t,{pathname:y});return wA(T&&T.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Is([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Is([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,i)}function gA(){let t=IA(),e=Ph(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:r},n):null,null)}const _A=H.createElement(gA,null);class vA extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?H.createElement(To.Provider,{value:this.props.routeContext},H.createElement(ET.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yA(t){let{routeContext:e,match:n,children:i}=t,r=H.useContext(xh);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(To.Provider,{value:e},i)}function wA(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(r=n)==null?void 0:r.errors;if(u!=null){let m=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);m>=0||Ue(!1),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<a.length;m++){let _=a[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=m),_.route.id){let{loaderData:y,errors:T}=n,R=_.route.loader&&y[_.route.id]===void 0&&(!T||T[_.route.id]===void 0);if(_.route.lazy||R){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,_,y)=>{let T,R=!1,b=null,B=null;n&&(T=u&&_.route.id?u[_.route.id]:void 0,b=_.route.errorElement||_A,c&&(f<0&&y===0?(xA("route-fallback"),R=!0,B=null):f===y&&(R=!0,B=_.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,y+1)),P=()=>{let k;return T?k=b:R?k=B:_.route.Component?k=H.createElement(_.route.Component,null):_.route.element?k=_.route.element:k=m,H.createElement(yA,{match:_,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:k})};return n&&(_.route.ErrorBoundary||_.route.errorElement||y===0)?H.createElement(vA,{location:n.location,revalidation:n.revalidation,component:b,error:T,children:P(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):P()},null)}var ST=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ST||{}),Bd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bd||{});function EA(t){let e=H.useContext(xh);return e||Ue(!1),e}function TA(t){let e=H.useContext(wT);return e||Ue(!1),e}function SA(t){let e=H.useContext(To);return e||Ue(!1),e}function IT(t){let e=SA(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function IA(){var t;let e=H.useContext(ET),n=TA(Bd.UseRouteError),i=IT(Bd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function PA(){let{router:t}=EA(ST.UseNavigateStable),e=IT(Bd.UseNavigateStable),n=H.useRef(!1);return TT(()=>{n.current=!0}),H.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,zd({fromRouteId:e},o)))},[t,e])}const yy={};function xA(t,e,n){yy[t]||(yy[t]=!0)}function CA(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Vt.Pop,navigator:o,static:a=!1,future:u}=t;Ah()&&Ue(!1);let c=e.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:c,navigator:o,static:a,future:zd({v7_relativeSplatPath:!1},u)}),[c,u,o,a]);typeof i=="string"&&(i=zs(i));let{pathname:m="/",search:_="",hash:y="",state:T=null,key:R="default"}=i,b=H.useMemo(()=>{let B=Fu(m,c);return B==null?null:{location:{pathname:B,search:_,hash:y,state:T,key:R},navigationType:r}},[c,m,_,y,T,R,r]);return b==null?null:H.createElement(Ch.Provider,{value:f},H.createElement(Pg.Provider,{children:n,value:b}))}new Promise(()=>{});function AA(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:H.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:H.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:H.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jd.apply(this,arguments)}const RA="6";try{window.__reactRouterVersion=RA}catch{}function bA(t,e){return WC({basename:void 0,future:jd({},void 0,{v7_prependBasename:!0}),history:mC({window:void 0}),hydrationData:kA(),routes:t,mapRouteProperties:AA,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function kA(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=jd({},e,{errors:LA(e.errors)})),e}function LA(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new Fd(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let o=window[r.__subType];if(typeof o=="function")try{let a=new o(r.message);a.stack="",n[i]=a}catch{}}if(n[i]==null){let o=new Error(r.message);o.stack="",n[i]=o}}else n[i]=r;return n}const MA=H.createContext({isTransitioning:!1}),OA=H.createContext(new Map),NA="startTransition",wy=n1[NA],DA="flushSync",Ey=pC[DA];function VA(t){wy?wy(t):t()}function bl(t){Ey?Ey(t):t()}let FA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function zA(t){let{fallbackElement:e,router:n,future:i}=t,[r,o]=H.useState(n.state),[a,u]=H.useState(),[c,f]=H.useState({isTransitioning:!1}),[m,_]=H.useState(),[y,T]=H.useState(),[R,b]=H.useState(),B=H.useRef(new Map),{v7_startTransition:I}=i||{},P=H.useCallback(E=>{I?VA(E):E()},[I]),k=H.useCallback((E,x)=>{let{deletedFetchers:C,unstable_flushSync:N,unstable_viewTransitionOpts:F}=x;C.forEach(ue=>B.current.delete(ue)),E.fetchers.forEach((ue,Ne)=>{ue.data!==void 0&&B.current.set(Ne,ue.data)});let O=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!F||O){N?bl(()=>o(E)):P(()=>o(E));return}if(N){bl(()=>{y&&(m&&m.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let ue=n.window.document.startViewTransition(()=>{bl(()=>o(E))});ue.finished.finally(()=>{bl(()=>{_(void 0),T(void 0),u(void 0),f({isTransitioning:!1})})}),bl(()=>T(ue));return}y?(m&&m.resolve(),y.skipTransition(),b({state:E,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(E),f({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,y,m,B,P]);H.useLayoutEffect(()=>n.subscribe(k),[n,k]),H.useEffect(()=>{c.isTransitioning&&!c.flushSync&&_(new FA)},[c]),H.useEffect(()=>{if(m&&a&&n.window){let E=a,x=m.promise,C=n.window.document.startViewTransition(async()=>{P(()=>o(E)),await x});C.finished.finally(()=>{_(void 0),T(void 0),u(void 0),f({isTransitioning:!1})}),T(C)}},[P,a,m,n.window]),H.useEffect(()=>{m&&a&&r.location.key===a.location.key&&m.resolve()},[m,y,r.location,a]),H.useEffect(()=>{!c.isTransitioning&&R&&(u(R.state),f({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),b(void 0))},[c.isTransitioning,R]),H.useEffect(()=>{},[]);let j=H.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,x,C)=>n.navigate(E,{state:x,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(E,x,C)=>n.navigate(E,{replace:!0,state:x,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[n]),$=n.basename||"/",K=H.useMemo(()=>({router:n,navigator:j,static:!1,basename:$}),[n,j,$]),V=H.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return H.createElement(H.Fragment,null,H.createElement(xh.Provider,{value:K},H.createElement(wT.Provider,{value:r},H.createElement(OA.Provider,{value:B.current},H.createElement(MA.Provider,{value:c},H.createElement(CA,{basename:$,location:r.location,navigationType:r.historyAction,navigator:j,future:V},r.initialized||n.future.v7_partialHydration?H.createElement(BA,{routes:n.routes,future:n.future,state:r}):e))))),null)}const BA=H.memo(jA);function jA(t){let{routes:e,future:n,state:i}=t;return mA(e,void 0,i,n)}var Ty;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ty||(Ty={}));var Sy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sy||(Sy={}));const UA=({label:t,onClick:e})=>M.jsx("button",{className:"btn_primary",onClick:e,children:t}),$A=({label:t,onClick:e})=>M.jsx("button",{className:"btn_secondary",onClick:e,children:t}),Ag=({showPrimary:t=!0,showSecondary:e=!0})=>{const n=Dr(),i=()=>{n("/login")},r=()=>{n("/signup")};return M.jsxs("div",{children:[t&&M.jsx(UA,{label:"LOGIN",onClick:i}),e&&M.jsx($A,{label:"SIGN UP",onClick:r})]})},Rg=()=>{const[t,e]=H.useState(!1);return H.useEffect(()=>{const n=()=>{e(window.scrollY>0)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),t},HA=()=>{const t=Rg();return M.jsxs("nav",{className:`nav_bar1 ${t?"scrolled":""}`,children:[M.jsx("h1",{className:"app_names",children:"Eventix"}),M.jsxs("ul",{className:"nav_linkss",children:[M.jsx("li",{children:M.jsx("a",{href:"/",children:"ABOUT US"})}),M.jsx("li",{children:M.jsx("a",{href:"/about",children:"SUPPORT"})})]}),M.jsx("div",{className:"nav_buttonss",children:M.jsx(Ag,{})})]})},WA=()=>{const t=Dr(),e=()=>{t("/login")};return M.jsx("button",{onClick:e,className:"login-button",children:"LOGIN"})},GA=()=>M.jsxs("div",{className:"banner",children:[M.jsx("h1",{children:"Eventix"}),M.jsx("p",{children:"Organize, create, and manage"}),M.jsx(Ag,{showPrimary:!1,showSecondary:!0}),M.jsxs("div",{className:"account-message",children:[M.jsx("p",{children:"Already have an account? "}),M.jsx(WA,{})]})]}),Nf=({texts:t,colors:e=[],fontWeights:n=[],imageUrl:i,imageAlt:r=t.join(" "),customClass:o=""})=>M.jsxs("div",{className:`section_containers ${o}`,children:[M.jsx("div",{className:"text_containers",children:M.jsx("h1",{className:"titless",children:t.map((a,u)=>M.jsxs("span",{className:"text_items",style:{color:e[u]||"#0E0D35",fontWeight:n[u]||"normal"},children:[a,a==="you"&&M.jsx("br",{})]},u))})}),M.jsx("div",{className:"image_containers",children:M.jsx("img",{src:i,alt:r})})]}),qA=[{text:"Our benefits",backgroundColor:"#F24B4B"},{text:"Our benefits",backgroundColor:"#FFAA00"},{text:"Our benefits",backgroundColor:"#00B78C"}],KA=()=>M.jsx("div",{className:"benefits_container",children:qA.map((t,e)=>M.jsx("div",{className:"benefit_item",style:{backgroundColor:t.backgroundColor},children:M.jsx("h1",{children:t.text})},e))}),ZA=()=>M.jsx("div",{className:"final_section",children:M.jsxs("h1",{className:"section_title",children:[M.jsx("span",{className:"final_word",style:{color:"#FFAA00"},children:"Share "}),M.jsx("span",{className:"final_word",style:{color:"#0E0D35"},children:"a "}),M.jsx("span",{className:"final_word",style:{color:"#00B78C"},children:"group fund"}),M.jsx("br",{className:"normal"}),M.jsx("span",{className:"final_word",style:{color:"#0E0D35",fontWeight:"normal"},children:" with other"}),M.jsx("span",{className:"final_word",style:{color:"#F24B4B"},children:" guests"})]})}),QA=()=>{const[t,e]=H.useState({section1:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Img1.webp?alt=media&token=cb253353-56ac-409b-ad73-3a69b97feb7c",section3:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/img3.webp?alt=media&token=19bdfe9c-a9e5-41ba-a61c-fa29cf27dfd8"}),n=()=>{const i=window.innerWidth<=375;e(i?{section1:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/img1-mobile.webp?alt=media&token=5398f96c-8d62-4351-86ec-8f86db52f156",section3:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/img3-mobile.webp?alt=media&token=76678f82-ada1-46a6-a656-159b6dd33d76"}:{section1:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Img1.webp?alt=media&token=cb253353-56ac-409b-ad73-3a69b97feb7c",section3:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/img3.webp?alt=media&token=19bdfe9c-a9e5-41ba-a61c-fa29cf27dfd8"})};return H.useEffect(()=>(n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[]),M.jsxs("div",{children:[M.jsx(Nf,{texts:["Send","and","receive","invitations"],fontWeights:["semi-bold","normal","semi-bold","bold"],imageUrl:t.section1,colors:["#00B78C","#0E0D35","#FFAA00","#0E0D35"],customClass:"first_sections"}),M.jsx(KA,{}),M.jsx(Nf,{texts:["Choose","the","best","day","and","location"],fontWeights:["semi-bold","normal","semi-bold","semi-bold","normal","semi-bold"],imageUrl:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/img2.webp?alt=media&token=ea72f734-42ec-4624-b6be-1ef2eb49f2b1",colors:["#FFFF","#FFFF","#0E0D35","#0E0D35","#FFFF"],customClass:"second_sections"}),M.jsx(Nf,{texts:["All","what","you","need","in","the","same","place"],fontWeights:["semi-bold","normal","semi-bold","semi-bold","normal","normal","semi-bold","semi-bold"],imageUrl:t.section3,colors:["#F24B4B","#0E0D35","#FFAA00","#0E0D35","#0E0D35","#0E0D35","#00B78C","#00B78C"],customClass:"third_sections"}),M.jsx(ZA,{})]})},YA=()=>M.jsxs("footer",{className:"footer_container",children:[M.jsxs("h1",{className:"footer_titles",children:[M.jsx("span",{className:"footer_words",style:{color:"#F24B4B"},children:"Join"}),M.jsx("span",{className:"footer_words",style:{color:"#0E0D35"},children:"us"}),M.jsx("span",{className:"footer_words",style:{color:"#FFAA00"},children:"now"}),M.jsx("span",{className:"footer_words",style:{color:"#00B78C"},children:"!"})]}),M.jsx(Ag,{showPrimary:!1,showSecondary:!0}),M.jsxs("div",{children:[M.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/img5.webp?alt=media&token=f03b06bb-ce17-40e1-a8e2-c015293b6d0c",alt:"Footer",className:"footer_image"}),M.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/img5-mobile.webp?alt=media&token=2bcd393a-69c3-4f56-b41f-2ed5cff88aa3",alt:"Footer",className:"footer_image_responsive"}),M.jsx("div",{className:"footer_green-box"})]})]}),XA=()=>M.jsxs("div",{className:"landing-screen",children:[M.jsx(HA,{}),M.jsx(GA,{}),M.jsx(QA,{}),M.jsx(YA,{})]});var Iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},JA=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],u=t[n++],c=((r&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,u=a?t[r+1]:0,c=r+2<t.length,f=c?t[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let y=(u&15)<<2|f>>6,T=f&63;c||(T=64,a||(y=64)),i.push(n[m],n[_],n[y],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new eR;const y=o<<2|u>>4;if(i.push(y),f!==64){const T=u<<4&240|f>>2;if(i.push(T),_!==64){const R=f<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(t){const e=PT(t);return xT.encodeByteArray(e,!0)},Ud=function(t){return tR(t).replace(/\./g,"")},CT=function(t){try{return xT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>nR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof Iy>"u")return;const t=Iy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CT(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return iR()||rR()||sR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AT=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oR=t=>{const e=AT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},RT=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},bT=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ud(JSON.stringify(n)),Ud(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function cR(){var t;const e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pR(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function _R(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class Vr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=vR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?yR(o,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new Vr(r,u,i)}}function yR(t,e){return t.replace(wR,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const wR=/\{\$([^}]+)}/g;function ER(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $d(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],a=e[r];if(Py(o)&&Py(a)){if(!$d(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Py(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Fl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TR(t,e){const n=new SR(t,e);return n.subscribe.bind(n)}class SR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Df),r.error===void 0&&(r.error=Df),r.complete===void 0&&(r.complete=Df);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class ho{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new aR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xR(t){return t===Qs?void 0:t}function CR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const RR={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},bR=We.INFO,kR={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},LR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=kR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bg{constructor(e){this.name=e,this._logLevel=bR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const MR=(t,e)=>e.some(n=>t instanceof n);let xy,Cy;function OR(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NR(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kT=new WeakMap,Kp=new WeakMap,LT=new WeakMap,Vf=new WeakMap,kg=new WeakMap;function DR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ps(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&kT.set(n,t)}).catch(()=>{}),kg.set(e,t),e}function VR(t){if(Kp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Kp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FR(t){Zp=t(Zp)}function zR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ff(this),e,...n);return LT.set(i,e.sort?e.sort():[e]),Ps(i)}:NR().includes(t)?function(...e){return t.apply(Ff(this),e),Ps(kT.get(this))}:function(...e){return Ps(t.apply(Ff(this),e))}}function BR(t){return typeof t=="function"?zR(t):(t instanceof IDBTransaction&&VR(t),MR(t,OR())?new Proxy(t,Zp):t)}function Ps(t){if(t instanceof IDBRequest)return DR(t);if(Vf.has(t))return Vf.get(t);const e=BR(t);return e!==t&&(Vf.set(t,e),kg.set(e,t)),e}const Ff=t=>kg.get(t);function jR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),u=Ps(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Ps(a.result),c.oldVersion,c.newVersion,Ps(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const UR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],zf=new Map;function Ay(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=$R.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||UR.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,r?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&c.done]))[0]};return zf.set(e,o),o}FR(t=>({...t,get:(e,n,i)=>Ay(e,n)||t.get(e,n,i),has:(e,n)=>!!Ay(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function WR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qp="@firebase/app",Ry="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new bg("@firebase/app"),GR="@firebase/app-compat",qR="@firebase/analytics-compat",KR="@firebase/analytics",ZR="@firebase/app-check-compat",QR="@firebase/app-check",YR="@firebase/auth",XR="@firebase/auth-compat",JR="@firebase/database",eb="@firebase/data-connect",tb="@firebase/database-compat",nb="@firebase/functions",ib="@firebase/functions-compat",rb="@firebase/installations",sb="@firebase/installations-compat",ob="@firebase/messaging",ab="@firebase/messaging-compat",lb="@firebase/performance",ub="@firebase/performance-compat",cb="@firebase/remote-config",db="@firebase/remote-config-compat",hb="@firebase/storage",fb="@firebase/storage-compat",pb="@firebase/firestore",mb="@firebase/vertexai-preview",gb="@firebase/firestore-compat",_b="firebase",vb="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="[DEFAULT]",yb={[Qp]:"fire-core",[GR]:"fire-core-compat",[KR]:"fire-analytics",[qR]:"fire-analytics-compat",[QR]:"fire-app-check",[ZR]:"fire-app-check-compat",[YR]:"fire-auth",[XR]:"fire-auth-compat",[JR]:"fire-rtdb",[eb]:"fire-data-connect",[tb]:"fire-rtdb-compat",[nb]:"fire-fn",[ib]:"fire-fn-compat",[rb]:"fire-iid",[sb]:"fire-iid-compat",[ob]:"fire-fcm",[ab]:"fire-fcm-compat",[lb]:"fire-perf",[ub]:"fire-perf-compat",[cb]:"fire-rc",[db]:"fire-rc-compat",[hb]:"fire-gcs",[fb]:"fire-gcs-compat",[pb]:"fire-fst",[gb]:"fire-fst-compat",[mb]:"fire-vertex","fire-js":"fire-js",[_b]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Map,wb=new Map,Xp=new Map;function by(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oa(t){const e=t.name;if(Xp.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,t);for(const n of Hd.values())by(n,t);for(const n of wb.values())by(n,t);return!0}function Lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new zu("app","Firebase",Eb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=vb;function MT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw xs.create("bad-app-name",{appName:String(r)});if(n||(n=RT()),!n)throw xs.create("no-options");const o=Hd.get(r);if(o){if($d(n,o.options)&&$d(i,o.config))return o;throw xs.create("duplicate-app",{appName:r})}const a=new AR(r);for(const c of Xp.values())a.addComponent(c);const u=new Tb(n,i,a);return Hd.set(r,u),u}function OT(t=Yp){const e=Hd.get(t);if(!e&&t===Yp&&RT())return MT();if(!e)throw xs.create("no-app",{appName:t});return e}function Cs(t,e,n){var i;let r=(i=yb[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(u.join(" "));return}Oa(new ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firebase-heartbeat-database",Ib=1,Su="firebase-heartbeat-store";let Bf=null;function NT(){return Bf||(Bf=jR(Sb,Ib,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(t=>{throw xs.create("idb-open",{originalErrorMessage:t.message})})),Bf}async function Pb(t){try{const n=(await NT()).transaction(Su),i=await n.objectStore(Su).get(DT(t));return await n.done,i}catch(e){if(e instanceof Vr)kr.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kr.warn(n.message)}}}async function ky(t,e){try{const i=(await NT()).transaction(Su,"readwrite");await i.objectStore(Su).put(e,DT(t)),await i.done}catch(n){if(n instanceof Vr)kr.warn(n.message);else{const i=xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kr.warn(i.message)}}}function DT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=1024,Cb=30*24*60*60*1e3;class Ab{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ly();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=Cb}),this._storage.overwrite(this._heartbeatsCache))}catch(i){kr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ly(),{heartbeatsToSend:i,unsentEntries:r}=Rb(this._heartbeatsCache.heartbeats),o=Ud(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return kr.warn(n),""}}}function Ly(){return new Date().toISOString().substring(0,10)}function Rb(t,e=xb){const n=[];let i=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),My(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),My(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?_R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function My(t){return Ud(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){Oa(new ho("platform-logger",e=>new HR(e),"PRIVATE")),Oa(new ho("heartbeat",e=>new Ab(e),"PRIVATE")),Cs(Qp,Ry,t),Cs(Qp,Ry,"esm2017"),Cs("fire-js","")}kb("");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,VT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,E){function x(){}x.prototype=E.prototype,V.D=E.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(C,N,F){for(var O=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)O[ue-2]=arguments[ue];return E.prototype[N].apply(C,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(V,E,x){x||(x=0);var C=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)C[N]=E.charCodeAt(x++)|E.charCodeAt(x++)<<8|E.charCodeAt(x++)<<16|E.charCodeAt(x++)<<24;else for(N=0;16>N;++N)C[N]=E[x++]|E[x++]<<8|E[x++]<<16|E[x++]<<24;E=V.g[0],x=V.g[1],N=V.g[2];var F=V.g[3],O=E+(F^x&(N^F))+C[0]+3614090360&4294967295;E=x+(O<<7&4294967295|O>>>25),O=F+(N^E&(x^N))+C[1]+3905402710&4294967295,F=E+(O<<12&4294967295|O>>>20),O=N+(x^F&(E^x))+C[2]+606105819&4294967295,N=F+(O<<17&4294967295|O>>>15),O=x+(E^N&(F^E))+C[3]+3250441966&4294967295,x=N+(O<<22&4294967295|O>>>10),O=E+(F^x&(N^F))+C[4]+4118548399&4294967295,E=x+(O<<7&4294967295|O>>>25),O=F+(N^E&(x^N))+C[5]+1200080426&4294967295,F=E+(O<<12&4294967295|O>>>20),O=N+(x^F&(E^x))+C[6]+2821735955&4294967295,N=F+(O<<17&4294967295|O>>>15),O=x+(E^N&(F^E))+C[7]+4249261313&4294967295,x=N+(O<<22&4294967295|O>>>10),O=E+(F^x&(N^F))+C[8]+1770035416&4294967295,E=x+(O<<7&4294967295|O>>>25),O=F+(N^E&(x^N))+C[9]+2336552879&4294967295,F=E+(O<<12&4294967295|O>>>20),O=N+(x^F&(E^x))+C[10]+4294925233&4294967295,N=F+(O<<17&4294967295|O>>>15),O=x+(E^N&(F^E))+C[11]+2304563134&4294967295,x=N+(O<<22&4294967295|O>>>10),O=E+(F^x&(N^F))+C[12]+1804603682&4294967295,E=x+(O<<7&4294967295|O>>>25),O=F+(N^E&(x^N))+C[13]+4254626195&4294967295,F=E+(O<<12&4294967295|O>>>20),O=N+(x^F&(E^x))+C[14]+2792965006&4294967295,N=F+(O<<17&4294967295|O>>>15),O=x+(E^N&(F^E))+C[15]+1236535329&4294967295,x=N+(O<<22&4294967295|O>>>10),O=E+(N^F&(x^N))+C[1]+4129170786&4294967295,E=x+(O<<5&4294967295|O>>>27),O=F+(x^N&(E^x))+C[6]+3225465664&4294967295,F=E+(O<<9&4294967295|O>>>23),O=N+(E^x&(F^E))+C[11]+643717713&4294967295,N=F+(O<<14&4294967295|O>>>18),O=x+(F^E&(N^F))+C[0]+3921069994&4294967295,x=N+(O<<20&4294967295|O>>>12),O=E+(N^F&(x^N))+C[5]+3593408605&4294967295,E=x+(O<<5&4294967295|O>>>27),O=F+(x^N&(E^x))+C[10]+38016083&4294967295,F=E+(O<<9&4294967295|O>>>23),O=N+(E^x&(F^E))+C[15]+3634488961&4294967295,N=F+(O<<14&4294967295|O>>>18),O=x+(F^E&(N^F))+C[4]+3889429448&4294967295,x=N+(O<<20&4294967295|O>>>12),O=E+(N^F&(x^N))+C[9]+568446438&4294967295,E=x+(O<<5&4294967295|O>>>27),O=F+(x^N&(E^x))+C[14]+3275163606&4294967295,F=E+(O<<9&4294967295|O>>>23),O=N+(E^x&(F^E))+C[3]+4107603335&4294967295,N=F+(O<<14&4294967295|O>>>18),O=x+(F^E&(N^F))+C[8]+1163531501&4294967295,x=N+(O<<20&4294967295|O>>>12),O=E+(N^F&(x^N))+C[13]+2850285829&4294967295,E=x+(O<<5&4294967295|O>>>27),O=F+(x^N&(E^x))+C[2]+4243563512&4294967295,F=E+(O<<9&4294967295|O>>>23),O=N+(E^x&(F^E))+C[7]+1735328473&4294967295,N=F+(O<<14&4294967295|O>>>18),O=x+(F^E&(N^F))+C[12]+2368359562&4294967295,x=N+(O<<20&4294967295|O>>>12),O=E+(x^N^F)+C[5]+4294588738&4294967295,E=x+(O<<4&4294967295|O>>>28),O=F+(E^x^N)+C[8]+2272392833&4294967295,F=E+(O<<11&4294967295|O>>>21),O=N+(F^E^x)+C[11]+1839030562&4294967295,N=F+(O<<16&4294967295|O>>>16),O=x+(N^F^E)+C[14]+4259657740&4294967295,x=N+(O<<23&4294967295|O>>>9),O=E+(x^N^F)+C[1]+2763975236&4294967295,E=x+(O<<4&4294967295|O>>>28),O=F+(E^x^N)+C[4]+1272893353&4294967295,F=E+(O<<11&4294967295|O>>>21),O=N+(F^E^x)+C[7]+4139469664&4294967295,N=F+(O<<16&4294967295|O>>>16),O=x+(N^F^E)+C[10]+3200236656&4294967295,x=N+(O<<23&4294967295|O>>>9),O=E+(x^N^F)+C[13]+681279174&4294967295,E=x+(O<<4&4294967295|O>>>28),O=F+(E^x^N)+C[0]+3936430074&4294967295,F=E+(O<<11&4294967295|O>>>21),O=N+(F^E^x)+C[3]+3572445317&4294967295,N=F+(O<<16&4294967295|O>>>16),O=x+(N^F^E)+C[6]+76029189&4294967295,x=N+(O<<23&4294967295|O>>>9),O=E+(x^N^F)+C[9]+3654602809&4294967295,E=x+(O<<4&4294967295|O>>>28),O=F+(E^x^N)+C[12]+3873151461&4294967295,F=E+(O<<11&4294967295|O>>>21),O=N+(F^E^x)+C[15]+530742520&4294967295,N=F+(O<<16&4294967295|O>>>16),O=x+(N^F^E)+C[2]+3299628645&4294967295,x=N+(O<<23&4294967295|O>>>9),O=E+(N^(x|~F))+C[0]+4096336452&4294967295,E=x+(O<<6&4294967295|O>>>26),O=F+(x^(E|~N))+C[7]+1126891415&4294967295,F=E+(O<<10&4294967295|O>>>22),O=N+(E^(F|~x))+C[14]+2878612391&4294967295,N=F+(O<<15&4294967295|O>>>17),O=x+(F^(N|~E))+C[5]+4237533241&4294967295,x=N+(O<<21&4294967295|O>>>11),O=E+(N^(x|~F))+C[12]+1700485571&4294967295,E=x+(O<<6&4294967295|O>>>26),O=F+(x^(E|~N))+C[3]+2399980690&4294967295,F=E+(O<<10&4294967295|O>>>22),O=N+(E^(F|~x))+C[10]+4293915773&4294967295,N=F+(O<<15&4294967295|O>>>17),O=x+(F^(N|~E))+C[1]+2240044497&4294967295,x=N+(O<<21&4294967295|O>>>11),O=E+(N^(x|~F))+C[8]+1873313359&4294967295,E=x+(O<<6&4294967295|O>>>26),O=F+(x^(E|~N))+C[15]+4264355552&4294967295,F=E+(O<<10&4294967295|O>>>22),O=N+(E^(F|~x))+C[6]+2734768916&4294967295,N=F+(O<<15&4294967295|O>>>17),O=x+(F^(N|~E))+C[13]+1309151649&4294967295,x=N+(O<<21&4294967295|O>>>11),O=E+(N^(x|~F))+C[4]+4149444226&4294967295,E=x+(O<<6&4294967295|O>>>26),O=F+(x^(E|~N))+C[11]+3174756917&4294967295,F=E+(O<<10&4294967295|O>>>22),O=N+(E^(F|~x))+C[2]+718787259&4294967295,N=F+(O<<15&4294967295|O>>>17),O=x+(F^(N|~E))+C[9]+3951481745&4294967295,V.g[0]=V.g[0]+E&4294967295,V.g[1]=V.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+F&4294967295}i.prototype.u=function(V,E){E===void 0&&(E=V.length);for(var x=E-this.blockSize,C=this.B,N=this.h,F=0;F<E;){if(N==0)for(;F<=x;)r(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<E;)if(C[N++]=V.charCodeAt(F++),N==this.blockSize){r(this,C),N=0;break}}else for(;F<E;)if(C[N++]=V[F++],N==this.blockSize){r(this,C),N=0;break}}this.h=N,this.o+=E},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var E=1;E<V.length-8;++E)V[E]=0;var x=8*this.o;for(E=V.length-8;E<V.length;++E)V[E]=x&255,x/=256;for(this.u(V),V=Array(16),E=x=0;4>E;++E)for(var C=0;32>C;C+=8)V[x++]=this.g[E]>>>C&255;return V};function o(V,E){var x=u;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=E(V)}function a(V,E){this.h=E;for(var x=[],C=!0,N=V.length-1;0<=N;N--){var F=V[N]|0;C&&F==E||(x[N]=F,C=!1)}this.g=x}var u={};function c(V){return-128<=V&&128>V?o(V,function(E){return new a([E|0],0>E?-1:0)}):new a([V|0],0>V?-1:0)}function f(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return B(f(-V));for(var E=[],x=1,C=0;V>=x;C++)E[C]=V/x|0,x*=4294967296;return new a(E,0)}function m(V,E){if(V.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(V.charAt(0)=="-")return B(m(V.substring(1),E));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=f(Math.pow(E,8)),C=_,N=0;N<V.length;N+=8){var F=Math.min(8,V.length-N),O=parseInt(V.substring(N,N+F),E);8>F?(F=f(Math.pow(E,F)),C=C.j(F).add(f(O))):(C=C.j(x),C=C.add(f(O)))}return C}var _=c(0),y=c(1),T=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-B(this).m();for(var V=0,E=1,x=0;x<this.g.length;x++){var C=this.i(x);V+=(0<=C?C:4294967296+C)*E,E*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(R(this))return"0";if(b(this))return"-"+B(this).toString(V);for(var E=f(Math.pow(V,6)),x=this,C="";;){var N=j(x,E).g;x=I(x,N.j(E));var F=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=N,R(x))return F+C;for(;6>F.length;)F="0"+F;C=F+C}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function R(V){if(V.h!=0)return!1;for(var E=0;E<V.g.length;E++)if(V.g[E]!=0)return!1;return!0}function b(V){return V.h==-1}t.l=function(V){return V=I(this,V),b(V)?-1:R(V)?0:1};function B(V){for(var E=V.g.length,x=[],C=0;C<E;C++)x[C]=~V.g[C];return new a(x,~V.h).add(y)}t.abs=function(){return b(this)?B(this):this},t.add=function(V){for(var E=Math.max(this.g.length,V.g.length),x=[],C=0,N=0;N<=E;N++){var F=C+(this.i(N)&65535)+(V.i(N)&65535),O=(F>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);C=O>>>16,F&=65535,O&=65535,x[N]=O<<16|F}return new a(x,x[x.length-1]&-2147483648?-1:0)};function I(V,E){return V.add(B(E))}t.j=function(V){if(R(this)||R(V))return _;if(b(this))return b(V)?B(this).j(B(V)):B(B(this).j(V));if(b(V))return B(this.j(B(V)));if(0>this.l(T)&&0>V.l(T))return f(this.m()*V.m());for(var E=this.g.length+V.g.length,x=[],C=0;C<2*E;C++)x[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<V.g.length;N++){var F=this.i(C)>>>16,O=this.i(C)&65535,ue=V.i(N)>>>16,Ne=V.i(N)&65535;x[2*C+2*N]+=O*Ne,P(x,2*C+2*N),x[2*C+2*N+1]+=F*Ne,P(x,2*C+2*N+1),x[2*C+2*N+1]+=O*ue,P(x,2*C+2*N+1),x[2*C+2*N+2]+=F*ue,P(x,2*C+2*N+2)}for(C=0;C<E;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=E;C<2*E;C++)x[C]=0;return new a(x,0)};function P(V,E){for(;(V[E]&65535)!=V[E];)V[E+1]+=V[E]>>>16,V[E]&=65535,E++}function k(V,E){this.g=V,this.h=E}function j(V,E){if(R(E))throw Error("division by zero");if(R(V))return new k(_,_);if(b(V))return E=j(B(V),E),new k(B(E.g),B(E.h));if(b(E))return E=j(V,B(E)),new k(B(E.g),E.h);if(30<V.g.length){if(b(V)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var x=y,C=E;0>=C.l(V);)x=$(x),C=$(C);var N=K(x,1),F=K(C,1);for(C=K(C,2),x=K(x,2);!R(C);){var O=F.add(C);0>=O.l(V)&&(N=N.add(x),F=O),C=K(C,1),x=K(x,1)}return E=I(V,N.j(E)),new k(N,E)}for(N=_;0<=V.l(E);){for(x=Math.max(1,Math.floor(V.m()/E.m())),C=Math.ceil(Math.log(x)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),F=f(x),O=F.j(E);b(O)||0<O.l(V);)x-=C,F=f(x),O=F.j(E);R(F)&&(F=y),N=N.add(F),V=I(V,O)}return new k(N,V)}t.A=function(V){return j(this,V).h},t.and=function(V){for(var E=Math.max(this.g.length,V.g.length),x=[],C=0;C<E;C++)x[C]=this.i(C)&V.i(C);return new a(x,this.h&V.h)},t.or=function(V){for(var E=Math.max(this.g.length,V.g.length),x=[],C=0;C<E;C++)x[C]=this.i(C)|V.i(C);return new a(x,this.h|V.h)},t.xor=function(V){for(var E=Math.max(this.g.length,V.g.length),x=[],C=0;C<E;C++)x[C]=this.i(C)^V.i(C);return new a(x,this.h^V.h)};function $(V){for(var E=V.g.length+1,x=[],C=0;C<E;C++)x[C]=V.i(C)<<1|V.i(C-1)>>>31;return new a(x,V.h)}function K(V,E){var x=E>>5;E%=32;for(var C=V.g.length-x,N=[],F=0;F<C;F++)N[F]=0<E?V.i(F+x)>>>E|V.i(F+x+1)<<32-E:V.i(F+x);return new a(N,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,VT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,so=a}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FT,zl,zT,rd,Jp,BT,jT,UT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,w){return d==Array.prototype||d==Object.prototype||(d[g]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<d.length;++g){var w=d[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function r(d,g){if(g)e:{var w=i;d=d.split(".");for(var A=0;A<d.length-1;A++){var W=d[A];if(!(W in w))break e;w=w[W]}d=d[d.length-1],A=w[d],g=g(A),g!=A&&g!=null&&e(w,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var w=0,A=!1,W={next:function(){if(!A&&w<d.length){var Q=w++;return{value:g(Q,d[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}r("Array.prototype.values",function(d){return d||function(){return o(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function f(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function m(d,g,w){return d.call.apply(d.bind,arguments)}function _(d,g,w){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),d.apply(g,W)}}return function(){return d.apply(g,arguments)}}function y(d,g,w){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,y.apply(null,arguments)}function T(d,g){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function R(d,g){function w(){}w.prototype=g.prototype,d.aa=g.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(A,W,Q){for(var oe=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)oe[Je-2]=arguments[Je];return g.prototype[W].apply(A,oe)}}function b(d){const g=d.length;if(0<g){const w=Array(g);for(let A=0;A<g;A++)w[A]=d[A];return w}return[]}function B(d,g){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(c(A)){const W=d.length||0,Q=A.length||0;d.length=W+Q;for(let oe=0;oe<Q;oe++)d[W+oe]=A[oe]}else d.push(A)}}class I{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(d){return/^[\s\xa0]*$/.test(d)}function k(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var $=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function K(d,g,w){for(const A in d)g.call(w,d[A],A,d)}function V(d,g){for(const w in d)g.call(void 0,d[w],w,d)}function E(d){const g={};for(const w in d)g[w]=d[w];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,g){let w,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(w in A)d[w]=A[w];for(let Q=0;Q<x.length;Q++)w=x[Q],Object.prototype.hasOwnProperty.call(A,w)&&(d[w]=A[w])}}function N(d){var g=1;d=d.split(":");const w=[];for(;0<g&&d.length;)w.push(d.shift()),g--;return d.length&&w.push(d.join(":")),w}function F(d){u.setTimeout(()=>{throw d},0)}function O(){var d=ie;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class ue{constructor(){this.h=this.g=null}add(g,w){const A=Ne.get();A.set(g,w),this.h?this.h.next=A:this.g=A,this.h=A}}var Ne=new I(()=>new Oe,d=>d.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let at,Y=!1,ie=new ue,ee=()=>{const d=u.Promise.resolve(void 0);at=()=>{d.then(ve)}};var ve=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(w){F(w)}var g=Ne;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}Y=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};u.addEventListener("test",w,g),u.removeEventListener("test",w,g)}catch{}return d}();function Ae(d,g){if(Ie.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if($){e:{try{j(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else w=="mouseover"?g=d.fromElement:w=="mouseout"&&(g=d.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ye[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}R(Ae,Ie);var ye={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function xo(d,g,w,A,W){this.listener=d,this.proxy=null,this.src=g,this.type=w,this.capture=!!A,this.ha=W,this.key=++Pt,this.da=this.fa=!1}function Fn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ki(d){this.src=d,this.g={},this.h=0}ki.prototype.add=function(d,g,w,A,W){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var oe=tr(d,g,A,W);return-1<oe?(g=d[oe],w||(g.fa=!1)):(g=new xo(g,this.src,Q,!!A,W),g.fa=w,d.push(g)),g};function mi(d,g){var w=g.type;if(w in d.g){var A=d.g[w],W=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(A,W,1),Q&&(Fn(g),d.g[w].length==0&&(delete d.g[w],d.h--))}}function tr(d,g,w,A){for(var W=0;W<d.length;++W){var Q=d[W];if(!Q.da&&Q.listener==g&&Q.capture==!!w&&Q.ha==A)return W}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),zn={};function Fr(d,g,w,A,W){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)Fr(d,g[Q],w,A,W);return null}return w=Ro(w),d&&d[Xe]?d.K(g,w,f(A)?!!A.capture:!!A,W):$s(d,g,w,!1,A,W)}function $s(d,g,w,A,W,Q){if(!g)throw Error("Invalid event type");var oe=f(W)?!!W.capture:!!W,Je=Br(d);if(Je||(d[Rt]=Je=new ki(d)),w=Je.add(g,w,A,oe,Q),w.proxy)return w;if(A=In(),w.proxy=A,A.src=d,A.listener=w,d.addEventListener)De||(W=oe),W===void 0&&(W=!1),d.addEventListener(g.toString(),A,W);else if(d.attachEvent)d.attachEvent(nr(g.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function In(){function d(w){return g.call(d.src,d.listener,w)}const g=Ao;return d}function Co(d,g,w,A,W){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Co(d,g[Q],w,A,W);else A=f(A)?!!A.capture:!!A,w=Ro(w),d&&d[Xe]?(d=d.i,g=String(g).toString(),g in d.g&&(Q=d.g[g],w=tr(Q,w,A,W),-1<w&&(Fn(Q[w]),Array.prototype.splice.call(Q,w,1),Q.length==0&&(delete d.g[g],d.h--)))):d&&(d=Br(d))&&(g=d.g[g.toString()],d=-1,g&&(d=tr(g,w,A,W)),(w=-1<d?g[d]:null)&&zr(w))}function zr(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Xe])mi(g.i,d);else{var w=d.type,A=d.proxy;g.removeEventListener?g.removeEventListener(w,A,d.capture):g.detachEvent?g.detachEvent(nr(w),A):g.addListener&&g.removeListener&&g.removeListener(A),(w=Br(g))?(mi(w,d),w.h==0&&(w.src=null,g[Rt]=null)):Fn(d)}}}function nr(d){return d in zn?zn[d]:zn[d]="on"+d}function Ao(d,g){if(d.da)d=!0;else{g=new Ae(g,this);var w=d.listener,A=d.ha||d.src;d.fa&&zr(d),d=w.call(A,g)}return d}function Br(d){return d=d[Rt],d instanceof ki?d:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ro(d){return typeof d=="function"?d:(d[Hs]||(d[Hs]=function(g){return d.handleEvent(g)}),d[Hs])}function nt(){we.call(this),this.i=new ki(this),this.M=this,this.F=null}R(nt,we),nt.prototype[Xe]=!0,nt.prototype.removeEventListener=function(d,g,w,A){Co(this,d,g,w,A)};function ft(d,g){var w,A=d.F;if(A)for(w=[];A;A=A.F)w.push(A);if(d=d.M,A=g.type||g,typeof g=="string")g=new Ie(g,d);else if(g instanceof Ie)g.target=g.target||d;else{var W=g;g=new Ie(A,d),C(g,W)}if(W=!0,w)for(var Q=w.length-1;0<=Q;Q--){var oe=g.g=w[Q];W=Li(oe,A,!0,g)&&W}if(oe=g.g=d,W=Li(oe,A,!0,g)&&W,W=Li(oe,A,!1,g)&&W,w)for(Q=0;Q<w.length;Q++)oe=g.g=w[Q],W=Li(oe,A,!1,g)&&W}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var w=d.g[g],A=0;A<w.length;A++)Fn(w[A]);delete d.g[g],d.h--}}this.F=null},nt.prototype.K=function(d,g,w,A){return this.i.add(String(d),g,!1,w,A)},nt.prototype.L=function(d,g,w,A){return this.i.add(String(d),g,!0,w,A)};function Li(d,g,w,A){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,Q=0;Q<g.length;++Q){var oe=g[Q];if(oe&&!oe.da&&oe.capture==w){var Je=oe.listener,Ot=oe.ha||oe.src;oe.fa&&mi(d.i,oe),W=Je.call(Ot,A)!==!1&&W}}return W&&!A.defaultPrevented}function jr(d,g,w){if(typeof d=="function")w&&(d=y(d,w));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:u.setTimeout(d,g||0)}function Pn(d){d.g=jr(()=>{d.g=null,d.i&&(d.i=!1,Pn(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class xn extends we{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(d){we.call(this),this.h=d,this.g={}}R(Mi,we);var Oi=[];function Ur(d){K(d.g,function(g,w){this.g.hasOwnProperty(w)&&zr(g)},d),d.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),Ur(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=u.JSON.stringify,bo=u.JSON.parse,Ni=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function $r(){}$r.prototype.h=null;function ko(d){return d.h||(d.h=d.i())}function Hr(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){Ie.call(this,"d")}R(ir,Ie);function rr(){Ie.call(this,"c")}R(rr,Ie);var Cn={},Wr=null;function Gr(){return Wr=Wr||new nt}Cn.La="serverreachability";function Ws(d){Ie.call(this,Cn.La,d)}R(Ws,Ie);function sr(d){const g=Gr();ft(g,new Ws(g))}Cn.STAT_EVENT="statevent";function or(d,g){Ie.call(this,Cn.STAT_EVENT,d),this.stat=g}R(or,Ie);function xt(d){const g=Gr();ft(g,new or(g,d))}Cn.Ma="timingevent";function ar(d,g){Ie.call(this,Cn.Ma,d),this.size=g}R(ar,Ie);function Di(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},g)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function An(d,g,w,A,W,Q){d.info(function(){if(d.g)if(Q)for(var oe="",Je=Q.split("&"),Ot=0;Ot<Je.length;Ot++){var Ge=Je[Ot].split("=");if(1<Ge.length){var rt=Ge[0];Ge=Ge[1];var yt=rt.split("_");oe=2<=yt.length&&yt[1]=="type"?oe+(rt+"="+Ge+"&"):oe+(rt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+g+`
`+w+`
`+oe})}function D(d,g,w,A,W,Q,oe){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+g+`
`+w+`
`+Q+" "+oe})}function U(d,g,w,A){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+X(d,w)+(A?" "+A:"")})}function q(d,g){d.info(function(){return"TIMEOUT: "+g})}lr.prototype.info=function(){};function X(d,g){if(!d.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var A=w[d];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<W.length;oe++)W[oe]=""}}}}return mn(w)}catch{return g}}var le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Te;function se(){}R(se,$r),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},Te=new se;function pe(d,g,w,A){this.j=d,this.i=g,this.l=w,this.R=A||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var me={},ze={};function He(d,g,w){d.L=1,d.v=ii(Ct(g)),d.m=w,d.P=!0,Ye(d,null)}function Ye(d,g){d.F=Date.now(),ot(d),d.A=Ct(d.v);var w=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),ec(w.i,"t",A),d.C=0,w=d.j.J,d.h=new fe,d.g=ac(d.j,w?g:null,!d.m),0<d.O&&(d.M=new xn(y(d.Y,d,d.g),d.O)),g=d.U,w=d.g,A=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Oi[0]=W.toString()),W=Oi);for(var Q=0;Q<W.length;Q++){var oe=Fr(w,W[Q],A||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),sr(),An(d.i,d.u,d.A,d.l,d.R,d.m)}pe.prototype.ca=function(d){d=d.target;const g=this.M;g&&_n(d)==3?g.j():this.Y(d)},pe.prototype.Y=function(d){try{if(d==this.g)e:{const yt=_n(this.g);var g=this.g.Ba();const Xr=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||dl(this.g)))){this.J||yt!=4||g==7||(g==8||0>=Xr?sr(3):sr(2)),gn(this);var w=this.g.Z();this.X=w;t:if(Ve(this)){var A=dl(this.g);d="";var W=A.length,Q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$t(this),Rn(this);var oe="";break t}this.h.i=new u.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,d+=this.h.i.decode(A[g],{stream:!(Q&&g==W-1)});A.length=0,this.h.g+=d,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=w==200,D(this.i,this.u,this.A,this.l,this.R,yt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Ot=this.g;if((Je=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Je)){var Ge=Je;break t}}Ge=null}if(w=Ge)U(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,w);else{this.o=!1,this.s=3,xt(12),$t(this),Rn(this);break e}}if(this.P){w=!0;let kt;for(;!this.J&&this.C<oe.length;)if(kt=ut(this,oe),kt==ze){yt==4&&(this.s=4,xt(14),w=!1),U(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==me){this.s=4,xt(15),U(this.i,this.l,oe,"[Invalid Chunk]"),w=!1;break}else U(this.i,this.l,kt,null),ti(this,kt);if(Ve(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||oe.length!=0||this.h.h||(this.s=1,xt(16),w=!1),this.o=this.o&&w,!w)U(this.i,this.l,oe,"[Invalid Chunked Response]"),$t(this),Rn(this);else if(0<oe.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Bo(rt),rt.M=!0,xt(11))}}else U(this.i,this.l,oe,null),ti(this,oe);yt==4&&$t(this),this.o&&!this.J&&(yt==4?fl(this.j,this):(this.o=!1,ot(this)))}else Xh(this.g),w==400&&0<oe.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),$t(this),Rn(this)}}}catch{}finally{}};function Ve(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ut(d,g){var w=d.C,A=g.indexOf(`
`,w);return A==-1?ze:(w=Number(g.substring(w,A)),isNaN(w)?me:(A+=1,A+w>g.length?ze:(g=g.slice(A,A+w),d.C=A+w,g)))}pe.prototype.cancel=function(){this.J=!0,$t(this)};function ot(d){d.S=Date.now()+d.I,Vi(d,d.I)}function Vi(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Di(y(d.ba,d),g)}function gn(d){d.B&&(u.clearTimeout(d.B),d.B=null)}pe.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(q(this.i,this.A),this.L!=2&&(sr(),xt(17)),$t(this),this.s=2,Rn(this)):Vi(this,this.S-d)};function Rn(d){d.j.G==0||d.J||fl(d.j,d)}function $t(d){gn(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Ur(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function ti(d,g){try{var w=d.j;if(w.G!=0&&(w.g==d||ae(w.h,d))){if(!d.K&&ae(w.h,d)&&w.G==3){try{var A=w.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)Uo(w),Fo(w);else break e;zo(w),xt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Di(y(w.Za,w),6e3));if(1>=jn(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else hr(w,11)}else if((d.K||w.g==d)&&Uo(w),!P(g))for(W=w.Da.g.parse(g),g=0;g<W.length;g++){let Ge=W[g];if(w.T=Ge[0],Ge=Ge[1],w.G==2)if(Ge[0]=="c"){w.K=Ge[1],w.ia=Ge[2];const rt=Ge[3];rt!=null&&(w.la=rt,w.j.info("VER="+w.la));const yt=Ge[4];yt!=null&&(w.Aa=yt,w.j.info("SVER="+w.Aa));const Xr=Ge[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(A=1.5*Xr,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const kt=d.g;if(kt){const Ho=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var Q=A.h;Q.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Se(Q,Q.h),Q.h=null))}if(A.D){const Ui=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ui&&(A.ya=Ui,Re(A.I,A.D,Ui))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var oe=d;if(A.qa=$o(A,A.J?A.ia:null,A.W),oe.K){bt(A.h,oe);var Je=oe,Ot=A.L;Ot&&(Je.I=Ot),Je.B&&(gn(Je),ot(Je)),A.g=oe}else vi(A);0<w.i.length&&Yr(w)}else Ge[0]!="stop"&&Ge[0]!="close"||hr(w,7);else w.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?hr(w,7):Vo(w):Ge[0]!="noop"&&w.l&&w.l.ta(Ge),w.v=0)}}sr(4)}catch{}}var Yt=class{constructor(d,g){this.g=d,this.map=g}};function Fi(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zi(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function jn(d){return d.h?1:d.g?d.g.size:0}function ae(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function Se(d,g){d.g?d.g.add(g):d.h=g}function bt(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Fi.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ze(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const w of d.g.values())g=g.concat(w.D);return g}return b(d.i)}function Ht(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var g=[],w=d.length,A=0;A<w;A++)g.push(d[A]);return g}g=[],w=0;for(A in d)g[w++]=d[A];return g}function qr(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var g=[];d=d.length;for(var w=0;w<d;w++)g.push(w);return g}g=[],w=0;for(const A in d)g[w++]=A;return g}}}function ke(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var w=qr(d),A=Ht(d),W=A.length,Q=0;Q<W;Q++)g.call(void 0,A[Q],w&&w[Q],d)}var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function el(d,g){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var A=d[w].indexOf("="),W=null;if(0<=A){var Q=d[w].substring(0,A);W=d[w].substring(A+1)}else Q=d[w];g(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ni(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ni){this.h=d.h,Lo(this,d.j),this.o=d.o,this.g=d.g,ur(this,d.s),this.l=d.l;var g=d.i,w=new cr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Bi(this,w),this.m=d.m}else d&&(g=String(d).match(pt))?(this.h=!1,Lo(this,g[1]||"",!0),this.o=gi(g[2]||""),this.g=gi(g[3]||"",!0),ur(this,g[4]),this.l=gi(g[5]||"",!0),Bi(this,g[6]||"",!0),this.m=gi(g[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}ni.prototype.toString=function(){var d=[],g=this.j;g&&d.push(_i(g,Kr,!0),":");var w=this.g;return(w||g=="file")&&(d.push("//"),(g=this.o)&&d.push(_i(g,Kr,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(_i(w,w.charAt(0)=="/"?il:nl,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",_i(w,rl)),d.join("")};function Ct(d){return new ni(d)}function Lo(d,g,w){d.j=w?gi(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function ur(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Bi(d,g,w){g instanceof cr?(d.i=g,ri(d.i,d.h)):(w||(g=_i(g,Mo)),d.i=new cr(g,d.h))}function Re(d,g,w){d.i.set(g,w)}function ii(d){return Re(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gi(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _i(d,g,w){return typeof d=="string"?(d=encodeURI(d).replace(g,tl),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function tl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Kr=/[#\/\?@]/g,nl=/[#\?:]/g,il=/[#\?]/g,Mo=/[#\?@]/g,rl=/#/g;function cr(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Un(d){d.g||(d.g=new Map,d.h=0,d.i&&el(d.i,function(g,w){d.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=cr.prototype,t.add=function(d,g){Un(this),this.i=null,d=Pe(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(g),this.h+=1,this};function sl(d,g){Un(d),g=Pe(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Oo(d,g){return Un(d),g=Pe(d,g),d.g.has(g)}t.forEach=function(d,g){Un(this),this.g.forEach(function(w,A){w.forEach(function(W){d.call(g,W,A,this)},this)},this)},t.na=function(){Un(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let A=0;A<g.length;A++){const W=d[A];for(let Q=0;Q<W.length;Q++)w.push(g[A])}return w},t.V=function(d){Un(this);let g=[];if(typeof d=="string")Oo(this,d)&&(g=g.concat(this.g.get(Pe(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)g=g.concat(d[w])}return g},t.set=function(d,g){return Un(this),this.i=null,d=Pe(this,d),Oo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function ec(d,g,w){sl(d,g),0<w.length&&(d.i=null,d.g.set(Pe(d,g),b(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var A=g[w];const Q=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var W=Q;oe[A]!==""&&(W+="="+encodeURIComponent(String(oe[A]))),d.push(W)}}return this.i=d.join("&")};function Pe(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function ri(d,g){g&&!d.j&&(Un(d),d.i=null,d.g.forEach(function(w,A){var W=A.toLowerCase();A!=W&&(sl(this,A),ec(this,W,w))},d)),d.j=g}function it(d,g){const w=new lr;if(u.Image){const A=new Image;A.onload=T(si,w,"TestLoadImage: loaded",!0,g,A),A.onerror=T(si,w,"TestLoadImage: error",!1,g,A),A.onabort=T(si,w,"TestLoadImage: abort",!1,g,A),A.ontimeout=T(si,w,"TestLoadImage: timeout",!1,g,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else g(!1)}function tc(d,g){const w=new lr,A=new AbortController,W=setTimeout(()=>{A.abort(),si(w,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:A.signal}).then(Q=>{clearTimeout(W),Q.ok?si(w,"TestPingServer: ok",!0,g):si(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),si(w,"TestPingServer: error",!1,g)})}function si(d,g,w,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(w)}catch{}}function ol(){this.g=new Ni}function al(d,g,w){const A=w||"";try{ke(d,function(W,Q){let oe=W;f(W)&&(oe=mn(W)),g.push(A+Q+"="+encodeURIComponent(oe))})}catch(W){throw g.push(A+"type="+encodeURIComponent("_badmap")),W}}function oi(d){this.l=d.Ub||null,this.j=d.eb||!1}R(oi,$r),oi.prototype.g=function(){return new Zr(this.l,this.j)},oi.prototype.i=function(d){return function(){return d}}({});function Zr(d,g){nt.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Zr,nt),t=Zr.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,$n(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||u).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vt(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qr(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qr(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?vt(this):$n(this),this.readyState==3&&Qr(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,vt(this))},t.Qa=function(d){this.g&&(this.response=d,vt(this))},t.ga=function(){this.g&&vt(this)};function vt(d){d.readyState=4,d.l=null,d.j=null,d.v=null,$n(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=g.next();return d.join(`\r
`)};function $n(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ll(d){let g="";return K(d,function(w,A){g+=A,g+=":",g+=w,g+=`\r
`}),g}function No(d,g,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=ll(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Re(d,g,w))}function mt(d){nt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(mt,nt);var nc=/^https?$/i,ul=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Te.g(),this.v=this.o?ko(this.o):ko(Te),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(Q){ic(this,Q);return}if(d=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)w.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())w.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ul,g,void 0))||A||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of w)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bn(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){ic(this,Q)}};function ic(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,cl(d),Do(d)}function cl(d){d.A||(d.A=!0,ft(d,"complete"),ft(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ft(this,"complete"),ft(this,"abort"),Do(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Do(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Be(this):this.bb())},t.bb=function(){Be(this)};function Be(d){if(d.h&&typeof a<"u"&&(!d.v[1]||_n(d)!=4||d.Z()!=2)){if(d.u&&_n(d)==4)jr(d.Ea,0,d);else if(ft(d,"readystatechange"),_n(d)==4){d.h=!1;try{const oe=d.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var A;if(A=oe===0){var W=String(d.D).match(pt)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),A=!nc.test(W?W.toLowerCase():"")}w=A}if(w)ft(d,"complete"),ft(d,"success");else{d.m=6;try{var Q=2<_n(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",cl(d)}}finally{Do(d)}}}}function Do(d,g){if(d.g){bn(d);const w=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||ft(d,"ready");try{w.onreadystatechange=A}catch{}}}function bn(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function _n(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),bo(g)}};function dl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(d){const g={};d=(d.g&&2<=_n(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(P(d[A]))continue;var w=N(d[A]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=g[W]||[];g[W]=Q,Q.push(w)}V(g,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(d,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||g}function rc(d){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,d),this.cb=dr("retryDelaySeedMs",1e4,d),this.Wa=dr("forwardChannelMaxRetries",2,d),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(d&&d.concurrentRequestLimit),this.Da=new ol,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rc.prototype,t.la=8,t.G=1,t.connect=function(d,g,w,A){xt(0),this.W=d,this.H=g||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=$o(this,null,this.W),Yr(this)};function Vo(d){if(sc(d),d.G==3){var g=d.U++,w=Ct(d.I);if(Re(w,"SID",d.K),Re(w,"RID",g),Re(w,"TYPE","terminate"),Gs(d,w),g=new pe(d,d.j,g),g.L=2,g.v=ii(Ct(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&u.Image&&(new Image().src=g.v,w=!0),w||(g.g=ac(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}oc(d)}function Fo(d){d.g&&(Bo(d),d.g.cancel(),d.g=null)}function sc(d){Fo(d),d.u&&(u.clearTimeout(d.u),d.u=null),Uo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Yr(d){if(!zi(d.h)&&!d.s){d.s=!0;var g=d.Ga;at||ee(),Y||(at(),Y=!0),ie.add(g,d),d.B=0}}function Jh(d,g){return jn(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Di(y(d.Ga,d,g),pl(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new pe(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=E(Q),C(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=hl(this,W,g),w=Ct(this.I),Re(w,"RID",d),Re(w,"CVER",22),this.D&&Re(w,"X-HTTP-Session-Id",this.D),Gs(this,w),Q&&(this.O?g="headers="+encodeURIComponent(String(ll(Q)))+"&"+g:this.m&&No(w,this.m,Q)),Se(this.h,W),this.Ua&&Re(w,"TYPE","init"),this.P?(Re(w,"$req",g),Re(w,"SID","null"),W.T=!0,He(W,w,null)):He(W,w,g),this.G=2}}else this.G==3&&(d?Hn(this,d):this.i.length==0||zi(this.h)||Hn(this))};function Hn(d,g){var w;g?w=g.l:w=d.U++;const A=Ct(d.I);Re(A,"SID",d.K),Re(A,"RID",w),Re(A,"AID",d.T),Gs(d,A),d.m&&d.o&&No(A,d.m,d.o),w=new pe(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),g&&(d.i=g.D.concat(d.i)),g=hl(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Se(d.h,w),He(w,A,g)}function Gs(d,g){d.H&&K(d.H,function(w,A){Re(g,A,w)}),d.l&&ke({},function(w,A){Re(g,A,w)})}function hl(d,g,w){w=Math.min(d.i.length,w);var A=d.l?y(d.l.Na,d.l,d):null;e:{var W=d.i;let Q=-1;for(;;){const oe=["count="+w];Q==-1?0<w?(Q=W[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Je=!0;for(let Ot=0;Ot<w;Ot++){let Ge=W[Ot].g;const rt=W[Ot].map;if(Ge-=Q,0>Ge)Q=Math.max(0,W[Ot].g-100),Je=!1;else try{al(rt,oe,"req"+Ge+"_")}catch{A&&A(rt)}}if(Je){A=oe.join("&");break e}}}return d=d.i.splice(0,w),g.D=d,A}function vi(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;at||ee(),Y||(at(),Y=!0),ie.add(g,d),d.v=0}}function zo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Di(y(d.Fa,d),pl(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,jo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Di(y(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Fo(this),jo(this))};function Bo(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function jo(d){d.g=new pe(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Ct(d.qa);Re(g,"RID","rpc"),Re(g,"SID",d.K),Re(g,"AID",d.T),Re(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Re(g,"TO",d.ja),Re(g,"TYPE","xmlhttp"),Gs(d,g),d.m&&d.o&&No(g,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=ii(Ct(g)),w.m=null,w.P=!0,Ye(w,d)}t.Za=function(){this.C!=null&&(this.C=null,Fo(this),zo(this),xt(19))};function Uo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function fl(d,g){var w=null;if(d.g==g){Uo(d),Bo(d),d.g=null;var A=2}else if(ae(d.h,g))w=g.D,bt(d.h,g),A=1;else return;if(d.G!=0){if(g.o)if(A==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var W=d.B;A=Gr(),ft(A,new ar(A,w)),Yr(d)}else vi(d);else if(W=g.s,W==3||W==0&&0<g.X||!(A==1&&Jh(d,g)||A==2&&zo(d)))switch(w&&0<w.length&&(g=d.h,g.i=g.i.concat(w)),W){case 1:hr(d,5);break;case 4:hr(d,10);break;case 3:hr(d,6);break;default:hr(d,2)}}}function pl(d,g){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*g}function hr(d,g){if(d.j.info("Error code "+g),g==2){var w=y(d.fb,d),A=d.Xa;const W=!A;A=new ni(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Lo(A,"https"),ii(A),W?it(A.toString(),w):tc(A.toString(),w)}else xt(2);d.G=0,d.l&&d.l.sa(g),oc(d),sc(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function oc(d){if(d.G=0,d.ka=[],d.l){const g=Ze(d.h);(g.length!=0||d.i.length!=0)&&(B(d.ka,g),B(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function $o(d,g,w){var A=w instanceof ni?Ct(w):new ni(w);if(A.g!="")g&&(A.g=g+"."+A.g),ur(A,A.s);else{var W=u.location;A=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var Q=new ni(null);A&&Lo(Q,A),g&&(Q.g=g),W&&ur(Q,W),w&&(Q.l=w),A=Q}return w=d.D,g=d.ya,w&&g&&Re(A,w,g),Re(A,"VER",d.la),Gs(d,A),A}function ac(d,g,w){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new mt(new oi({eb:w})):new mt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ml(){}t=ml.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qs(){}qs.prototype.g=function(d,g){return new Wt(d,g)};function Wt(d,g){nt.call(this),this.g=new rc(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!P(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ai(this)}R(Wt,nt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Vo(this.g)},Wt.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=mn(d),d=w);g.i.push(new Yt(g.Ya++,d)),g.G==3&&Yr(g)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,Wt.aa.N.call(this)};function ji(d){ir.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const w in g){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}R(ji,ir);function lc(){rr.call(this),this.status=1}R(lc,rr);function ai(d){this.g=d}R(ai,ml),ai.prototype.ua=function(){ft(this.g,"a")},ai.prototype.ta=function(d){ft(this.g,new ji(d))},ai.prototype.sa=function(d){ft(this.g,new lc)},ai.prototype.ra=function(){ft(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,UT=function(){return new qs},jT=function(){return Gr()},BT=Cn,Jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,rd=le,ge.COMPLETE="complete",zT=ge,Hr.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",nt.prototype.listen=nt.prototype.K,zl=Hr,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,FT=mt}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const Ny="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new bg("@firebase/firestore");function kl(){return fo.logLevel}function _e(t,...e){if(fo.logLevel<=We.DEBUG){const n=e.map(Mg);fo.debug(`Firestore (${qa}): ${t}`,...n)}}function Lr(t,...e){if(fo.logLevel<=We.ERROR){const n=e.map(Mg);fo.error(`Firestore (${qa}): ${t}`,...n)}}function Na(t,...e){if(fo.logLevel<=We.WARN){const n=e.map(Mg);fo.warn(`Firestore (${qa}): ${t}`,...n)}}function Mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: `+t;throw Lr(e),new Error(e)}function tt(t,e){t||be()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class Mb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ob{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0);let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new As;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new As,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},u=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new As)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string"),new $T(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new un(e)}}class Nb{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Db{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Nb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){tt(this.o===void 0);const i=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string"),this.R=n.token,new Vb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=zb(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function Qe(t,e){return t<e?-1:t>e?1:0}function Da(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ut(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Ut(0,0))}static max(){return new Le(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,i){n===void 0?n=0:n>e.length&&be(),i===void 0?i=e.length-n:i>e.length-n&&be(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Iu?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends Iu{construct(e,n,i){return new dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const Bb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Iu{construct(e,n,i){return new en(e,n,i)}static isValidIdentifier(e){return Bb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else u==="`"?(a=!a,r++):u!=="."||a?(i+=u,r++):(o(),r++)}if(o(),a)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(dt.fromString(e))}static fromName(e){return new Ee(dt.fromString(e).popFirst(5))}static empty(){return new Ee(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new dt(e.slice()))}}function jb(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Le.fromTimestamp(i===1e9?new Ut(n+1,0):new Ut(n,i));return new Ls(r,Ee.empty(),e)}function Ub(t){return new Ls(t.readTime,t.key,-1)}class Ls{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ls(Le.min(),Ee.empty(),-1)}static max(){return new Ls(Le.max(),Ee.empty(),-1)}}function $b(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Hb)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,i)=>{n(e)})}static reject(e){return new ne((n,i)=>{i(e)})}static waitFor(e){return new ne((n,i)=>{let r=0,o=0,a=!1;e.forEach(u=>{++r,u.next(()=>{++o,a&&o===r&&n()},c=>i(c))}),a=!0,o===r&&n()})}static or(e){let n=ne.resolve(!1);for(const i of e)n=n.next(r=>r?ne.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new ne((i,r)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(m=>{a[f]=m,++u,u===o&&i(a)},m=>r(m))}})}static doWhile(e,n){return new ne((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function Gb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Og.oe=-1;function bh(t){return t==null}function Wd(t){return t===0&&1/t==-1/0}function qb(t){return typeof t=="number"&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??Jt.RED,this.left=r??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Jt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Jt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vy(this.data.getIterator())}getIteratorFrom(e){return new Vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class Vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new nn(en.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GT("Invalid base64 string: "+o):o}}(e);return new sn(n)}static fromUint8Array(e){const n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const Kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(tt(!!t),typeof t=="string"){let e=0;const n=Kb.exec(t);if(tt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dg(t){const e=t.mapValue.fields.__previous_value__;return Ng(e)?Dg(e):e}function Pu(t){const e=Ms(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,i,r,o,a,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class xu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ng(t)?4:Yb(t)?9007199254740991:Qb(t)?10:11:be()}function er(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pu(t).isEqual(Pu(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=Ms(r.timestampValue),u=Ms(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return po(r.bytesValue).isEqual(po(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Lt(r.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(r.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Lt(r.integerValue)===Lt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=Lt(r.doubleValue),u=Lt(o.doubleValue);return a===u?Wd(a)===Wd(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return Da(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(r,o){const a=r.mapValue.fields||{},u=o.mapValue.fields||{};if(Dy(a)!==Dy(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!er(a[c],u[c])))return!1;return!0}(t,e);default:return be()}}function Cu(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function Va(t,e){if(t===e)return 0;const n=mo(t),i=mo(e);if(n!==i)return Qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const u=Lt(o.integerValue||o.doubleValue),c=Lt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Fy(t.timestampValue,e.timestampValue);case 4:return Fy(Pu(t),Pu(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(o,a){const u=po(o),c=po(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const u=o.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const m=Qe(u[f],c[f]);if(m!==0)return m}return Qe(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const u=Qe(Lt(o.latitude),Lt(a.latitude));return u!==0?u:Qe(Lt(o.longitude),Lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zy(t.arrayValue,e.arrayValue);case 10:return function(o,a){var u,c,f,m;const _=o.fields||{},y=a.fields||{},T=(u=_.value)===null||u===void 0?void 0:u.arrayValue,R=(c=y.value)===null||c===void 0?void 0:c.arrayValue,b=Qe(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0);return b!==0?b:zy(T,R)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Bc.mapValue&&a===Bc.mapValue)return 0;if(o===Bc.mapValue)return 1;if(a===Bc.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=a.fields||{},m=Object.keys(f);c.sort(),m.sort();for(let _=0;_<c.length&&_<m.length;++_){const y=Qe(c[_],m[_]);if(y!==0)return y;const T=Va(u[c[_]],f[m[_]]);if(T!==0)return T}return Qe(c.length,m.length)}(t.mapValue,e.mapValue);default:throw be()}}function Fy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Ms(t),i=Ms(e),r=Qe(n.seconds,i.seconds);return r!==0?r:Qe(n.nanos,i.nanos)}function zy(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=Va(n[r],i[r]);if(o)return o}return Qe(n.length,i.length)}function Fa(t){return em(t)}function em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ms(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=em(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const a of i)o?o=!1:r+=",",r+=`${a}:${em(n.fields[a])}`;return r+"}"}(t.mapValue):be()}function By(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tm(t){return!!t&&"integerValue"in t}function Vg(t){return!!t&&"arrayValue"in t}function jy(t){return!!t&&"nullValue"in t}function Uy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sd(t){return!!t&&"mapValue"in t}function Qb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Xl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Yb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=en.emptyPath(),i={},r=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=u.popLast()}a?i[u.lastSegment()]=Xl(a):r.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];sd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){So(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Mn(Xl(this.value))}}function qT(t){const e=[];return So(t.fields,(n,i)=>{const r=new en([n]);if(sd(i)){const o=qT(i.mapValue).fields;if(o.length===0)e.push(r);else for(const a of o)e.push(r.child(a))}else e.push(r)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,i,r,o,a,u){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new dn(e,0,Le.min(),Le.min(),Le.min(),Mn.empty(),0)}static newFoundDocument(e,n,i,r){return new dn(e,1,n,Le.min(),i,r,0)}static newNoDocument(e,n){return new dn(e,2,n,Le.min(),Le.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Le.min(),Le.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.position=e,this.inclusive=n}}function $y(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],a=t.position[r];if(o.field.isKeyField()?i=Ee.comparator(Ee.fromName(a.referenceValue),n.key):i=Va(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Xb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{}class zt extends KT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new ek(e,n,i):n==="array-contains"?new ik(e,i):n==="in"?new rk(e,i):n==="not-in"?new sk(e,i):n==="array-contains-any"?new ok(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new tk(e,i):new nk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Va(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(Va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends KT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ri(e,n)}matches(e){return ZT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ZT(t){return t.op==="and"}function QT(t){return Jb(t)&&ZT(t)}function Jb(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function nm(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Fa(t.value);if(QT(t))return t.filters.map(e=>nm(e)).join(",");{const e=t.filters.map(n=>nm(n)).join(",");return`${t.op}(${e})`}}function YT(t,e){return t instanceof zt?function(i,r){return r instanceof zt&&i.op===r.op&&i.field.isEqual(r.field)&&er(i.value,r.value)}(t,e):t instanceof Ri?function(i,r){return r instanceof Ri&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,u)=>o&&YT(a,r.filters[u]),!0):!1}(t,e):void be()}function XT(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(t):t instanceof Ri?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(t):"Filter"}class ek extends zt{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class tk extends zt{constructor(e,n){super(e,"in",n),this.keys=JT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nk extends zt{constructor(e,n){super(e,"not-in",n),this.keys=JT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class ik extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vg(n)&&Cu(n.arrayValue,this.value)}}class rk extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class sk extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cu(this.value.arrayValue,n)}}class ok extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Cu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n=null,i=[],r=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=u,this.ue=null}}function Wy(t,e=null,n=[],i=[],r=null,o=null,a=null){return new ak(t,e,n,i,r,o,a)}function Fg(t){const e=Me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>nm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Fa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Fa(i)).join(",")),e.ue=n}return e.ue}function zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hy(t.startAt,e.startAt)&&Hy(t.endAt,e.endAt)}function im(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n=null,i=[],r=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lk(t,e,n,i,r,o,a,u){return new $u(t,e,n,i,r,o,a,u)}function kh(t){return new $u(t)}function Gy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eS(t){return t.collectionGroup!==null}function Jl(t){const e=Me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new nn(en.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new qd(o,i))}),n.has(en.keyField().canonicalString())||e.ce.push(new qd(en.keyField(),i))}return e.ce}function Qi(t){const e=Me(t);return e.le||(e.le=uk(e,Jl(t))),e.le}function uk(t,e){if(t.limitType==="F")return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new qd(r.field,o)});const n=t.endAt?new Gd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Gd(t.startAt.position,t.startAt.inclusive):null;return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function rm(t,e){const n=t.filters.concat([e]);return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sm(t,e,n){return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lh(t,e){return zg(Qi(t),Qi(e))&&t.limitType===e.limitType}function tS(t){return`${Fg(Qi(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>XT(r)).join(", ")}]`),bh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Fa(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Fa(r)).join(",")),`Target(${i})`}(Qi(t))}; limitType=${t.limitType})`}function Mh(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ee.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of Jl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,u,c){const f=$y(a,u,c);return a.inclusive?f<=0:f<0}(i.startAt,Jl(i),r)||i.endAt&&!function(a,u,c){const f=$y(a,u,c);return a.inclusive?f>=0:f>0}(i.endAt,Jl(i),r))}(t,e)}function ck(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nS(t){return(e,n)=>{let i=!1;for(const r of Jl(t)){const o=dk(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function dk(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(o,a,u){const c=a.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Va(c,f):be()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new It(Ee.comparator);function Mr(){return hk}const iS=new It(Ee.comparator);function Bl(...t){let e=iS;for(const n of t)e=e.insert(n.key,n);return e}function rS(t){let e=iS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function no(){return eu()}function sS(){return eu()}function eu(){return new Ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const fk=new It(Ee.comparator),pk=new nn(Ee.comparator);function $e(...t){let e=pk;for(const n of t)e=e.add(n);return e}const mk=new nn(Qe);function gk(){return mk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function oS(t){return{integerValue:""+t}}function _k(t,e){return qb(e)?oS(e):Bg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function vk(t,e,n){return t instanceof Kd?function(r,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ng(o)&&(o=Dg(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Au?lS(t,e):t instanceof Ru?uS(t,e):function(r,o){const a=aS(r,o),u=qy(a)+qy(r.Pe);return tm(a)&&tm(r.Pe)?oS(u):Bg(r.serializer,u)}(t,e)}function yk(t,e,n){return t instanceof Au?lS(t,e):t instanceof Ru?uS(t,e):n}function aS(t,e){return t instanceof Zd?function(i){return tm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Kd extends Oh{}class Au extends Oh{constructor(e){super(),this.elements=e}}function lS(t,e){const n=cS(e);for(const i of t.elements)n.some(r=>er(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ru extends Oh{constructor(e){super(),this.elements=e}}function uS(t,e){let n=cS(e);for(const i of t.elements)n=n.filter(r=>!er(r,i));return{arrayValue:{values:n}}}class Zd extends Oh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qy(t){return Lt(t.integerValue||t.doubleValue)}function cS(t){return Vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wk(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Au&&r instanceof Au||i instanceof Ru&&r instanceof Ru?Da(i.elements,r.elements,er):i instanceof Zd&&r instanceof Zd?er(i.Pe,r.Pe):i instanceof Kd&&r instanceof Kd}(t.transform,e.transform)}class Ek{constructor(e,n){this.version=e,this.transformResults=n}}class xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nh{}function dS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fS(t.key,xi.none()):new Hu(t.key,t.data,xi.none());{const n=t.data,i=Mn.empty();let r=new nn(en.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new Bs(t.key,i,new Zn(r.toArray()),xi.none())}}function Tk(t,e,n){t instanceof Hu?function(r,o,a){const u=r.value.clone(),c=Zy(r.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Bs?function(r,o,a){if(!od(r.precondition,o))return void o.convertToUnknownDocument(a.version);const u=Zy(r.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(hS(r)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function tu(t,e,n,i){return t instanceof Hu?function(o,a,u,c){if(!od(o.precondition,a))return u;const f=o.value.clone(),m=Qy(o.fieldTransforms,c,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Bs?function(o,a,u,c){if(!od(o.precondition,a))return u;const f=Qy(o.fieldTransforms,c,a),m=a.data;return m.setAll(hS(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(o,a,u){return od(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function Sk(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=aS(i.transform,r||null);o!=null&&(n===null&&(n=Mn.empty()),n.set(i.field,o))}return n||null}function Ky(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Da(i,r,(o,a)=>wk(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hu extends Nh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bs extends Nh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Zy(t,e,n){const i=new Map;tt(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],a=o.transform,u=e.data.field(o.field);i.set(o.field,yk(a,u,n[r]))}return i}function Qy(t,e,n){const i=new Map;for(const r of t){const o=r.transform,a=n.data.field(r.field);i.set(r.field,vk(o,a,e))}return i}class fS extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ik extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Tk(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=tu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=tu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=sS();return this.mutations.forEach(r=>{const o=e.get(r.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(r.key)?null:u;const c=dS(a,u);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(Le.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(n,i)=>Ky(n,i))&&Da(this.baseMutations,e.baseMutations,(n,i)=>Ky(n,i))}}class jg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){tt(e.mutations.length===i.length);let r=function(){return fk}();const o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new jg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,qe;function Ak(t){switch(t){default:return be();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function pS(t){if(t===void 0)return Lr("GRPC error has no .code"),J.UNKNOWN;switch(t){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return be()}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new so([4294967295,4294967295],0);function Yy(t){const e=Rk().encode(t),n=new VT;return n.update(e),new Uint8Array(n.digest())}function Xy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new so([n,i],0),new so([r,o],0)]}class Ug{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(i<0)throw new jl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=so.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(so.fromNumber(i)));return r.compare(bk)===1&&(r=new so([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Yy(e),[i,r]=Xy(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(i,r,o);if(!this.de(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Ug(o,r,n);return i.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=Yy(e),[i,r]=Xy(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(i,r,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Dh(Le.min(),r,new It(Qe),Mr(),$e())}}class Wu{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Wu(i,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class mS{constructor(e,n){this.targetId=e,this.me=n}}class gS{constructor(e,n,i=sn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Jy{constructor(){this.fe=0,this.ge=tw(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=$e(),n=$e(),i=$e();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:be()}}),new Wu(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=tw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kk{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=ew(),this.Qe=new It(Qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const o=r.target;if(im(o))if(i===0){const a=new Ee(o.path);this.Ue(n,a,dn.newNoDocument(a,Le.min()))}else tt(i===1);else{const a=this.Ye(n);if(a!==i){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let a,u;try{a=po(i).toUint8Array()}catch(c){if(c instanceof GT)return Na("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Ug(a,r,o)}catch(c){return Na(c instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,o,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const u=this.Je(a);if(u){if(o.current&&im(u.target)){const c=new Ee(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,dn.newNoDocument(c,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let i=$e();this.qe.forEach((o,a)=>{let u=!0;a.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const r=new Dh(e,n,this.Qe,this.ke,i);return this.ke=Mr(),this.qe=ew(),this.Qe=new It(Qe),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nn(Qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ew(){return new It(Ee.comparator)}function tw(){return new It(Ee.comparator)}const Lk={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ok={and:"AND",or:"OR"};class Nk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function om(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _S(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dk(t,e){return Qd(t,e.toTimestamp())}function Yi(t){return tt(!!t),Le.fromTimestamp(function(n){const i=Ms(n);return new Ut(i.seconds,i.nanos)}(t))}function $g(t,e){return am(t,e).canonicalString()}function am(t,e){const n=function(r){return new dt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vS(t){const e=dt.fromString(t);return tt(SS(e)),e}function lm(t,e){return $g(t.databaseId,e.path)}function jf(t,e){const n=vS(e);if(n.get(1)!==t.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(wS(n))}function yS(t,e){return $g(t.databaseId,e)}function Vk(t){const e=vS(t);return e.length===4?dt.emptyPath():wS(e)}function um(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wS(t){return tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nw(t,e,n){return{name:lm(t,e),fields:n.value.mapValue.fields}}function Fk(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(tt(m===void 0||typeof m=="string"),sn.fromBase64String(m||"")):(tt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),sn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){const m=f.code===void 0?J.UNKNOWN:pS(f.code);return new he(m,f.message||"")}(a);n=new gS(i,r,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=jf(t,i.document.name),o=Yi(i.document.updateTime),a=i.document.createTime?Yi(i.document.createTime):Le.min(),u=new Mn({mapValue:{fields:i.document.fields}}),c=dn.newFoundDocument(r,o,a,u),f=i.targetIds||[],m=i.removedTargetIds||[];n=new ad(f,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=jf(t,i.document),o=i.readTime?Yi(i.readTime):Le.min(),a=dn.newNoDocument(r,o),u=i.removedTargetIds||[];n=new ad([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=jf(t,i.document),o=i.removedTargetIds||[];n=new ad([],o,r,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,a=new Ck(r,o),u=i.targetId;n=new mS(u,a)}}return n}function zk(t,e){let n;if(e instanceof Hu)n={update:nw(t,e.key,e.value)};else if(e instanceof fS)n={delete:lm(t,e.key)};else if(e instanceof Bs)n={update:nw(t,e.key,e.data),updateMask:Kk(e.fieldMask)};else{if(!(e instanceof Ik))return be();n={verify:lm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){const u=a.transform;if(u instanceof Kd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Au)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ru)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Zd)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw be()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Dk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(t,e.precondition)),n}function Bk(t,e){return t&&t.length>0?(tt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?Yi(r.updateTime):Yi(o);return a.isEqual(Le.min())&&(a=Yi(o)),new Ek(a,r.transformResults||[])}(n,e))):[]}function jk(t,e){return{documents:[yS(t,e.path)]}}function Uk(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=yS(t,r);const o=function(f){if(f.length!==0)return TS(Ri.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(m=>function(y){return{field:Xo(y.field),direction:Wk(y.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=om(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:r}}function $k(t){let e=Vk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){tt(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(_){const y=ES(_);return y instanceof Ri&&QT(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(_){return _.map(y=>function(R){return new qd(Jo(R.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(_){let y;return y=typeof _=="object"?_.value:_,bh(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(_){const y=!!_.before,T=_.values||[];return new Gd(T,y)}(n.startAt));let f=null;return n.endAt&&(f=function(_){const y=!_.before,T=_.values||[];return new Gd(T,y)}(n.endAt)),lk(e,r,a,o,u,"F",c,f)}function Hk(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ES(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Jo(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Jo(n.unaryFilter.field);return zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jo(n.unaryFilter.field);return zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Jo(n.unaryFilter.field);return zt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return zt.create(Jo(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ri.create(n.compositeFilter.filters.map(i=>ES(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function Wk(t){return Lk[t]}function Gk(t){return Mk[t]}function qk(t){return Ok[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return en.fromServerFormat(t.fieldPath)}function TS(t){return t instanceof zt?function(n){if(n.op==="=="){if(Uy(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(jy(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uy(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(jy(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:Gk(n.op),value:n.value}}}(t):t instanceof Ri?function(n){const i=n.getFilters().map(r=>TS(r));return i.length===1?i[0]:{compositeFilter:{op:qk(n.op),filters:i}}}(t):be()}function Kk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,i,r,o=Le.min(),a=Le.min(),u=sn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.ct=e}}function Qk(t){const e=$k({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.un=new Xk}addToCollectionParentIndex(e,n){return this.un.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ls.min())}updateCollectionGroup(e,n,i){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class Xk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new nn(dt.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new nn(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new za(0)}static kn(){return new za(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.changes=new Ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ne.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&tu(i.mutation,r,Zn.empty(),Ut.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,n,i=$e()){const r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=Bl();return o.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=no();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,$e()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,i,r){let o=Mr();const a=eu(),u=function(){return eu()}();return n.forEach((c,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof Bs)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),tu(m.mutation,f,m.mutation.getFieldMask(),Ut.now())):a.set(f.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>{var _;return u.set(f,new eL(m,(_=a.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const i=eu();let r=new It((a,u)=>a-u),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let m=i.get(c)||Zn.empty();m=u.applyToLocalView(f,m),i.set(c,m);const _=(r.get(u.batchId)||$e()).add(c);r=r.insert(u.batchId,_)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,m=c.value,_=sS();m.forEach(y=>{if(!o.has(y)){const T=dS(n.get(y),i.get(y));T!==null&&_.set(y,T),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,_))}return ne.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):ne.resolve(no());let u=-1,c=o;return a.next(f=>ne.forEach(f,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(m)?ne.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{c=c.insert(m,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,$e())).next(m=>({batchId:u,changes:rS(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(i=>{let r=Bl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let a=Bl();return this.indexManager.getCollectionParents(e,o).next(u=>ne.forEach(u,c=>{const f=function(_,y){return new $u(y,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(m=>{m.forEach((_,y)=>{a=a.insert(_,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((c,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,dn.newInvalidDocument(m)))});let u=Bl();return a.forEach((c,f)=>{const m=o.get(c);m!==void 0&&tu(m.mutation,f,Zn.empty(),Ut.now()),Mh(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ne.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Yi(r.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:Qk(r.bundledQuery),readTime:Yi(r.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.overlays=new It(Ee.comparator),this.Ir=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const i=no();return ne.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),ne.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),ne.resolve()}getOverlaysForCollection(e,n,i){const r=no(),o=n.length+1,a=new Ee(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return ne.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new It((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=no(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=no(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=r)););return ne.resolve(u)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new xk(n,i));let o=this.Ir.get(n);o===void 0&&(o=$e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.Tr=new nn(qt.Er),this.dr=new nn(qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new qt(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new qt(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new Ee(new dt([])),i=new qt(n,e),r=new qt(n,e+1),o=[];return this.dr.forEachInRange([i,r],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ee(new dt([])),i=new qt(n,e),r=new qt(n,e+1);let o=$e();return this.dr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new qt(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class qt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ee.comparator(e.key,n.key)||Qe(e.wr,n.wr)}static Ar(e,n){return Qe(e.wr,n.wr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nn(qt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Pk(o,n,i,r);this.mutationQueue.push(a);for(const u of r)this.br=this.br.add(new qt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ne.resolve(a)}lookupMutationBatch(e,n){return ne.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),o=r<0?0:r;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new qt(n,0),r=new qt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],a=>{const u=this.Dr(a.wr);o.push(u)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new nn(Qe);return n.forEach(r=>{const o=new qt(r,0),a=new qt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],u=>{i=i.add(u.wr)})}),ne.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;Ee.isDocumentKey(o)||(o=o.child(""));const a=new qt(new Ee(o),0);let u=new nn(Qe);return this.br.forEachWhile(c=>{const f=c.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(c.wr)),!0)},a),ne.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){tt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ne.forEach(n.mutations,r=>{const o=new qt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new qt(n,0),r=this.br.firstAfterOrEqual(i);return ne.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.Mr=e,this.docs=function(){return new It(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ne.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let i=Mr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():dn.newInvalidDocument(r))}),ne.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Mr();const a=n.path,u=new Ee(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||$b(Ub(m),i)<=0||(r.has(m.key)||Mh(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,i,r){be()}Or(e,n){return ne.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new aL(this)}getSize(e){return ne.resolve(this.size)}}class aL extends Jk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),ne.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.persistence=e,this.Nr=new Ka(n=>Fg(n),zg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hg,this.targetCount=0,this.kr=za.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new za(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Kn(n),ne.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),ne.waitFor(o).next(()=>r)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return ne.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),ne.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return ne.resolve(i)}containsKey(e,n){return ne.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Og(0),this.Kr=!1,this.Kr=!0,this.$r=new rL,this.referenceDelegate=e(this),this.Ur=new lL(this),this.indexManager=new Yk,this.remoteDocumentCache=function(r){return new oL(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Zk(n),this.Gr=new nL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new sL(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){_e("MemoryPersistence","Starting transaction:",e);const r=new cL(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,n){return ne.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class cL extends Wb{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Jr=new Hg,this.Yr=null}static Zr(e){return new Wg(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),ne.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,i=>{const r=Ee.fromPath(i);return this.ei(e,r).next(o=>{o||n.removeEntry(r,Le.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ne.or([()=>ne.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=$e(),r=$e();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Gg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return mR()?8:Gb(pn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new dL;return this.Xi(e,n,a).next(u=>{if(o.result=u,this.zi)return this.es(e,n,a,u.size)})}).next(()=>o.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(kl()<=We.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(kl()<=We.DEBUG&&_e("QueryEngine","Query:",Yo(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(kl()<=We.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ne.resolve())}Yi(e,n){if(Gy(n))return ne.resolve(null);let i=Qi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=sm(n,null,"F"),i=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const a=$e(...o);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,i).next(c=>{const f=this.ts(n,u);return this.ns(n,f,a,c.readTime)?this.Yi(e,sm(n,null,"F")):this.rs(e,f,n,c)}))})))}Zi(e,n,i,r){return Gy(n)||r.isEqual(Le.min())?ne.resolve(null):this.Ji.getDocuments(e,i).next(o=>{const a=this.ts(n,o);return this.ns(n,a,i,r)?ne.resolve(null):(kl()<=We.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yo(n)),this.rs(e,a,n,jb(r,-1)).next(u=>u))})}ts(e,n){let i=new nn(nS(e));return n.forEach((r,o)=>{Mh(e,o)&&(i=i.add(o))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,n,i){return kl()<=We.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ls.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new It(Qe),this._s=new Ka(o=>Fg(o),zg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function pL(t,e,n,i){return new fL(t,e,n,i)}async function IS(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let c=$e();for(const f of r){a.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(i,c).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:u}))})})}function mL(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,m){const _=f.batch,y=_.keys();let T=ne.resolve();return y.forEach(R=>{T=T.next(()=>m.getEntry(c,R)).next(b=>{const B=f.docVersions.get(R);tt(B!==null),b.version.compareTo(B)<0&&(_.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),m.addEntry(b)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(c,_))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let c=$e();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function PS(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gL(t,e){const n=Me(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const u=[];e.targetChanges.forEach((m,_)=>{const y=r.get(_);if(!y)return;u.push(n.Ur.removeMatchingKeys(o,m.removedDocuments,_).next(()=>n.Ur.addMatchingKeys(o,m.addedDocuments,_)));let T=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(sn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),r=r.insert(_,T),function(b,B,I){return b.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,T,m)&&u.push(n.Ur.updateTargetData(o,T))});let c=Mr(),f=$e();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(_L(o,a,e.documentUpdates).next(m=>{c=m.Ps,f=m.Is})),!i.isEqual(Le.min())){const m=n.Ur.getLastRemoteSnapshotVersion(o).next(_=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return ne.waitFor(u).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(n.os=r,o))}function _L(t,e,n){let i=$e(),r=$e();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=Mr();return n.forEach((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),c.isNoDocument()&&c.version.isEqual(Le.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):_e("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:a,Is:r}})}function vL(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function yL(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(o=>o?(r=o,ne.resolve(r)):n.Ur.allocateTargetId(i).next(a=>(r=new ps(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function cm(t,e,n){const i=Me(t),r=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Uu(a))throw a;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function iw(t,e,n){const i=Me(t);let r=Le.min(),o=$e();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,m){const _=Me(c),y=_._s.get(m);return y!==void 0?ne.resolve(_.os.get(y)):_.Ur.getTargetData(f,m)}(i,a,Qi(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,u.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(a,e,n?r:Le.min(),n?o:$e())).next(u=>(wL(i,ck(e),u),{documents:u,Ts:o})))}function wL(t,e,n){let i=t.us.get(e)||Le.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.us.set(e,i)}class rw{constructor(){this.activeTargetIds=gk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EL{constructor(){this.so=new rw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Uf(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class PL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(n,i,r,o,a){const u=Uf(),c=this.xo(n,i.toUriEncodedString());_e("RestConnection",`Sending RPC '${n}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,o,a),this.No(n,c,f,r).then(m=>(_e("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw Na("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",c,"request:",r),m})}Lo(n,i,r,o,a,u){return this.Mo(n,i,r,o,a)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}xo(n,i){const r=SL[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const o=Uf();return new Promise((a,u)=>{const c=new FT;c.setWithCredentials(!0),c.listenOnce(zT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rd.NO_ERROR:const m=c.getResponseJson();_e(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case rd.TIMEOUT:_e(ln,`RPC '${e}' ${o} timed out`),u(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const _=c.getStatus();if(_e(ln,`RPC '${e}' ${o} failed with status:`,_,"response text:",c.getResponseText()),_>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const R=function(B){const I=B.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(I)>=0?I:J.UNKNOWN}(T.status);u(new he(R,T.message))}else u(new he(J.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new he(J.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{_e(ln,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);_e(ln,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",f,i,15)})}Bo(e,n,i){const r=Uf(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=UT(),u=jT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;const m=o.join("");_e(ln,`Creating RPC '${e}' stream ${r}: ${m}`,c);const _=a.createWebChannel(m,c);let y=!1,T=!1;const R=new IL({Io:B=>{T?_e(ln,`Not sending because RPC '${e}' stream ${r} is closed:`,B):(y||(_e(ln,`Opening RPC '${e}' stream ${r} transport.`),_.open(),y=!0),_e(ln,`RPC '${e}' stream ${r} sending:`,B),_.send(B))},To:()=>_.close()}),b=(B,I,P)=>{B.listen(I,k=>{try{P(k)}catch(j){setTimeout(()=>{throw j},0)}})};return b(_,zl.EventType.OPEN,()=>{T||(_e(ln,`RPC '${e}' stream ${r} transport opened.`),R.yo())}),b(_,zl.EventType.CLOSE,()=>{T||(T=!0,_e(ln,`RPC '${e}' stream ${r} transport closed`),R.So())}),b(_,zl.EventType.ERROR,B=>{T||(T=!0,Na(ln,`RPC '${e}' stream ${r} transport errored:`,B),R.So(new he(J.UNAVAILABLE,"The operation could not be completed")))}),b(_,zl.EventType.MESSAGE,B=>{var I;if(!T){const P=B.data[0];tt(!!P);const k=P,j=k.error||((I=k[0])===null||I===void 0?void 0:I.error);if(j){_e(ln,`RPC '${e}' stream ${r} received error:`,j);const $=j.status;let K=function(x){const C=Dt[x];if(C!==void 0)return pS(C)}($),V=j.message;K===void 0&&(K=J.INTERNAL,V="Unknown error status: "+$+" with message "+j.message),T=!0,R.So(new he(K,V)),_.close()}else _e(ln,`RPC '${e}' stream ${r} received:`,P),R.bo(P)}}),b(u,BT.STAT_EVENT,B=>{B.stat===Jp.PROXY?_e(ln,`RPC '${e}' stream ${r} detected buffering proxy`):B.stat===Jp.NOPROXY&&_e(ln,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){return new Nk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&_e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,i,r,o,a,u,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new he(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xL extends CS{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Fk(this.serializer,e),i=function(o){if(!("targetChange"in o))return Le.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Le.min():a.readTime?Yi(a.readTime):Le.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=um(this.serializer),n.addTarget=function(o,a){let u;const c=a.target;if(u=im(c)?{documents:jk(o,c)}:{query:Uk(o,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=_S(o,a.resumeToken);const f=om(o,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(Le.min())>0){u.readTime=Qd(o,a.snapshotVersion.toTimestamp());const f=om(o,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=Hk(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=um(this.serializer),n.removeTarget=e,this.a_(n)}}class CL extends CS{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return tt(!!e.streamToken),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Bk(e.writeResults,e.commitTime),i=Yi(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=um(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>zk(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,am(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(J.UNKNOWN,o.toString())})}Lo(e,n,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,am(n,i),r,a,u,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class RL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Lr(n),this.D_=!1):_e("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget(async()=>{Io(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Me(c);f.L_.add(4),await Gu(f),f.q_.set("Unknown"),f.L_.delete(4),await Fh(f)}(this))})}),this.q_=new RL(i,r)}}async function Fh(t){if(Io(t))for(const e of t.B_)await e(!0)}async function Gu(t){for(const e of t.B_)await e(!1)}function AS(t,e){const n=Me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Qg(n)?Zg(n):Za(n).r_()&&Kg(n,e))}function qg(t,e){const n=Me(t),i=Za(n);n.N_.delete(e),i.r_()&&RS(n,e),n.N_.size===0&&(i.r_()?i.o_():Io(n)&&n.q_.set("Unknown"))}function Kg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Za(t).A_(e)}function RS(t,e){t.Q_.xe(e),Za(t).R_(e)}function Zg(t){t.Q_=new kk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Za(t).start(),t.q_.v_()}function Qg(t){return Io(t)&&!Za(t).n_()&&t.N_.size>0}function Io(t){return Me(t).L_.size===0}function bS(t){t.Q_=void 0}async function kL(t){t.q_.set("Online")}async function LL(t){t.N_.forEach((e,n)=>{Kg(t,e)})}async function ML(t,e){bS(t),Qg(t)?(t.q_.M_(e),Zg(t)):t.q_.set("Unknown")}async function OL(t,e,n){if(t.q_.set("Online"),e instanceof gS&&e.state===2&&e.cause)try{await async function(r,o){const a=o.cause;for(const u of o.targetIds)r.N_.has(u)&&(await r.remoteSyncer.rejectListen(u,a),r.N_.delete(u),r.Q_.removeTarget(u))}(t,e)}catch(i){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Yd(t,i)}else if(e instanceof ad?t.Q_.Ke(e):e instanceof mS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Le.min()))try{const i=await PS(t.localStore);n.compareTo(i)>=0&&await function(o,a){const u=o.Q_.rt(a);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const m=o.N_.get(f);m&&o.N_.set(f,m.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,f)=>{const m=o.N_.get(c);if(!m)return;o.N_.set(c,m.withResumeToken(sn.EMPTY_BYTE_STRING,m.snapshotVersion)),RS(o,c);const _=new ps(m.target,c,f,m.sequenceNumber);Kg(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(i){_e("RemoteStore","Failed to raise snapshot:",i),await Yd(t,i)}}async function Yd(t,e,n){if(!Uu(e))throw e;t.L_.add(1),await Gu(t),t.q_.set("Offline"),n||(n=()=>PS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Fh(t)})}function kS(t,e){return e().catch(n=>Yd(t,n,e))}async function zh(t){const e=Me(t),n=Os(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NL(e);)try{const r=await vL(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,DL(e,r)}catch(r){await Yd(e,r)}LS(e)&&MS(e)}function NL(t){return Io(t)&&t.O_.length<10}function DL(t,e){t.O_.push(e);const n=Os(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LS(t){return Io(t)&&!Os(t).n_()&&t.O_.length>0}function MS(t){Os(t).start()}async function VL(t){Os(t).p_()}async function FL(t){const e=Os(t);for(const n of t.O_)e.m_(n.mutations)}async function zL(t,e,n){const i=t.O_.shift(),r=jg.from(i,e,n);await kS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await zh(t)}async function BL(t,e){e&&Os(t).V_&&await async function(i,r){if(function(a){return Ak(a)&&a!==J.ABORTED}(r.code)){const o=i.O_.shift();Os(i).s_(),await kS(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await zh(i)}}(t,e),LS(t)&&MS(t)}async function ow(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const i=Io(n);n.L_.add(3),await Gu(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Fh(n)}async function jL(t,e){const n=Me(t);e?(n.L_.delete(2),await Fh(n)):e||(n.L_.add(2),await Gu(n),n.q_.set("Unknown"))}function Za(t){return t.K_||(t.K_=function(n,i,r){const o=Me(n);return o.w_(),new xL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:kL.bind(null,t),Ro:LL.bind(null,t),mo:ML.bind(null,t),d_:OL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Qg(t)?Zg(t):t.q_.set("Unknown")):(await t.K_.stop(),bS(t))})),t.K_}function Os(t){return t.U_||(t.U_=function(n,i,r){const o=Me(n);return o.w_(),new CL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:VL.bind(null,t),mo:BL.bind(null,t),f_:FL.bind(null,t),g_:zL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await zh(t)):(await t.U_.stop(),t.O_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const a=Date.now()+i,u=new Yg(e,n,a,r,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),Uu(t))return new he(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=Bl(),this.sortedSet=new It(this.comparator)}static emptySet(e){return new Ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ea;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.W_=new It(Ee.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ba{constructor(e,n,i,r,o,a,u,c,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new Ba(e,n,Ea.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class $L{constructor(){this.queries=lw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=Me(n),o=r.queries;r.queries=lw(),o.forEach((a,u)=>{for(const c of u.j_)c.onError(i)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function lw(){return new Ka(t=>tS(t),Lh)}async function OS(t,e){const n=Me(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new UL,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await n.onListen(r,!0);break;case 1:o.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const u=Xg(a,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Jg(n)}async function NS(t,e){const n=Me(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function HL(t,e){const n=Me(t);let i=!1;for(const r of e){const o=r.query,a=n.queries.get(o);if(a){for(const u of a.j_)u.X_(r)&&(i=!0);a.z_=r}}i&&Jg(n)}function WL(t,e,n){const i=Me(t),r=i.queries.get(e);if(r)for(const o of r.j_)o.onError(n);i.queries.delete(e)}function Jg(t){t.Y_.forEach(e=>{e.next()})}var dm,uw;(uw=dm||(dm={})).ea="default",uw.Cache="cache";class DS{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ba(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.key=e}}class FS{constructor(e){this.key=e}}class GL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=$e(),this.mutatedKeys=$e(),this.Aa=nS(e),this.Ra=new Ea(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new aw,r=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=r,u=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,_)=>{const y=r.get(m),T=Mh(this.query,_)?_:null,R=!!y&&this.mutatedKeys.has(y.key),b=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let B=!1;y&&T?y.data.isEqual(T.data)?R!==b&&(i.track({type:3,doc:T}),B=!0):this.ga(y,T)||(i.track({type:2,doc:T}),B=!0,(c&&this.Aa(T,c)>0||f&&this.Aa(T,f)<0)&&(u=!0)):!y&&T?(i.track({type:0,doc:T}),B=!0):y&&!T&&(i.track({type:1,doc:y}),B=!0,(c||f)&&(u=!0)),B&&(T?(a=a.add(T),o=b?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{Ra:a,fa:i,ns:u,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((m,_)=>function(T,R){const b=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return b(T)-b(R)}(m.type,_.type)||this.Aa(m.doc,_.doc)),this.pa(i),r=r!=null&&r;const u=n&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,f=c!==this.Ea;return this.Ea=c,a.length!==0||f?{snapshot:new Ba(this.query,e.Ra,o,a,e.mutatedKeys,c===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new aw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=$e(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new FS(i))}),this.da.forEach(i=>{e.has(i)||n.push(new VS(i))}),n}ba(e){this.Ta=e.Ts,this.da=$e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ba.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class KL{constructor(e){this.key=e,this.va=!1}}class ZL{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ka(u=>tS(u),Lh),this.Ma=new Map,this.xa=new Set,this.Oa=new It(Ee.comparator),this.Na=new Map,this.La=new Hg,this.Ba={},this.ka=new Map,this.qa=za.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function QL(t,e,n=!0){const i=HS(t);let r;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=await zS(i,e,n,!0),r}async function YL(t,e){const n=HS(t);await zS(n,e,!0,!1)}async function zS(t,e,n,i){const r=await yL(t.localStore,Qi(e)),o=r.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await XL(t,e,o,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&AS(t.remoteStore,r),u}async function XL(t,e,n,i,r){t.Ka=(_,y,T)=>async function(b,B,I,P){let k=B.view.ma(I);k.ns&&(k=await iw(b.localStore,B.query,!1).then(({documents:V})=>B.view.ma(V,k)));const j=P&&P.targetChanges.get(B.targetId),$=P&&P.targetMismatches.get(B.targetId)!=null,K=B.view.applyChanges(k,b.isPrimaryClient,j,$);return dw(b,B.targetId,K.wa),K.snapshot}(t,_,y,T);const o=await iw(t.localStore,e,!0),a=new GL(e,o.Ts),u=a.ma(o.documents),c=Wu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=a.applyChanges(u,t.isPrimaryClient,c);dw(t,n,f.wa);const m=new qL(e,n,a);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function JL(t,e,n){const i=Me(t),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(a=>!Lh(a,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await cm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&qg(i.remoteStore,r.targetId),hm(i,r.targetId)}).catch(ju)):(hm(i,r.targetId),await cm(i.localStore,r.targetId,!0))}async function eM(t,e){const n=Me(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),qg(n.remoteStore,i.targetId))}async function tM(t,e,n){const i=lM(t);try{const r=await function(a,u){const c=Me(a),f=Ut.now(),m=u.reduce((T,R)=>T.add(R.key),$e());let _,y;return c.persistence.runTransaction("Locally write mutations","readwrite",T=>{let R=Mr(),b=$e();return c.cs.getEntries(T,m).next(B=>{R=B,R.forEach((I,P)=>{P.isValidDocument()||(b=b.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(T,R)).next(B=>{_=B;const I=[];for(const P of u){const k=Sk(P,_.get(P.key).overlayedDocument);k!=null&&I.push(new Bs(P.key,k,qT(k.value.mapValue),xi.exists(!0)))}return c.mutationQueue.addMutationBatch(T,f,I,u)}).next(B=>{y=B;const I=B.applyToLocalDocumentSet(_,b);return c.documentOverlayCache.saveOverlays(T,B.batchId,I)})}).then(()=>({batchId:y.batchId,changes:rS(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,c){let f=a.Ba[a.currentUser.toKey()];f||(f=new It(Qe)),f=f.insert(u,c),a.Ba[a.currentUser.toKey()]=f}(i,r.batchId,n),await qu(i,r.changes),await zh(i.remoteStore)}catch(r){const o=Xg(r,"Failed to persist write");n.reject(o)}}async function BS(t,e){const n=Me(t);try{const i=await gL(n.localStore,e);e.targetChanges.forEach((r,o)=>{const a=n.Na.get(o);a&&(tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.va=!0:r.modifiedDocuments.size>0?tt(a.va):r.removedDocuments.size>0&&(tt(a.va),a.va=!1))}),await qu(n,i,e)}catch(i){await ju(i)}}function cw(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((o,a)=>{const u=a.view.Z_(e);u.snapshot&&r.push(u.snapshot)}),function(a,u){const c=Me(a);c.onlineState=u;let f=!1;c.queries.forEach((m,_)=>{for(const y of _.j_)y.Z_(u)&&(f=!0)}),f&&Jg(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function nM(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),o=r&&r.key;if(o){let a=new It(Ee.comparator);a=a.insert(o,dn.newNoDocument(o,Le.min()));const u=$e().add(o),c=new Dh(Le.min(),new Map,new It(Qe),a,u);await BS(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),e_(i)}else await cm(i.localStore,e,!1).then(()=>hm(i,e,n)).catch(ju)}async function iM(t,e){const n=Me(t),i=e.batch.batchId;try{const r=await mL(n.localStore,e);US(n,i,null),jS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await qu(n,r)}catch(r){await ju(r)}}async function rM(t,e,n){const i=Me(t);try{const r=await function(a,u){const c=Me(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return c.mutationQueue.lookupMutationBatch(f,u).next(_=>(tt(_!==null),m=_.keys(),c.mutationQueue.removeMutationBatch(f,_))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>c.localDocuments.getDocuments(f,m))})}(i.localStore,e);US(i,e,n),jS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await qu(i,r)}catch(r){await ju(r)}}function jS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function US(t,e,n){const i=Me(t);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||$S(t,i)})}function $S(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(qg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),e_(t))}function dw(t,e,n){for(const i of n)i instanceof VS?(t.La.addReference(i.key,e),sM(t,i)):i instanceof FS?(_e("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||$S(t,i.key)):be()}function sM(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(_e("SyncEngine","New document in limbo: "+n),t.xa.add(i),e_(t))}function e_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ee(dt.fromString(e)),i=t.qa.next();t.Na.set(i,new KL(n)),t.Oa=t.Oa.insert(n,i),AS(t.remoteStore,new ps(Qi(kh(n.path)),i,"TargetPurposeLimboResolution",Og.oe))}}async function qu(t,e,n){const i=Me(t),r=[],o=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((u,c)=>{a.push(i.Ka(c,e,n).then(f=>{var m;if((f||n)&&i.isPrimaryClient){const _=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(c.targetId,_?"current":"not-current")}if(f){r.push(f);const _=Gg.Wi(c.targetId,f);o.push(_)}}))}),await Promise.all(a),i.Ca.d_(r),await async function(c,f){const m=Me(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ne.forEach(f,y=>ne.forEach(y.$i,T=>m.persistence.referenceDelegate.addReference(_,y.targetId,T)).next(()=>ne.forEach(y.Ui,T=>m.persistence.referenceDelegate.removeReference(_,y.targetId,T)))))}catch(_){if(!Uu(_))throw _;_e("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const y=_.targetId;if(!_.fromCache){const T=m.os.get(y),R=T.snapshotVersion,b=T.withLastLimboFreeSnapshotVersion(R);m.os=m.os.insert(y,b)}}}(i.localStore,o))}async function oM(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const i=await IS(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(u=>{u.forEach(c=>{c.reject(new he(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await qu(n,i.hs)}}function aM(t,e){const n=Me(t),i=n.Na.get(e);if(i&&i.va)return $e().add(i.key);{let r=$e();const o=n.Ma.get(e);if(!o)return r;for(const a of o){const u=n.Fa.get(a);r=r.unionWith(u.view.Va)}return r}}function HS(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nM.bind(null,e),e.Ca.d_=HL.bind(null,e.eventManager),e.Ca.$a=WL.bind(null,e.eventManager),e}function lM(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rM.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return pL(this.persistence,new hL,e.initialUser,this.serializer)}Ga(e){return new uL(Wg.Zr,this.serializer)}Wa(e){return new EL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,this.syncEngine),await jL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $L}()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),i=function(o){return new PL(o)}(e.databaseInfo);return function(o,a,u,c){return new AL(o,a,u,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,u){return new bL(i,r,o,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>cw(this.syncEngine,n,0),function(){return sw.D()?new sw:new TL}())}createSyncEngine(e,n){return function(r,o,a,u,c,f,m){const _=new ZL(r,o,a,u,c,f);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const o=Me(r);_e("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Gu(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=un.UNAUTHENTICATED,this.clientId=HT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async a=>{_e("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(_e("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Xg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hf(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await IS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cM(t);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>ow(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>ow(e.remoteStore,r)),t._onlineComponents=e}async function cM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===J.FAILED_PRECONDITION||r.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await Hf(t,new Xd)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await Hf(t,new Xd);return t._offlineComponents}async function GS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await hw(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await hw(t,new fm))),t._onlineComponents}function dM(t){return GS(t).then(e=>e.syncEngine)}async function pm(t){const e=await GS(t),n=e.eventManager;return n.onListen=QL.bind(null,e.syncEngine),n.onUnlisten=JL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eM.bind(null,e.syncEngine),n}function hM(t,e,n={}){const i=new As;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,c,f){const m=new WS({next:y=>{m.Za(),a.enqueueAndForget(()=>NS(o,_));const T=y.docs.has(u);!T&&y.fromCache?f.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&y.fromCache&&c&&c.source==="server"?f.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),_=new DS(kh(u.path),m,{includeMetadataChanges:!0,_a:!0});return OS(o,_)}(await pm(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e,n){if(!n)throw new he(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fM(t,e,n,i){if(e===!0&&i===!0)throw new he(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pw(t){if(!Ee.isDocumentKey(t))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mw(t){if(Ee.isDocumentKey(t))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(t);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Lb;switch(i.type){case"firstParty":return new Db(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=fw.get(n);i&&(_e("ComponentProvider","Removing Datastore"),fw.delete(n),i.terminate())}(this),Promise.resolve()}}function pM(t,e,n,i={}){var r;const o=(t=Ci(t,jh))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let u,c;if(typeof i.mockUserToken=="string")u=i.mockUserToken,c=un.MOCK_USER;else{u=lR(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new un(f)}t._authCredentials=new Mb(new $T(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class hn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Rs extends Qa{constructor(e,n,i){super(e,n,kh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Ee(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function t_(t,e,...n){if(t=Qt(t),KS("collection","path",e),t instanceof jh){const i=dt.fromString(e,...n);return mw(i),new Rs(t,null,i)}{if(!(t instanceof hn||t instanceof Rs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return mw(i),new Rs(t.firestore,null,i)}}function Ya(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=HT.newId()),KS("doc","path",e),t instanceof jh){const i=dt.fromString(e,...n);return pw(i),new hn(t,null,new Ee(i))}{if(!(t instanceof hn||t instanceof Rs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return pw(i),new hn(t.firestore,t instanceof Rs?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xS(this,"async_queue_retry"),this.Vu=()=>{const i=$f();i&&_e("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=$f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new As;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Uu(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(i);throw Lr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=Yg.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&be()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function vw(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}class go extends jh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new _w,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function mM(t,e){const n=typeof t=="object"?t:OT(),i=typeof t=="string"?t:"(default)",r=Lg(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=oR("firestore");o&&pM(r,...o)}return r}function n_(t){if(t._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gM(t),t._firestoreClient}function gM(t){var e,n,i;const r=t._freezeSettings(),o=function(u,c,f,m){return new Zb(u,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,qS(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new uM(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(sn.fromBase64String(e))}catch(n){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ja(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=/^__.*__$/;class vM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class ZS{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class o_{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new o_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QS(this.Cu)&&_M.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class yM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Vh(e)}Qu(e,n,i,r=!1){return new o_({Cu:e,methodName:n,qu:i,path:en.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(t){const e=t._freezeSettings(),n=Vh(t._databaseId);return new yM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YS(t,e,n,i,r,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,r);a_("Data must be an object, but it was:",a,i);const u=XS(i,a);let c,f;if(o.merge)c=new Zn(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const y=mm(e,_,n);if(!a.contains(y))throw new he(J.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);eI(m,y)||m.push(y)}c=new Zn(m),f=a.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,f=a.fieldTransforms;return new vM(new Mn(u),c,f)}class Hh extends i_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function wM(t,e,n,i){const r=t.Qu(1,e,n);a_("Data must be an object, but it was:",r,i);const o=[],a=Mn.empty();So(i,(c,f)=>{const m=l_(e,c,n);f=Qt(f);const _=r.Nu(m);if(f instanceof Hh)o.push(m);else{const y=Ku(f,_);y!=null&&(o.push(m),a.set(m,y))}});const u=new Zn(o);return new ZS(a,u,r.fieldTransforms)}function EM(t,e,n,i,r,o){const a=t.Qu(1,e,n),u=[mm(e,i,n)],c=[r];if(o.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(mm(e,o[y])),c.push(o[y+1]);const f=[],m=Mn.empty();for(let y=u.length-1;y>=0;--y)if(!eI(f,u[y])){const T=u[y];let R=c[y];R=Qt(R);const b=a.Nu(T);if(R instanceof Hh)f.push(T);else{const B=Ku(R,b);B!=null&&(f.push(T),m.set(T,B))}}const _=new Zn(f);return new ZS(m,_,a.fieldTransforms)}function TM(t,e,n,i=!1){return Ku(n,t.Qu(i?4:3,e))}function Ku(t,e){if(JS(t=Qt(t)))return a_("Unsupported field value:",e,t),XS(t,e);if(t instanceof i_)return function(i,r){if(!QS(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const o=[];let a=0;for(const u of i){let c=Ku(u,r.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _k(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ut.fromDate(i);return{timestampValue:Qd(r.serializer,o)}}if(i instanceof Ut){const o=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qd(r.serializer,o)}}if(i instanceof r_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ja)return{bytesValue:_S(r.serializer,i._byteString)};if(i instanceof hn){const o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$g(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof s_)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return Bg(u.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Bh(i)}`)}(t,e)}function XS(t,e){const n={};return WT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(i,r)=>{const o=Ku(r,e.Mu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function JS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof r_||t instanceof ja||t instanceof hn||t instanceof i_||t instanceof s_)}function a_(t,e,n){if(!JS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Bh(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function mm(t,e,n){if((e=Qt(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return l_(t,e);throw Jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const SM=new RegExp("[~\\*/\\[\\]]");function l_(t,e,n){if(e.search(SM)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uh(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jd(t,e,n,i,r){const o=i&&!i.isEmpty(),a=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new he(J.INVALID_ARGUMENT,u+t+c)}function eI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IM extends tI{data(){return super.data()}}function u_(t,e){return typeof e=="string"?l_(t,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c_{}class xM extends c_{}function CM(t,e,...n){let i=[];e instanceof c_&&i.push(e),i=i.concat(n),function(o){const a=o.filter(c=>c instanceof d_).length,u=o.filter(c=>c instanceof Wh).length;if(a>1||a>0&&u>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Wh extends xM{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Wh(e,n,i)}_apply(e){const n=this._parse(e);return nI(e._query,n),new Qa(e.firestore,e.converter,rm(e._query,n))}_parse(e){const n=$h(e.firestore);return function(o,a,u,c,f,m,_){let y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ww(_,m);const T=[];for(const R of _)T.push(yw(c,o,R));y={arrayValue:{values:T}}}else y=yw(c,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ww(_,m),y=TM(u,a,_,m==="in"||m==="not-in");return zt.create(f,m,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function AM(t,e,n){const i=e,r=u_("where",t);return Wh._create(r,i,n)}class d_ extends c_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new d_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let a=r;const u=o.getFlattenedFilters();for(const c of u)nI(a,c),a=rm(a,c)}(e._query,n),new Qa(e.firestore,e.converter,rm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yw(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(e)&&n.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(dt.fromString(n));if(!Ee.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return By(t,new Ee(i))}if(n instanceof hn)return By(t,n._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function ww(t,e){if(!Array.isArray(t)||t.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nI(t,e){const n=function(r,o){for(const a of r)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RM{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return So(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;const o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Lt(a.doubleValue));return new s_(o)}convertGeoPoint(e){return new r_(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Dg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=dt.fromString(e);tt(SS(i));const r=new xu(i.get(1),i.get(3)),o=new Ee(i.popFirst(5));return r.isEqual(n)||Lr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rI extends tI{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(u_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ld extends rI{data(e={}){return super.data(e)}}class bM{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ul(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ld(this._firestore,this._userDataWriter,i.key,i,new Ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>{const c=new ld(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ul(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const c=new ld(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ul(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,m=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:kM(u.type),doc:c,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){t=Ci(t,hn);const e=Ci(t.firestore,go);return hM(n_(e),t._key).then(n=>aI(e,t,n))}class sI extends RM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function LM(t,e,n){t=Ci(t,hn);const i=Ci(t.firestore,go),r=iI(t.converter,e);return h_(i,[YS($h(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,xi.none())])}function MM(t,e,n,...i){t=Ci(t,hn);const r=Ci(t.firestore,go),o=$h(r);let a;return a=typeof(e=Qt(e))=="string"||e instanceof Uh?EM(o,"updateDoc",t._key,e,n,i):wM(o,"updateDoc",t._key,e),h_(r,[a.toMutation(t._key,xi.exists(!0))])}function OM(t,e){const n=Ci(t.firestore,go),i=Ya(t),r=iI(t.converter,e);return h_(n,[YS($h(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,xi.exists(!1))]).then(()=>i)}function oI(t,...e){var n,i,r;t=Qt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||vw(e[a])||(o=e[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(vw(e[a])){const _=e[a];e[a]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[a+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),e[a+2]=(r=_.complete)===null||r===void 0?void 0:r.bind(_)}let c,f,m;if(t instanceof hn)f=Ci(t.firestore,go),m=kh(t._key.path),c={next:_=>{e[a]&&e[a](aI(f,t,_))},error:e[a+1],complete:e[a+2]};else{const _=Ci(t,Qa);f=Ci(_.firestore,go),m=_._query;const y=new sI(f);c={next:T=>{e[a]&&e[a](new bM(f,y,_,T))},error:e[a+1],complete:e[a+2]},PM(t._query)}return function(y,T,R,b){const B=new WS(b),I=new DS(T,B,R);return y.asyncQueue.enqueueAndForget(async()=>OS(await pm(y),I)),()=>{B.Za(),y.asyncQueue.enqueueAndForget(async()=>NS(await pm(y),I))}}(n_(f),m,u,c)}function h_(t,e){return function(i,r){const o=new As;return i.asyncQueue.enqueueAndForget(async()=>tM(await dM(i),r,o)),o.promise}(n_(t),e)}function aI(t,e,n){const i=n.docs.get(e._key),r=new sI(t);return new rI(t,r,e._key,i,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){qa=r})(Ga),Oa(new ho("firestore",(i,{instanceIdentifier:r,options:o})=>{const a=i.getProvider("app").getImmediate(),u=new go(new Ob(i.getProvider("auth-internal")),new Fb(i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(f.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Cs(Ny,"4.7.3",e),Cs(Ny,"4.7.3","esm2017")})();var NM="firebase",DM="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(NM,DM,"app");function f_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function lI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VM=lI,uI=new zu("auth","Firebase",lI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new bg("@firebase/auth");function FM(t,...e){eh.logLevel<=We.WARN&&eh.warn(`Auth (${Ga}): ${t}`,...e)}function ud(t,...e){eh.logLevel<=We.ERROR&&eh.error(`Auth (${Ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,...e){throw p_(t,...e)}function Xi(t,...e){return p_(t,...e)}function cI(t,e,n){const i=Object.assign(Object.assign({},VM()),{[e]:n});return new zu("auth","Firebase",i).create(e,{appName:t.name})}function xr(t){return cI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return uI.create(t,...e)}function Ce(t,e,...n){if(!t)throw p_(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ud(e),new Error(e)}function Or(t,e){t||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zM(){return Ew()==="http:"||Ew()==="https:"}function Ew(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zM()||hR()||"connection"in navigator)?navigator.onLine:!0}function jM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=uR()||fR()}get(){return BM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new Zu(3e4,6e4);function js(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Us(t,e,n,i,r={}){return hI(t,r,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const u=Bu(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return dR()||(f.referrerPolicy="no-referrer"),dI.fetch()(fI(t,t.config.apiHost,n,u),f)})}async function hI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},UM),e);try{const r=new WM(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Uc(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Uc(t,"user-disabled",a);const m=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw cI(t,m,f);bi(t,m)}}catch(r){if(r instanceof Vr)throw r;bi(t,"network-request-failed",{message:String(r)})}}async function Qu(t,e,n,i,r={}){const o=await Us(t,e,n,i,r);return"mfaPendingCredential"in o&&bi(t,"multi-factor-auth-required",{_serverResponse:o}),o}function fI(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?m_(t.config,r):`${t.config.apiScheme}://${r}`}function HM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Xi(this.auth,"network-request-failed")),$M.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Xi(t,e,i);return r.customData._tokenResponse=n,r}function Tw(t){return t!==void 0&&t.enterprise!==void 0}class GM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function qM(t,e){return Us(t,"GET","/v2/recaptchaConfig",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e){return Us(t,"POST","/v1/accounts:delete",e)}async function pI(t,e){return Us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZM(t,e=!1){const n=Qt(t),i=await n.getIdToken(e),r=g_(i);Ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:nu(Wf(r.auth_time)),issuedAtTime:nu(Wf(r.iat)),expirationTime:nu(Wf(r.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Wf(t){return Number(t)*1e3}function g_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const r=CT(n);return r?JSON.parse(r):(ud("Failed to decode base64 JWT payload"),null)}catch(r){return ud("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Sw(t){const e=g_(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Vr&&QM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function QM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t){var e;const n=t.auth,i=await t.getIdToken(),r=await bu(t,pI(n,{idToken:i}));Ce(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mI(o.providerUserInfo):[],u=JM(t.providerData,a),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=c?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function XM(t){const e=Qt(t);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JM(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function mI(t){return t.map(e=>{var{providerId:n}=e,i=f_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e){const n=await hI(t,{},async()=>{const i=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=fI(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",dI.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tO(t,e){return Us(t,"POST","/v2/accounts:revokeToken",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Sw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await eO(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new Ta;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Ce(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=f_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await bu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZM(this,e)}reload(){return XM(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qi(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await bu(this,KM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,u,c,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,R=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(u=n.tenantId)!==null&&u!==void 0?u:void 0,B=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:k,emailVerified:j,isAnonymous:$,providerData:K,stsTokenManager:V}=n;Ce(k&&V,e,"internal-error");const E=Ta.fromJSON(this.name,V);Ce(typeof k=="string",e,"internal-error"),ts(_,e.name),ts(y,e.name),Ce(typeof j=="boolean",e,"internal-error"),Ce(typeof $=="boolean",e,"internal-error"),ts(T,e.name),ts(R,e.name),ts(b,e.name),ts(B,e.name),ts(I,e.name),ts(P,e.name);const x=new Tr({uid:k,auth:e,email:y,emailVerified:j,displayName:_,isAnonymous:$,photoURL:R,phoneNumber:T,tenantId:b,stsTokenManager:E,createdAt:I,lastLoginAt:P});return K&&Array.isArray(K)&&(x.providerData=K.map(C=>Object.assign({},C))),B&&(x._redirectEventId=B),x}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ta;r.updateFromServerResponse(n);const o=new Tr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await th(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Ce(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?mI(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),u=new Ta;u.updateFromIdToken(i);const c=new Tr({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new _m(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Map;function Sr(t){Or(t instanceof Function,"Expected a class definition");let e=Iw.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Iw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gI.type="NONE";const Pw=gI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t,e,n){return`firebase:${t}:${e}:${n}`}class Sa{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=cd(this.userKey,r.apiKey,o),this.fullPersistenceKey=cd("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Sa(Sr(Pw),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Sr(Pw);const a=cd(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(a);if(m){const _=Tr._fromJSON(e,m);f!==o&&(u=_),o=f;break}}catch{}const c=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Sa(o,e,i):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Sa(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_I(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TI(e))return"Blackberry";if(SI(e))return"Webos";if(vI(e))return"Safari";if((e.includes("chrome/")||yI(e))&&!e.includes("edge/"))return"Chrome";if(EI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _I(t=pn()){return/firefox\//i.test(t)}function vI(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yI(t=pn()){return/crios\//i.test(t)}function wI(t=pn()){return/iemobile/i.test(t)}function EI(t=pn()){return/android/i.test(t)}function TI(t=pn()){return/blackberry/i.test(t)}function SI(t=pn()){return/webos/i.test(t)}function __(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nO(t=pn()){var e;return __(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iO(){return pR()&&document.documentMode===10}function II(t=pn()){return __(t)||EI(t)||SI(t)||TI(t)||/windows phone/i.test(t)||wI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e=[]){let n;switch(t){case"Browser":n=xw(pn());break;case"Worker":n=`${xw(pn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ga}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e={}){return Us(t,"GET","/v2/passwordPolicy",js(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=6;class aO{constructor(e){var n,i,r,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:oO,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.beforeStateQueue=new rO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pI(this,{idToken:e}),i=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qi(this.app))return Promise.reject(xr(this));const n=e?Qt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qi(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qi(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sO(this),n=new aO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await tO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sr(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,i,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Po(t){return Qt(t)}class Cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=TR(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uO(t){qh=t}function xI(t){return qh.loadJS(t)}function cO(){return qh.recaptchaEnterpriseScript}function dO(){return qh.gapiScript}function hO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fO="recaptcha-enterprise",pO="NO_RECAPTCHA";class mO{constructor(e){this.type=fO,this.auth=Po(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{qM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new GM(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(c=>{u(c)})})}function r(o,a,u){const c=window.grecaptcha;Tw(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(pO)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(u=>{if(!n&&Tw(window.grecaptcha))r(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cO();c.length!==0&&(c+=u),xI(c).then(()=>{r(u,o,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function Aw(t,e,n,i=!1){const r=new mO(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vm(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Aw(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Aw(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e){const n=Lg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if($d(o,e??{}))return r;bi(r,"already-initialized")}return n.initialize({options:e})}function _O(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function vO(t,e,n){const i=Po(t);Ce(i._canInitEmulator,i,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=CI(e),{host:a,port:u}=yO(e),c=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${a}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),wO()}function CI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yO(t){const e=CI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Rw(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:Rw(a)}}}function Rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function EO(t,e){return Us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return Qu(t,"POST","/v1/accounts:signInWithPassword",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e){return Qu(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}async function IO(t,e){return Qu(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends v_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ku(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ku(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,n,"signInWithPassword",TO);case"emailLink":return SO(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,i,"signUpPassword",EO);case"emailLink":return IO(e,{idToken:n,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return Qu(t,"POST","/v1/accounts:signInWithIdp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="http://localhost";class _o extends v_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=f_(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new _o(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ia(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:PO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CO(t){const e=Vl(Fl(t)).link,n=e?Vl(Fl(e)).deep_link_id:null,i=Vl(Fl(t)).deep_link_id;return(i?Vl(Fl(i)).link:null)||i||n||e||t}class y_{constructor(e){var n,i,r,o,a,u;const c=Vl(Fl(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,m=(i=c.oobCode)!==null&&i!==void 0?i:null,_=xO((r=c.mode)!==null&&r!==void 0?r:null);Ce(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=CO(e);try{return new y_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,n){return ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=y_.parseLink(n);return Ce(i,"argument-error"),ku._fromEmailAndCode(e,i.code,i.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends AI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Yu{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ls.credential(n,i)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Yu{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Yu{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return cs.credential(n,i)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e){return Qu(t,"POST","/v1/accounts:signUp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Tr._fromIdTokenResponse(e,i,r),a=bw(i);return new vo({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=bw(i);return new vo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function bw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends Vr{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new nh(e,n,i,r)}}function RI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(t,o,e,i):o})}async function RO(t,e,n=!1){const i=await bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e,n=!1){const{auth:i}=t;if(qi(i.app))return Promise.reject(xr(i));const r="reauthenticate";try{const o=await bu(t,RI(i,r,e,t),n);Ce(o.idToken,i,"internal-error");const a=g_(o.idToken);Ce(a,i,"internal-error");const{sub:u}=a;return Ce(t.uid===u,i,"user-mismatch"),vo._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t,e,n=!1){if(qi(t.app))return Promise.reject(xr(t));const i="signIn",r=await RI(t,i,e),o=await vo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function kO(t,e){return bI(Po(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(t){const e=Po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LO(t,e,n){if(qi(t.app))return Promise.reject(xr(t));const i=Po(t),a=await vm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&kI(t),c}),u=await vo._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function MO(t,e,n){return qi(t.app)?Promise.reject(xr(t)):kO(Qt(t),Xa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&kI(t),i})}function OO(t,e,n,i){return Qt(t).onIdTokenChanged(e,n,i)}function NO(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function LI(t,e,n,i){return Qt(t).onAuthStateChanged(e,n,i)}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1e3,VO=10;class OI extends MI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=II(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);iO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,VO):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OI.type="LOCAL";const FO=OI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends MI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NI.type="SESSION";const DI=NI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Kh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async f=>f(n.origin,o)),c=await zO(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const f=w_("",20);r.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(_){const y=_;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(m),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function jO(t){Ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function UO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $O(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HO(){return VI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebaseLocalStorageDb",WO=1,rh="firebaseLocalStorage",zI="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function GO(){const t=indexedDB.deleteDatabase(FI);return new Xu(t).toPromise()}function ym(){const t=indexedDB.open(FI,WO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(rh,{keyPath:zI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(rh)?e(i):(i.close(),await GO(),e(await ym()))})})}async function kw(t,e,n){const i=Zh(t,!0).put({[zI]:e,value:n});return new Xu(i).toPromise()}async function qO(t,e){const n=Zh(t,!1).get(e),i=await new Xu(n).toPromise();return i===void 0?null:i.value}function Lw(t,e){const n=Zh(t,!0).delete(e);return new Xu(n).toPromise()}const KO=800,ZO=3;class BI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ZO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(HO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UO(),!this.activeServiceWorker)return;this.sender=new BO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$O()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await kw(e,ih,"1"),await Lw(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>kw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>qO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Zh(r,!1).getAll();return new Xu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BI.type="LOCAL";const QO=BI;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t,e){return e?Sr(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends v_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XO(t){return bI(t.auth,new E_(t),t.bypassAuthState)}function JO(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),bO(n,new E_(t),t.bypassAuthState)}async function eN(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),RO(n,new E_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XO;case"linkViaPopup":case"linkViaRedirect":return eN;case"reauthViaPopup":case"reauthViaRedirect":return JO;default:bi(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Zu(2e3,1e4);class fa extends jI{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=w_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tN.get())};e()}}fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="pendingRedirect",dd=new Map;class iN extends jI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=dd.get(this.auth._key());if(!e){try{const i=await rN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}dd.set(this.auth._key(),e)}return this.bypassAuthState||dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rN(t,e){const n=aN(e),i=oN(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function sN(t,e){dd.set(t._key(),e)}function oN(t){return Sr(t._redirectPersistence)}function aN(t){return cd(nN,t.config.apiKey,t.name)}async function lN(t,e,n=!1){if(qi(t.app))return Promise.reject(xr(t));const i=Po(t),r=YO(i,e),a=await new iN(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=10*60*1e3;class cN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!UI(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Xi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mw(e))}saveEventToCache(e){this.cachedEventUids.add(Mw(e)),this.lastProcessedEventTime=Date.now()}}function Mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(t,e={}){return Us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pN=/^https?/;async function mN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hN(t);for(const n of e)try{if(gN(n))return}catch{}bi(t,"unauthorized-domain")}function gN(t){const e=gm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!pN.test(n))return!1;if(fN.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Zu(3e4,6e4);function Ow(){const t=Ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vN(t){return new Promise((e,n)=>{var i,r,o;function a(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),n(Xi(t,"network-request-failed"))},timeout:_N.get()})}if(!((r=(i=Ji().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Ji().gapi)===null||o===void 0)&&o.load)a();else{const u=hO("iframefcb");return Ji()[u]=()=>{gapi.load?a():n(Xi(t,"network-request-failed"))},xI(`${dO()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw hd=null,e})}let hd=null;function yN(t){return hd=hd||vN(t),hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Zu(5e3,15e3),EN="__/auth/iframe",TN="emulator/auth/iframe",SN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PN(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?m_(e,TN):`https://${t.config.authDomain}/${EN}`,i={apiKey:e.apiKey,appName:t.name,v:Ga},r=IN.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Bu(i).slice(1)}`}async function xN(t){const e=await yN(t),n=Ji().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:PN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const a=Xi(t,"network-request-failed"),u=Ji().setTimeout(()=>{o(a)},wN.get());function c(){Ji().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AN=500,RN=600,bN="_blank",kN="http://localhost";class Nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LN(t,e,n,i=AN,r=RN){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},CN),{width:i.toString(),height:r.toString(),top:o,left:a}),f=pn().toLowerCase();n&&(u=yI(f)?bN:n),_I(f)&&(e=e||kN,c.scrollbars="yes");const m=Object.entries(c).reduce((y,[T,R])=>`${y}${T}=${R},`,"");if(nO(f)&&u!=="_self")return MN(e||"",u),new Nw(null);const _=window.open(e||"",u,m);Ce(_,t,"popup-blocked");try{_.focus()}catch{}return new Nw(_)}function MN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="__/auth/handler",NN="emulator/auth/handler",DN=encodeURIComponent("fac");async function Dw(t,e,n,i,r,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ga,eventId:r};if(e instanceof AI){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",ER(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))a[m]=_}if(e instanceof Yu){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await t._getAppCheckToken(),f=c?`#${DN}=${encodeURIComponent(c)}`:"";return`${VN(t)}?${Bu(u).slice(1)}${f}`}function VN({config:t}){return t.emulator?m_(t,NN):`https://${t.authDomain}/${ON}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="webStorageSupport";class FN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DI,this._completeRedirectFn=lN,this._overrideRedirectResult=sN}async _openPopup(e,n,i,r){var o;Or((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Dw(e,n,i,gm(),r);return LN(e,a,w_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Dw(e,n,i,gm(),r);return jO(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Or(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await xN(e),i=new cN(e);return n.register("authEvent",r=>(Ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gf,{type:Gf},r=>{var o;const a=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Gf];a!==void 0&&n(!!a),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return II()||vI()||__()}}const zN=FN;var Vw="@firebase/auth",Fw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UN(t){Oa(new ho("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;Ce(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PI(t)},f=new lO(i,r,o,c);return _O(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Oa(new ho("auth-internal",e=>{const n=Po(e.getProvider("auth").getImmediate());return(i=>new BN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(Vw,Fw,jN(t)),Cs(Vw,Fw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=5*60,HN=bT("authIdTokenMaxAge")||$N;let zw=null;const WN=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>HN)return;const r=n==null?void 0:n.token;zw!==r&&(zw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function $I(t=OT()){const e=Lg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gO(t,{popupRedirectResolver:zN,persistence:[QO,FO,DI]}),i=bT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=WN(o.toString());NO(n,a,()=>a(n.currentUser)),OO(n,u=>a(u))}}const r=AT("auth");return r&&vO(n,`http://${r}`),n}function GN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uO({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Xi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",GN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UN("Browser");const qN={apiKey:"AIzaSyAPJBKfnpcxHtkPkS18CH4mb9AeFCq_9nY",authDomain:"programacion-ec39e.firebaseapp.com",projectId:"programacion-ec39e",storageBucket:"programacion-ec39e.appspot.com",messagingSenderId:"136757147578",appId:"1:136757147578:web:57d88a0060a8c982564f83"},HI=MT(qN),Qh=$I(HI),Ns=mM(HI),KN=t=>{const e=Dr(),n=()=>{e(-1)};return M.jsxs("div",{className:"BackBtn",children:[M.jsx("button",{onClick:n,children:M.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Back.webp?alt=media&token=e360dcdd-63d6-41f7-af72-77f6785e2105",alt:"backbutton"})}),M.jsx("p",{children:t.NameEvent})]})},ZN=t=>M.jsxs("div",{className:"FunctionBtn",children:[M.jsxs("button",{onClick:t.NextShooping,children:[M.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/cart%20remove.webp?alt=media&token=28e87dcc-db6b-4ae1-9930-dde0bd1f4138",alt:"card shopping icon"}),"Shopping"]}),M.jsxs("button",{onClick:t.NextFound,children:[M.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/bill%20dollar.webp?alt=media&token=bd78246c-f823-480d-970c-dafcd1cb4198",alt:"bill dollar icon"}),"Found"]}),M.jsxs("button",{onClick:t.NextInvite,children:[M.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Group%201000004492.webp?alt=media&token=44607f6a-e0da-4848-9470-32938dd70d3b",alt:"invited icon"}),"Invite"]})]}),QN=t=>{const e=()=>{console.log("Shooping clicked")},n=()=>{console.log("Found clicked")},i=()=>{console.log("Invite clicked")};return M.jsxs("div",{className:"InfoCard",children:[M.jsx("div",{className:"ImgBanner",children:M.jsx("img",{src:t.img,alt:""})}),M.jsxs("div",{className:"NameEvent",children:[M.jsx("h1",{children:t.NameEvent}),M.jsx("button",{children:M.jsx("img",{className:"BtnImg",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/edit.webp?alt=media&token=f1998577-37d2-406c-a190-706a7a7850e4",alt:"edit"})})]}),M.jsx("div",{className:"Host",children:M.jsx("p",{children:t.Host})}),M.jsxs("div",{className:"InfoSections",children:[M.jsxs("div",{className:"InfoSecttion1",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Event Type:"})," ",t.EventType]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Dress Code:"})," ",t.DressCode]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Date:"})," ",t.Date]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Start Time:"})," ",t.StartTime]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Location:"})," ",t.Location]})]}),M.jsxs("div",{className:"InfoSecttion2",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Description:"})," "]}),M.jsxs("p",{children:[" ",t.Description]})]})]}),M.jsx("div",{className:"FunctionBtns",children:M.jsx(ZN,{NextShooping:e,NextFound:n,NextInvite:i})})]})},YN=({eventId:t})=>{const[e,n]=H.useState(null);return H.useEffect(()=>{(async()=>{const r=Ya(Ns,"events",t),o=await Gh(r);o.exists()?(console.log("Event data:",o.data()),n(o.data())):console.log("No such document!")})()},[t]),e?M.jsxs("div",{className:"MapInfo",children:[M.jsx(KN,{NameEvent:e.name}),M.jsx(QN,{img:e.image,NameEvent:e.name,Host:e.host,EventType:e.eventType,DressCode:e.dressCode,Date:e.date,StartTime:e.startTime,Location:e.location,Description:e.description})]}):M.jsx("p",{children:"Loading event details..."})},XN=()=>{const{userId:t}=Cg(),e=Rg(),[n,i]=H.useState(null);return H.useEffect(()=>{const r=LI(Qh,async o=>{if(o){if(!t){console.error("User ID is undefined.");return}try{const a=Ya(Ns,"users",t),u=await Gh(a);if(u.exists()){const c=u.data();i(c.username||null)}else console.error("No such document!"),i(null)}catch(a){console.error("Error fetching user document:",a),i(null)}}else i(null)});return()=>r()},[t]),M.jsxs("nav",{className:`nav_bar3 ${e?"scrolled":""}`,children:[M.jsx("h1",{className:"app_name",children:"Eventix"}),M.jsxs("ul",{className:"nav_links",children:[M.jsx("li",{children:M.jsx("a",{href:"/",children:"ABOUT US"})}),M.jsx("li",{children:M.jsx("a",{href:"/about",children:"SUPPORT"})})]}),M.jsx("img",{id:"profile_img_nav",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Porfileimg.webp?alt=media&token=71078af7-b02e-415d-9b56-8002af2a9a15",alt:"Profile"}),M.jsx("p",{id:"user_name_nav",children:n||"Guest"})]})},JN=()=>{const t=xg(),{id:e}=t.state||{};return console.log("Received ID:",e),M.jsxs("div",{className:"Detail-screen",children:[M.jsx(XN,{}),e?M.jsx(YN,{eventId:e}):M.jsx("p",{children:"No event selected"})]})},eD=()=>{const{userId:t}=Cg(),e=Rg(),[n,i]=H.useState(null);return H.useEffect(()=>{const r=LI(Qh,async o=>{if(o){if(!t){console.error("User ID is undefined.");return}try{const a=Ya(Ns,"users",t),u=await Gh(a);if(u.exists()){const c=u.data();i(c.username||null)}else console.error("No such document!"),i(null)}catch(a){console.error("Error fetching user document:",a),i(null)}}else i(null)});return()=>r()},[t]),M.jsxs("nav",{className:`nav_bar2 ${e?"scrolled":""}`,children:[M.jsx("h1",{className:"app_name",children:"Eventix"}),M.jsxs("ul",{className:"nav_links",children:[M.jsx("li",{children:M.jsx("a",{href:"/",children:"ABOUT US"})}),M.jsx("li",{children:M.jsx("a",{href:"/about",children:"SUPPORT"})})]}),M.jsx("img",{id:"profile_img_nav",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Group%201000004464.webp?alt=media&token=6852ddce-d999-4ccf-ac59-8a1f43b3b770",alt:"Profile"}),M.jsx("p",{id:"user_name_nav",children:n||"Guest"})]})},wm=[{name:"Ana",Ocation:"Costume party",Date:"01/10/2024",img:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Mask%20group.webp?alt=media&token=2ab7bb2b-2c87-4749-b773-f8eb655b8d44"},{name:"Sebas",Ocation:"Aniversary",Date:"01/10/2024",img:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Mask%20group.webp?alt=media&token=2ab7bb2b-2c87-4749-b773-f8eb655b8d44"},{name:"David",Ocation:"Wedding",Date:"01/10/2024",img:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Mask%20group.webp?alt=media&token=2ab7bb2b-2c87-4749-b773-f8eb655b8d44"},{name:"Valen",Ocation:"Birthday",Date:"01/10/2024",img:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Mask%20group.webp?alt=media&token=2ab7bb2b-2c87-4749-b773-f8eb655b8d44"}],tD=({name:t,ocation:e,url:n})=>M.jsxs("div",{id:"acepted_invitation",children:[M.jsx("img",{id:"porfile_img",src:n,alt:t}),M.jsx("div",{id:"invitation_text",children:M.jsxs("p",{id:"acepted_invitations-p",children:[t," accept your invitation for ",M.jsx("span",{id:"ocation",children:e})]})})]}),nD=()=>M.jsx("div",{id:"acepted_invitations_shadow",children:M.jsxs("div",{id:"acepted_invitations_div",children:[M.jsx("h2",{id:"acepted_invitations_tittle",children:"Invitations"}),wm.map((t,e)=>M.jsx(tD,{name:t.name,ocation:t.Ocation,url:t.img},e))]})}),WI=()=>M.jsxs("div",{children:[M.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"}),M.jsx("button",{id:"deleted",children:M.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]}),GI=({icon:t})=>M.jsx("div",{children:M.jsx("button",{id:"edit_button",children:t})}),Bw=({name:t,ocation:e,date:n,url:i})=>M.jsxs("div",{id:"Invitation",children:[M.jsx("img",{id:"porfile_img",src:i,alt:t}),M.jsxs("div",{id:"invitation_text",children:[M.jsxs("p",{id:"name",children:[t," sent you an invitation"]}),M.jsxs("p",{id:"ocation",children:["Ocation: ",M.jsx("span",{id:"ocation_type",children:e})]}),M.jsxs("p",{id:"date",children:["Date: ",M.jsx("span",{id:"date_number",children:n})]})]}),M.jsxs("div",{id:"Buttons",children:[M.jsx(WI,{}),M.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"}),M.jsx(GI,{icon:M.jsx("span",{className:"material-symbols-outlined",children:"check"})})]})]});function jw(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function T_(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:jw(e[n])&&jw(t[n])&&Object.keys(e[n]).length>0&&T_(t[n],e[n])})}const qI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ja(){const t=typeof document<"u"?document:{};return T_(t,qI),t}const iD={document:qI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ei(){const t=typeof window<"u"?window:{};return T_(t,iD),t}function rD(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function sD(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Em(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function sh(){return Date.now()}function oD(t){const e=ei();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function aD(t,e){e===void 0&&(e="x");const n=ei();let i,r,o;const a=oD(t);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(u=>u.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(r==="none"?"":r)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=o.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=o.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function $c(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function lD(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function qn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!lD(i)){const r=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,a=r.length;o<a;o+=1){const u=r[o],c=Object.getOwnPropertyDescriptor(i,u);c!==void 0&&c.enumerable&&($c(t[u])&&$c(i[u])?i[u].__swiper__?t[u]=i[u]:qn(t[u],i[u]):!$c(t[u])&&$c(i[u])?(t[u]={},i[u].__swiper__?t[u]=i[u]:qn(t[u],i[u])):t[u]=i[u])}}}return t}function Hc(t,e,n){t.style.setProperty(e,n)}function KI(t){let{swiper:e,targetPosition:n,side:i}=t;const r=ei(),o=-e.translate;let a=null,u;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const f=n>o?"next":"prev",m=(y,T)=>f==="next"&&y>=T||f==="prev"&&y<=T,_=()=>{u=new Date().getTime(),a===null&&(a=u);const y=Math.max(Math.min((u-a)/c,1),0),T=.5-Math.cos(y*Math.PI)/2;let R=o+T*(n-o);if(m(R,n)&&(R=n),e.wrapperEl.scrollTo({[i]:R}),m(R,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:R})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(_)};_()}function Ir(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(i=>i.matches(e)):n}function uD(t,e){const n=e.contains(t);return!n&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(t):n}function oh(t){try{console.warn(t);return}catch{}}function Tm(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:rD(e)),n}function cD(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function dD(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function ms(t,e){return ei().getComputedStyle(t,null).getPropertyValue(e)}function Uw(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function hD(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function $w(t,e,n){const i=ei();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}let qf;function fD(){const t=ei(),e=Ja();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function ZI(){return qf||(qf=fD()),qf}let Kf;function pD(t){let{userAgent:e}=t===void 0?{}:t;const n=ZI(),i=ei(),r=i.navigator.platform,o=e||i.navigator.userAgent,a={ios:!1,android:!1},u=i.screen.width,c=i.screen.height,f=o.match(/(Android);?[\s\/]+([\d.]+)?/);let m=o.match(/(iPad).*OS\s([\d_]+)/);const _=o.match(/(iPod)(.*OS\s([\d_]+))?/),y=!m&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=r==="Win32";let R=r==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&R&&n.touch&&b.indexOf(`${u}x${c}`)>=0&&(m=o.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),R=!1),f&&!T&&(a.os="android",a.android=!0),(m||y||_)&&(a.os="ios",a.ios=!0),a}function QI(t){return t===void 0&&(t={}),Kf||(Kf=pD(t)),Kf}let Zf;function mD(){const t=ei(),e=QI();let n=!1;function i(){const u=t.navigator.userAgent.toLowerCase();return u.indexOf("safari")>=0&&u.indexOf("chrome")<0&&u.indexOf("android")<0}if(i()){const u=String(t.navigator.userAgent);if(u.includes("Version/")){const[c,f]=u.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=c<16||c===16&&f<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=i(),a=o||r&&e.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:a,isWebView:r}}function gD(){return Zf||(Zf=mD()),Zf}function _D(t){let{swiper:e,on:n,emit:i}=t;const r=ei();let o=null,a=null;const u=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(_=>{a=r.requestAnimationFrame(()=>{const{width:y,height:T}=e;let R=y,b=T;_.forEach(B=>{let{contentBoxSize:I,contentRect:P,target:k}=B;k&&k!==e.el||(R=P?P.width:(I[0]||I).inlineSize,b=P?P.height:(I[0]||I).blockSize)}),(R!==y||b!==T)&&u()})}),o.observe(e.el))},f=()=>{a&&r.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},m=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){c();return}r.addEventListener("resize",u),r.addEventListener("orientationchange",m)}),n("destroy",()=>{f(),r.removeEventListener("resize",u),r.removeEventListener("orientationchange",m)})}function vD(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=[],a=ei(),u=function(m,_){_===void 0&&(_={});const y=a.MutationObserver||a.WebkitMutationObserver,T=new y(R=>{if(e.__preventObserver__)return;if(R.length===1){r("observerUpdate",R[0]);return}const b=function(){r("observerUpdate",R[0])};a.requestAnimationFrame?a.requestAnimationFrame(b):a.setTimeout(b,0)});T.observe(m,{attributes:typeof _.attributes>"u"?!0:_.attributes,childList:e.isElement||(typeof _.childList>"u"?!0:_).childList,characterData:typeof _.characterData>"u"?!0:_.characterData}),o.push(T)},c=()=>{if(e.params.observer){if(e.params.observeParents){const m=hD(e.hostEl);for(let _=0;_<m.length;_+=1)u(m[_])}u(e.hostEl,{childList:e.params.observeSlideChildren}),u(e.wrapperEl,{attributes:!1})}},f=()=>{o.forEach(m=>{m.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",c),i("destroy",f)}var yD={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];e.apply(i,a)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,o)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(o,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],n=o.slice(1,o.length),i=t):(e=o[0].events,n=o[0].data,i=o[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(f=>{f.apply(i,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(f=>{f.apply(i,n)})}),t}};function wD(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ms(i,"padding-left")||0,10)-parseInt(ms(i,"padding-right")||0,10),n=n-parseInt(ms(i,"padding-top")||0,10)-parseInt(ms(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function ED(){const t=this;function e(C,N){return parseFloat(C.getPropertyValue(t.getDirectionLabel(N))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:o,rtlTranslate:a,wrongRTL:u}=t,c=t.virtual&&n.virtual.enabled,f=c?t.virtual.slides.length:t.slides.length,m=Ir(r,`.${t.params.slideClass}, swiper-slide`),_=c?t.virtual.slides.length:m.length;let y=[];const T=[],R=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(t));let B=n.slidesOffsetAfter;typeof B=="function"&&(B=n.slidesOffsetAfter.call(t));const I=t.snapGrid.length,P=t.slidesGrid.length;let k=n.spaceBetween,j=-b,$=0,K=0;if(typeof o>"u")return;typeof k=="string"&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*o:typeof k=="string"&&(k=parseFloat(k)),t.virtualSize=-k,m.forEach(C=>{a?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Hc(i,"--swiper-centered-offset-before",""),Hc(i,"--swiper-centered-offset-after",""));const V=n.grid&&n.grid.rows>1&&t.grid;V?t.grid.initSlides(m):t.grid&&t.grid.unsetSlides();let E;const x=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(C=>typeof n.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<_;C+=1){E=0;let N;if(m[C]&&(N=m[C]),V&&t.grid.updateSlide(C,N,m),!(m[C]&&ms(N,"display")==="none")){if(n.slidesPerView==="auto"){x&&(m[C].style[t.getDirectionLabel("width")]="");const F=getComputedStyle(N),O=N.style.transform,ue=N.style.webkitTransform;if(O&&(N.style.transform="none"),ue&&(N.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?$w(N,"width"):$w(N,"height");else{const Ne=e(F,"width"),Oe=e(F,"padding-left"),at=e(F,"padding-right"),Y=e(F,"margin-left"),ie=e(F,"margin-right"),ee=F.getPropertyValue("box-sizing");if(ee&&ee==="border-box")E=Ne+Y+ie;else{const{clientWidth:ve,offsetWidth:we}=N;E=Ne+Oe+at+Y+ie+(we-ve)}}O&&(N.style.transform=O),ue&&(N.style.webkitTransform=ue),n.roundLengths&&(E=Math.floor(E))}else E=(o-(n.slidesPerView-1)*k)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),m[C]&&(m[C].style[t.getDirectionLabel("width")]=`${E}px`);m[C]&&(m[C].swiperSlideSize=E),R.push(E),n.centeredSlides?(j=j+E/2+$/2+k,$===0&&C!==0&&(j=j-o/2-k),C===0&&(j=j-o/2-k),Math.abs(j)<1/1e3&&(j=0),n.roundLengths&&(j=Math.floor(j)),K%n.slidesPerGroup===0&&y.push(j),T.push(j)):(n.roundLengths&&(j=Math.floor(j)),(K-Math.min(t.params.slidesPerGroupSkip,K))%t.params.slidesPerGroup===0&&y.push(j),T.push(j),j=j+E+k),t.virtualSize+=E+k,$=E,K+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+B,a&&u&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+k}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+k}px`),V&&t.grid.updateWrapperSize(E,y),!n.centeredSlides){const C=[];for(let N=0;N<y.length;N+=1){let F=y[N];n.roundLengths&&(F=Math.floor(F)),y[N]<=t.virtualSize-o&&C.push(F)}y=C,Math.floor(t.virtualSize-o)-Math.floor(y[y.length-1])>1&&y.push(t.virtualSize-o)}if(c&&n.loop){const C=R[0]+k;if(n.slidesPerGroup>1){const N=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),F=C*n.slidesPerGroup;for(let O=0;O<N;O+=1)y.push(y[y.length-1]+F)}for(let N=0;N<t.virtual.slidesBefore+t.virtual.slidesAfter;N+=1)n.slidesPerGroup===1&&y.push(y[y.length-1]+C),T.push(T[T.length-1]+C),t.virtualSize+=C}if(y.length===0&&(y=[0]),k!==0){const C=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");m.filter((N,F)=>!n.cssMode||n.loop?!0:F!==m.length-1).forEach(N=>{N.style[C]=`${k}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let C=0;R.forEach(F=>{C+=F+(k||0)}),C-=k;const N=C>o?C-o:0;y=y.map(F=>F<=0?-b:F>N?N+B:F)}if(n.centerInsufficientSlides){let C=0;R.forEach(F=>{C+=F+(k||0)}),C-=k;const N=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(C+N<o){const F=(o-C-N)/2;y.forEach((O,ue)=>{y[ue]=O-F}),T.forEach((O,ue)=>{T[ue]=O+F})}}if(Object.assign(t,{slides:m,snapGrid:y,slidesGrid:T,slidesSizesGrid:R}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Hc(i,"--swiper-centered-offset-before",`${-y[0]}px`),Hc(i,"--swiper-centered-offset-after",`${t.size/2-R[R.length-1]/2}px`);const C=-t.snapGrid[0],N=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(F=>F+C),t.slidesGrid=t.slidesGrid.map(F=>F+N)}if(_!==f&&t.emit("slidesLengthChange"),y.length!==I&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),T.length!==P&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const C=`${n.containerModifierClass}backface-hidden`,N=t.el.classList.contains(C);_<=n.maxBackfaceHiddenSlides?N||t.el.classList.add(C):N&&t.el.classList.remove(C)}}function TD(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=u=>i?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{n.push(u)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const u=e.activeIndex+o;if(u>e.slides.length&&!i)break;n.push(a(u))}else n.push(a(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const u=n[o].offsetHeight;r=u>r?u:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function SD(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const Hw=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function ID(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:o}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;r&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=n.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let c=0;c<i.length;c+=1){const f=i[c];let m=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=i[0].swiperSlideOffset);const _=(a+(n.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+u),y=(a-o[0]+(n.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+u),T=-(a-m),R=T+e.slidesSizesGrid[c],b=T>=0&&T<=e.size-e.slidesSizesGrid[c],B=T>=0&&T<e.size-1||R>1&&R<=e.size||T<=0&&R>=e.size;B&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(c)),Hw(f,B,n.slideVisibleClass),Hw(f,b,n.slideFullyVisibleClass),f.progress=r?-_:_,f.originalProgress=r?-y:y}}function PD(t){const e=this;if(typeof t>"u"){const m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:o,isEnd:a,progressLoop:u}=e;const c=o,f=a;if(i===0)r=0,o=!0,a=!0;else{r=(t-e.minTranslate())/i;const m=Math.abs(t-e.minTranslate())<1,_=Math.abs(t-e.maxTranslate())<1;o=m||r<=0,a=_||r>=1,m&&(r=0),_&&(r=1)}if(n.loop){const m=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),y=e.slidesGrid[m],T=e.slidesGrid[_],R=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=y?u=(b-y)/R:u=(b+R-T)/R,u>1&&(u-=1)}Object.assign(e,{progress:r,progressLoop:u,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!c&&e.emit("reachBeginning toEdge"),a&&!f&&e.emit("reachEnd toEdge"),(c&&!o||f&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}const Qf=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function xD(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,o=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,u=_=>Ir(i,`.${n.slideClass}${_}, swiper-slide${_}`)[0];let c,f,m;if(o)if(n.loop){let _=r-t.virtual.slidesBefore;_<0&&(_=t.virtual.slides.length+_),_>=t.virtual.slides.length&&(_-=t.virtual.slides.length),c=u(`[data-swiper-slide-index="${_}"]`)}else c=u(`[data-swiper-slide-index="${r}"]`);else a?(c=e.filter(_=>_.column===r)[0],m=e.filter(_=>_.column===r+1)[0],f=e.filter(_=>_.column===r-1)[0]):c=e[r];c&&(a||(m=dD(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=e[0]),f=cD(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(_=>{Qf(_,_===c,n.slideActiveClass),Qf(_,_===m,n.slideNextClass),Qf(_,_===f,n.slidePrevClass)}),t.emitSlidesClasses()}const fd=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Yf=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Sm=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=r,u=[a-e];u.push(...Array.from({length:e}).map((c,f)=>a+i+f)),t.slides.forEach((c,f)=>{u.includes(c.column)&&Yf(t,f)});return}const o=r+i-1;if(t.params.rewind||t.params.loop)for(let a=r-e;a<=o+e;a+=1){const u=(a%n+n)%n;(u<r||u>o)&&Yf(t,u)}else for(let a=Math.max(r-e,0);a<=Math.min(o+e,n-1);a+=1)a!==r&&(a>o||a<r)&&Yf(t,a)};function CD(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?r=o:i>=e[o]&&i<e[o+1]&&(r=o+1):i>=e[o]&&(r=o);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function AD(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:a,snapIndex:u}=e;let c=t,f;const m=T=>{let R=T-e.virtual.slidesBefore;return R<0&&(R=e.virtual.slides.length+R),R>=e.virtual.slides.length&&(R-=e.virtual.slides.length),R};if(typeof c>"u"&&(c=CD(e)),i.indexOf(n)>=0)f=i.indexOf(n);else{const T=Math.min(r.slidesPerGroupSkip,c);f=T+Math.floor((c-T)/r.slidesPerGroup)}if(f>=i.length&&(f=i.length-1),c===o&&!e.params.loop){f!==u&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(c===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(c);return}const _=e.grid&&r.grid&&r.grid.rows>1;let y;if(e.virtual&&r.virtual.enabled&&r.loop)y=m(c);else if(_){const T=e.slides.filter(b=>b.column===c)[0];let R=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(R)&&(R=Math.max(e.slides.indexOf(T),0)),y=Math.floor(R/r.grid.rows)}else if(e.slides[c]){const T=e.slides[c].getAttribute("data-swiper-slide-index");T?y=parseInt(T,10):y=c}else y=c;Object.assign(e,{previousSnapIndex:u,snapIndex:f,previousRealIndex:a,realIndex:y,previousIndex:o,activeIndex:c}),e.initialized&&Sm(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==y&&e.emit("realIndexChange"),e.emit("slideChange"))}function RD(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(u=>{!r&&u.matches&&u.matches(`.${i.slideClass}, swiper-slide`)&&(r=u)});let o=!1,a;if(r){for(let u=0;u<n.slides.length;u+=1)if(n.slides[u]===r){o=!0,a=u;break}}if(r&&o)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var bD={updateSize:wD,updateSlides:ED,updateAutoHeight:TD,updateSlidesOffset:SD,updateSlidesProgress:ID,updateProgress:PD,updateSlidesClasses:xD,updateActiveIndex:AD,updateClickedSlide:RD};function kD(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:o}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let a=aD(o,t);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function LD(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:a}=n;let u=0,c=0;const f=0;n.isHorizontal()?u=i?-t:t:c=t,r.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c,r.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:r.virtualTranslate||(n.isHorizontal()?u-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${u}px, ${c}px, ${f}px)`);let m;const _=n.maxTranslate()-n.minTranslate();_===0?m=0:m=(t-n.minTranslate())/_,m!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function MD(){return-this.snapGrid[0]}function OD(){return-this.snapGrid[this.snapGrid.length-1]}function ND(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const o=this,{params:a,wrapperEl:u}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const c=o.minTranslate(),f=o.maxTranslate();let m;if(i&&t>c?m=c:i&&t<f?m=f:m=t,o.updateProgress(m),a.cssMode){const _=o.isHorizontal();if(e===0)u[_?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return KI({swiper:o,targetPosition:-m,side:_?"left":"top"}),!0;u.scrollTo({[_?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(y){!o||o.destroyed||y.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var DD={getTranslate:kD,setTranslate:LD,minTranslate:MD,maxTranslate:OD,translateTo:ND};function VD(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function YI(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:o,previousIndex:a}=e;let u=i;if(u||(o>a?u="next":o<a?u="prev":u="reset"),e.emit(`transition${r}`),n&&o!==a){if(u==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),u==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function FD(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),YI({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function zD(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),YI({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var BD={setTransition:VD,transitionStart:FD,transitionEnd:zD};function jD(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;let a=t;a<0&&(a=0);const{params:u,snapGrid:c,slidesGrid:f,previousIndex:m,activeIndex:_,rtlTranslate:y,wrapperEl:T,enabled:R}=o;if(!R&&!i&&!r||o.destroyed||o.animating&&u.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const b=Math.min(o.params.slidesPerGroupSkip,a);let B=b+Math.floor((a-b)/o.params.slidesPerGroup);B>=c.length&&(B=c.length-1);const I=-c[B];if(u.normalizeSlideIndex)for(let $=0;$<f.length;$+=1){const K=-Math.floor(I*100),V=Math.floor(f[$]*100),E=Math.floor(f[$+1]*100);typeof f[$+1]<"u"?K>=V&&K<E-(E-V)/2?a=$:K>=V&&K<E&&(a=$+1):K>=V&&(a=$)}if(o.initialized&&a!==_&&(!o.allowSlideNext&&(y?I>o.translate&&I>o.minTranslate():I<o.translate&&I<o.minTranslate())||!o.allowSlidePrev&&I>o.translate&&I>o.maxTranslate()&&(_||0)!==a))return!1;a!==(m||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(I);let P;a>_?P="next":a<_?P="prev":P="reset";const k=o.virtual&&o.params.virtual.enabled;if(!(k&&r)&&(y&&-I===o.translate||!y&&I===o.translate))return o.updateActiveIndex(a),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),u.effect!=="slide"&&o.setTranslate(I),P!=="reset"&&(o.transitionStart(n,P),o.transitionEnd(n,P)),!1;if(u.cssMode){const $=o.isHorizontal(),K=y?I:-I;if(e===0)k&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),k&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[$?"scrollLeft":"scrollTop"]=K})):T[$?"scrollLeft":"scrollTop"]=K,k&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return KI({swiper:o,targetPosition:K,side:$?"left":"top"}),!0;T.scrollTo({[$?"left":"top"]:K,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(I),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(n,P),e===0?o.transitionEnd(n,P):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(K){!o||o.destroyed||K.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,P))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function UD(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const o=r.grid&&r.params.grid&&r.params.grid.rows>1;let a=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a=a+r.virtual.slidesBefore;else{let u;if(o){const y=a*r.params.grid.rows;u=r.slides.filter(T=>T.getAttribute("data-swiper-slide-index")*1===y)[0].column}else u=r.getSlideIndexByData(a);const c=o?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:f}=r.params;let m=r.params.slidesPerView;m==="auto"?m=r.slidesPerViewDynamic():(m=Math.ceil(parseFloat(r.params.slidesPerView,10)),f&&m%2===0&&(m=m+1));let _=c-u<m;if(f&&(_=_||u<Math.ceil(m/2)),i&&f&&r.params.slidesPerView!=="auto"&&!o&&(_=!1),_){const y=f?u<r.activeIndex?"prev":"next":u-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:y,slideTo:!0,activeSlideIndex:y==="next"?u+1:u-c+1,slideRealIndex:y==="next"?r.realIndex:void 0})}if(o){const y=a*r.params.grid.rows;a=r.slides.filter(T=>T.getAttribute("data-swiper-slide-index")*1===y)[0].column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame(()=>{r.slideTo(a,e,n,i)}),r}function $D(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:o,animating:a}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let u=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(u=Math.max(i.slidesPerViewDynamic("current",!0),1));const c=i.activeIndex<o.slidesPerGroupSkip?1:u,f=i.virtual&&o.virtual.enabled;if(o.loop){if(a&&!f&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+c,t,e,n)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+c,t,e,n)}function HD(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:o,slidesGrid:a,rtlTranslate:u,enabled:c,animating:f}=i;if(!c||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const m=i.virtual&&r.virtual.enabled;if(r.loop){if(f&&!m&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const _=u?i.translate:-i.translate;function y(I){return I<0?-Math.floor(Math.abs(I)):Math.floor(I)}const T=y(_),R=o.map(I=>y(I));let b=o[R.indexOf(T)-1];if(typeof b>"u"&&r.cssMode){let I;o.forEach((P,k)=>{T>=P&&(I=k)}),typeof I<"u"&&(b=o[I>0?I-1:I])}let B=0;if(typeof b<"u"&&(B=a.indexOf(b),B<0&&(B=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(B=B-i.slidesPerViewDynamic("previous",!0)+1,B=Math.max(B,0))),r.rewind&&i.isBeginning){const I=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(I,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(B,t,e,n)}),!0;return i.slideTo(B,t,e,n)}function WD(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function GD(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let o=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,o),u=a+Math.floor((o-a)/r.params.slidesPerGroup),c=r.rtlTranslate?r.translate:-r.translate;if(c>=r.snapGrid[u]){const f=r.snapGrid[u],m=r.snapGrid[u+1];c-f>(m-f)*i&&(o+=r.params.slidesPerGroup)}else{const f=r.snapGrid[u-1],m=r.snapGrid[u];c-f<=(m-f)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,t,e,n)}function qD(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,o;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(Ir(n,`${a}[data-swiper-slide-index="${o}"]`)[0]),Em(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(Ir(n,`${a}[data-swiper-slide-index="${o}"]`)[0]),Em(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var KD={slideTo:jD,slideToLoop:UD,slideNext:$D,slidePrev:HD,slideReset:WD,slideToClosest:GD,slideToClickedSlide:qD};function ZD(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{Ir(i,`.${n.slideClass}, swiper-slide`).forEach((_,y)=>{_.setAttribute("data-swiper-slide-index",y)})},o=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(o?n.grid.rows:1),u=e.slides.length%a!==0,c=o&&e.slides.length%n.grid.rows!==0,f=m=>{for(let _=0;_<m;_+=1){const y=e.isElement?Tm("swiper-slide",[n.slideBlankClass]):Tm("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(y)}};if(u){if(n.loopAddBlankSlides){const m=a-e.slides.length%a;f(m),e.recalcSlides(),e.updateSlides()}else oh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(c){if(n.loopAddBlankSlides){const m=n.grid.rows-e.slides.length%n.grid.rows;f(m),e.recalcSlides(),e.updateSlides()}else oh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function QD(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:a,byMousewheel:u}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:f,allowSlidePrev:m,allowSlideNext:_,slidesEl:y,params:T}=c,{centeredSlides:R}=T;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&T.virtual.enabled){n&&(!T.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):T.centeredSlides&&c.snapIndex<T.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=m,c.allowSlideNext=_,c.emit("loopFix");return}let b=T.slidesPerView;b==="auto"?b=c.slidesPerViewDynamic():(b=Math.ceil(parseFloat(T.slidesPerView,10)),R&&b%2===0&&(b=b+1));const B=T.slidesPerGroupAuto?b:T.slidesPerGroup;let I=B;I%B!==0&&(I+=B-I%B),I+=T.loopAdditionalSlides,c.loopedSlides=I;const P=c.grid&&T.grid&&T.grid.rows>1;f.length<b+I?oh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):P&&T.grid.fill==="row"&&oh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],j=[];let $=c.activeIndex;typeof o>"u"?o=c.getSlideIndex(f.filter(O=>O.classList.contains(T.slideActiveClass))[0]):$=o;const K=i==="next"||!i,V=i==="prev"||!i;let E=0,x=0;const C=P?Math.ceil(f.length/T.grid.rows):f.length,F=(P?f[o].column:o)+(R&&typeof r>"u"?-b/2+.5:0);if(F<I){E=Math.max(I-F,B);for(let O=0;O<I-F;O+=1){const ue=O-Math.floor(O/C)*C;if(P){const Ne=C-ue-1;for(let Oe=f.length-1;Oe>=0;Oe-=1)f[Oe].column===Ne&&k.push(Oe)}else k.push(C-ue-1)}}else if(F+b>C-I){x=Math.max(F-(C-I*2),B);for(let O=0;O<x;O+=1){const ue=O-Math.floor(O/C)*C;P?f.forEach((Ne,Oe)=>{Ne.column===ue&&j.push(Oe)}):j.push(ue)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),V&&k.forEach(O=>{f[O].swiperLoopMoveDOM=!0,y.prepend(f[O]),f[O].swiperLoopMoveDOM=!1}),K&&j.forEach(O=>{f[O].swiperLoopMoveDOM=!0,y.append(f[O]),f[O].swiperLoopMoveDOM=!1}),c.recalcSlides(),T.slidesPerView==="auto"?c.updateSlides():P&&(k.length>0&&V||j.length>0&&K)&&c.slides.forEach((O,ue)=>{c.grid.updateSlide(ue,O,c.slides)}),T.watchSlidesProgress&&c.updateSlidesOffset(),n){if(k.length>0&&V){if(typeof e>"u"){const O=c.slidesGrid[$],Ne=c.slidesGrid[$+E]-O;u?c.setTranslate(c.translate-Ne):(c.slideTo($+Math.ceil(E),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-Ne,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-Ne))}else if(r){const O=P?k.length/T.grid.rows:k.length;c.slideTo(c.activeIndex+O,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(j.length>0&&K)if(typeof e>"u"){const O=c.slidesGrid[$],Ne=c.slidesGrid[$-x]-O;u?c.setTranslate(c.translate-Ne):(c.slideTo($-x,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-Ne,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-Ne))}else{const O=P?j.length/T.grid.rows:j.length;c.slideTo(c.activeIndex-O,0,!1,!0)}}if(c.allowSlidePrev=m,c.allowSlideNext=_,c.controller&&c.controller.control&&!a){const O={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(ue=>{!ue.destroyed&&ue.params.loop&&ue.loopFix({...O,slideTo:ue.params.slidesPerView===T.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...O,slideTo:c.controller.control.params.slidesPerView===T.slidesPerView?n:!1})}c.emit("loopFix")}function YD(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[o]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var XD={loopCreate:ZD,loopFix:QD,loopDestroy:YD};function JD(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function e2(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var t2={setGrabCursor:JD,unsetGrabCursor:e2};function n2(t,e){e===void 0&&(e=this);function n(i){if(!i||i===Ja()||i===ei())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function Ww(t,e,n){const i=ei(),{params:r}=t,o=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return o&&(n<=a||n>=i.innerWidth-a)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function i2(t){const e=this,n=Ja();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Ww(e,i,i.targetTouches[0].pageX);return}const{params:o,touches:a,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let c=i.target;if(o.touchEventsTarget==="wrapper"&&!uD(c,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const f=!!o.noSwipingClass&&o.noSwipingClass!=="",m=i.composedPath?i.composedPath():i.path;f&&i.target&&i.target.shadowRoot&&m&&(c=m[0]);const _=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,y=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(y?n2(_,c):c.closest(_))){e.allowClick=!0;return}if(o.swipeHandler&&!c.closest(o.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const T=a.currentX,R=a.currentY;if(!Ww(e,i,T))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=T,a.startY=R,r.touchStartTime=sh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let b=!0;c.matches(r.focusableElements)&&(b=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==c&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!c.matches(r.focusableElements))&&n.activeElement.blur();const B=b&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||B)&&!c.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function r2(t){const e=Ja(),n=this,i=n.touchEventsData,{params:r,touches:o,rtlTranslate:a,enabled:u}=n;if(!u||!r.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(i.touchId!==null||c.pointerId!==i.pointerId))return;let f;if(c.type==="touchmove"){if(f=[...c.changedTouches].filter(K=>K.identifier===i.touchId)[0],!f||f.identifier!==i.touchId)return}else f=c;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",c);return}const m=f.pageX,_=f.pageY;if(c.preventedByNestedSwiper){o.startX=m,o.startY=_;return}if(!n.allowTouchMove){c.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:m,startY:_,currentX:m,currentY:_}),i.touchStartTime=sh());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(_<o.startY&&n.translate<=n.maxTranslate()||_>o.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(m<o.startX&&n.translate<=n.maxTranslate()||m>o.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",c),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=_;const y=o.currentX-o.startX,T=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(y**2+T**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let K;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:y*y+T*T>=25&&(K=Math.atan2(Math.abs(T),Math.abs(y))*180/Math.PI,i.isScrolling=n.isHorizontal()?K>r.touchAngle:90-K>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",c),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||c.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let R=n.isHorizontal()?y:T,b=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(R=Math.abs(R)*(a?1:-1),b=Math.abs(b)*(a?1:-1)),o.diff=R,R*=r.touchRatio,a&&(R=-R,b=-b);const B=n.touchesDirection;n.swipeDirection=R>0?"prev":"next",n.touchesDirection=b>0?"prev":"next";const I=n.params.loop&&!r.cssMode,P=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(I&&P&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const K=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(K)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let k;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&B!==n.touchesDirection&&I&&P&&Math.abs(R)>=1){Object.assign(o,{startX:m,startY:_,currentX:m,currentY:_,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=R+i.startTranslate;let j=!0,$=r.resistanceRatio;if(r.touchReleaseOnEdges&&($=0),R>0?(I&&P&&!k&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(j=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+R)**$))):R<0&&(I&&P&&!k&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(j=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-R)**$))),j&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(R)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function s2(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].filter($=>$.identifier===n.touchId)[0],!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:u,rtlTranslate:c,slidesGrid:f,enabled:m}=e;if(!m||!a.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=sh(),y=_-n.touchStartTime;if(e.allowClick){const $=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide($&&$[0]||i.target,$),e.emit("tap click",i),y<300&&_-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=sh(),Em(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||u.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let T;if(a.followFinger?T=c?e.translate:-e.translate:T=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const R=T>=-e.maxTranslate()&&!e.params.loop;let b=0,B=e.slidesSizesGrid[0];for(let $=0;$<f.length;$+=$<a.slidesPerGroupSkip?1:a.slidesPerGroup){const K=$<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof f[$+K]<"u"?(R||T>=f[$]&&T<f[$+K])&&(b=$,B=f[$+K]-f[$]):(R||T>=f[$])&&(b=$,B=f[f.length-1]-f[f.length-2])}let I=null,P=null;a.rewind&&(e.isBeginning?P=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(I=0));const k=(T-f[b])/B,j=b<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(y>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(k>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?I:b+j):e.slideTo(b)),e.swipeDirection==="prev"&&(k>1-a.longSwipesRatio?e.slideTo(b+j):P!==null&&k<0&&Math.abs(k)>a.longSwipesRatio?e.slideTo(P):e.slideTo(b))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(b+j):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(I!==null?I:b+j),e.swipeDirection==="prev"&&e.slideTo(P!==null?P:b))}}function Gw(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const u=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!u?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function o2(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function a2(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const o=t.maxTranslate()-t.minTranslate();o===0?r=0:r=(t.translate-t.minTranslate())/o,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function l2(t){const e=this;fd(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function u2(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const XI=(t,e)=>{const n=Ja(),{params:i,el:r,wrapperEl:o,device:a}=t,u=!!i.nested,c=e==="on"?"addEventListener":"removeEventListener",f=e;!r||typeof r=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:u}),r[c]("touchstart",t.onTouchStart,{passive:!1}),r[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:u}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:u}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[c]("click",t.onClick,!0),i.cssMode&&o[c]("scroll",t.onScroll),i.updateOnWindowResize?t[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Gw,!0):t[f]("observerUpdate",Gw,!0),r[c]("load",t.onLoad,{capture:!0}))};function c2(){const t=this,{params:e}=t;t.onTouchStart=i2.bind(t),t.onTouchMove=r2.bind(t),t.onTouchEnd=s2.bind(t),t.onDocumentTouchStart=u2.bind(t),e.cssMode&&(t.onScroll=a2.bind(t)),t.onClick=o2.bind(t),t.onLoad=l2.bind(t),XI(t,"on")}function d2(){XI(this,"off")}var h2={attachEvents:c2,detachEvents:d2};const qw=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function f2(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||t.originalParams,f=qw(t,i),m=qw(t,c),_=t.params.grabCursor,y=c.grabCursor,T=i.enabled;f&&!m?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&m&&(r.classList.add(`${i.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),_&&!y?t.unsetGrabCursor():!_&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(k=>{if(typeof c[k]>"u")return;const j=i[k]&&i[k].enabled,$=c[k]&&c[k].enabled;j&&!$&&t[k].disable(),!j&&$&&t[k].enable()});const R=c.direction&&c.direction!==i.direction,b=i.loop&&(c.slidesPerView!==i.slidesPerView||R),B=i.loop;R&&n&&t.changeDirection(),qn(t.params,c);const I=t.params.enabled,P=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),T&&!I?t.disable():!T&&I&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),n&&(b?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!B&&P?(t.loopCreate(e),t.updateSlides()):B&&!P&&t.loopDestroy()),t.emit("breakpoint",c)}function p2(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=ei(),o=e==="window"?r.innerHeight:n.clientHeight,a=Object.keys(t).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const c=parseFloat(u.substr(1));return{value:o*c,point:u}}return{value:u,point:u}});a.sort((u,c)=>parseInt(u.value,10)-parseInt(c.value,10));for(let u=0;u<a.length;u+=1){const{point:c,value:f}=a[u];e==="window"?r.matchMedia(`(min-width: ${f}px)`).matches&&(i=c):f<=n.clientWidth&&(i=c)}return i||"max"}var m2={setBreakpoint:f2,getBreakpoint:p2};function g2(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function _2(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:o}=t,a=g2(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),r.classList.add(...e),t.emitContainerClasses()}function v2(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var y2={addClasses:_2,removeClasses:v2};function w2(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,o=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var E2={checkOverflow:w2},Im={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function T2(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],o=i[r];if(typeof o!="object"||o===null){qn(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in o)){qn(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),qn(e,i)}}const Xf={eventsEmitter:yD,update:bD,translate:DD,transition:BD,slide:KD,loop:XD,grabCursor:t2,events:h2,breakpoints:m2,checkOverflow:E2,classes:y2},Jf={};let S_=class gr{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=qn({},n),e&&!n.el&&(n.el=e);const a=Ja();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const m=[];return a.querySelectorAll(n.el).forEach(_=>{const y=qn({},n,{el:_});m.push(new gr(y))}),m}const u=this;u.__swiper__=!0,u.support=ZI(),u.device=QI({userAgent:n.userAgent}),u.browser=gD(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],n.modules&&Array.isArray(n.modules)&&u.modules.push(...n.modules);const c={};u.modules.forEach(m=>{m({params:n,swiper:u,extendParams:T2(n,c),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})});const f=qn({},Im,c);return u.params=qn({},f,Jf,n),u.originalParams=qn({},u.params),u.passedParams=qn({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach(m=>{u.on(m,u.params.on[m])}),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return u.params.direction==="horizontal"},isVertical(){return u.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Ir(n,`.${i.slideClass}, swiper-slide`),o=Uw(r[0]);return Uw(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Ir(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:o,slidesGrid:a,slidesSizesGrid:u,size:c,activeIndex:f}=i;let m=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let _=o[f]?Math.ceil(o[f].swiperSlideSize):0,y;for(let T=f+1;T<o.length;T+=1)o[T]&&!y&&(_+=Math.ceil(o[T].swiperSlideSize),m+=1,_>c&&(y=!0));for(let T=f-1;T>=0;T-=1)o[T]&&!y&&(_+=o[T].swiperSlideSize,m+=1,_>c&&(y=!0))}else if(e==="current")for(let _=f+1;_<o.length;_+=1)(n?a[_]+u[_]-a[f]<c:a[_]-a[f]<c)&&(m+=1);else for(let _=f-1;_>=0;_-=1)a[f]-a[_]<c&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&fd(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const a=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(a.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ir(i,r())[0];return!a&&n.params.createElements&&(a=Tm("div",n.params.wrapperClass),i.append(a),Ir(i,`.${n.params.slideClass}`).forEach(u=>{a.append(u)})),Object.assign(n,{el:i,wrapperEl:a,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||ms(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||ms(i,"direction")==="rtl"),wrongRTL:ms(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?fd(n,o):o.addEventListener("load",a=>{fd(n,a.target)})}),Sm(n),n.initialized=!0,Sm(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:o,wrapperEl:a,slides:u}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),a&&a.removeAttribute("style"),u&&u.length&&u.forEach(c=>{c.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(c=>{i.off(c)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),sD(i)),i.destroyed=!0),null}static extendDefaults(e){qn(Jf,e)}static get extendedDefaults(){return Jf}static get defaults(){return Im}static installModule(e){gr.prototype.__modules__||(gr.prototype.__modules__=[]);const n=gr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>gr.installModule(n)),gr):(gr.installModule(e),gr)}};Object.keys(Xf).forEach(t=>{Object.keys(Xf[t]).forEach(e=>{S_.prototype[e]=Xf[t][e]})});S_.use([_D,vD]);const JI=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function yo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Pa(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:yo(e[i])&&yo(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Pa(t[i],e[i]):t[i]=e[i]})}function eP(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function tP(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function nP(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function iP(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function S2(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function I2(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:o,prevEl:a,scrollbarEl:u,paginationEl:c}=t;const f=r.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:m,pagination:_,navigation:y,scrollbar:T,virtual:R,thumbs:b}=e;let B,I,P,k,j,$,K,V;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&m.thumbs&&!m.thumbs.swiper&&(B=!0),r.includes("controller")&&i.controller&&i.controller.control&&m.controller&&!m.controller.control&&(I=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||c)&&(m.pagination||m.pagination===!1)&&_&&!_.el&&(P=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||u)&&(m.scrollbar||m.scrollbar===!1)&&T&&!T.el&&(k=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||o)&&(m.navigation||m.navigation===!1)&&y&&!y.prevEl&&!y.nextEl&&(j=!0);const E=x=>{e[x]&&(e[x].destroy(),x==="navigation"?(e.isElement&&(e[x].prevEl.remove(),e[x].nextEl.remove()),m[x].prevEl=void 0,m[x].nextEl=void 0,e[x].prevEl=void 0,e[x].nextEl=void 0):(e.isElement&&e[x].el.remove(),m[x].el=void 0,e[x].el=void 0))};r.includes("loop")&&e.isElement&&(m.loop&&!i.loop?$=!0:!m.loop&&i.loop?K=!0:V=!0),f.forEach(x=>{if(yo(m[x])&&yo(i[x]))Object.assign(m[x],i[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in i[x]&&!i[x].enabled&&E(x);else{const C=i[x];(C===!0||C===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?C===!1&&E(x):m[x]=i[x]}}),f.includes("controller")&&!I&&e.controller&&e.controller.control&&m.controller&&m.controller.control&&(e.controller.control=m.controller.control),r.includes("children")&&n&&R&&m.virtual.enabled?(R.slides=n,R.update(!0)):r.includes("virtual")&&R&&m.virtual.enabled&&(n&&(R.slides=n),R.update(!0)),r.includes("children")&&n&&m.loop&&(V=!0),B&&b.init()&&b.update(!0),I&&(e.controller.control=m.controller.control),P&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(m.pagination.el=c),_.init(),_.render(),_.update()),k&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-scrollbar"),u.part.add("scrollbar"),e.el.appendChild(u)),u&&(m.scrollbar.el=u),T.init(),T.updateSize(),T.setTranslate()),j&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),o&&(m.navigation.nextEl=o),a&&(m.navigation.prevEl=a),y.init(),y.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),($||V)&&e.loopDestroy(),(K||V)&&e.loopCreate(),e.update()}function P2(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};Pa(n,Im),n._emitClasses=!0,n.init=!1;const o={},a=JI.map(c=>c.replace(/_/,"")),u=Object.assign({},t);return Object.keys(u).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?yo(t[c])?(n[c]={},r[c]={},Pa(n[c],t[c]),Pa(r[c],t[c])):(n[c]=t[c],r[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?i[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:o[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:r,rest:o,events:i}}function x2(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:o,scrollbarEl:a,swiper:u}=t;eP(e)&&i&&r&&(u.params.navigation.nextEl=i,u.originalParams.navigation.nextEl=i,u.params.navigation.prevEl=r,u.originalParams.navigation.prevEl=r),tP(e)&&o&&(u.params.pagination.el=o,u.originalParams.pagination.el=o),nP(e)&&a&&(u.params.scrollbar.el=a,u.originalParams.scrollbar.el=a),u.init(n)}function C2(t,e,n,i,r){const o=[];if(!e)return o;const a=c=>{o.indexOf(c)<0&&o.push(c)};if(n&&i){const c=i.map(r),f=n.map(r);c.join("")!==f.join("")&&a("children"),i.length!==n.length&&a("children")}return JI.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(yo(t[c])&&yo(e[c])){const f=Object.keys(t[c]),m=Object.keys(e[c]);f.length!==m.length?a(c):(f.forEach(_=>{t[c][_]!==e[c][_]&&a(c)}),m.forEach(_=>{t[c][_]!==e[c][_]&&a(c)}))}else t[c]!==e[c]&&a(c)}),o}const A2=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ah.apply(this,arguments)}function rP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function sP(t){const e=[];return gt.Children.toArray(t).forEach(n=>{rP(n)?e.push(n):n.props&&n.props.children&&sP(n.props.children).forEach(i=>e.push(i))}),e}function R2(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return gt.Children.toArray(t).forEach(i=>{if(rP(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=sP(i.props.children);r.length>0?r.forEach(o=>e.push(o)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function b2(t,e,n){if(!n)return null;const i=m=>{let _=m;return m<0?_=e.length+m:_>=e.length&&(_=_-e.length),_},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:a}=n,u=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,f=[];for(let m=u;m<c;m+=1)m>=o&&m<=a&&f.push(e[i(m)]);return f.map((m,_)=>gt.cloneElement(m,{swiper:t,style:r,key:m.props.virtualIndex||m.key||`slide-${_}`}))}function iu(t,e){return typeof window>"u"?H.useEffect(t,e):H.useLayoutEffect(t,e)}const Kw=H.createContext(null),k2=H.createContext(null),Yh=H.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:o,onSwiper:a,...u}=t===void 0?{}:t,c=!1;const[f,m]=H.useState("swiper"),[_,y]=H.useState(null),[T,R]=H.useState(!1),b=H.useRef(!1),B=H.useRef(null),I=H.useRef(null),P=H.useRef(null),k=H.useRef(null),j=H.useRef(null),$=H.useRef(null),K=H.useRef(null),V=H.useRef(null),{params:E,passedParams:x,rest:C,events:N}=P2(u),{slides:F,slots:O}=R2(o),ue=()=>{R(!T)};Object.assign(E.on,{_containerClasses(ie,ee){m(ee)}});const Ne=()=>{Object.assign(E.on,N),c=!0;const ie={...E};if(delete ie.wrapperClass,I.current=new S_(ie),I.current.virtual&&I.current.params.virtual.enabled){I.current.virtual.slides=F;const ee={cache:!1,slides:F,renderExternal:y,renderExternalUpdate:!1};Pa(I.current.params.virtual,ee),Pa(I.current.originalParams.virtual,ee)}};B.current||Ne(),I.current&&I.current.on("_beforeBreakpoint",ue);const Oe=()=>{c||!N||!I.current||Object.keys(N).forEach(ie=>{I.current.on(ie,N[ie])})},at=()=>{!N||!I.current||Object.keys(N).forEach(ie=>{I.current.off(ie,N[ie])})};H.useEffect(()=>()=>{I.current&&I.current.off("_beforeBreakpoint",ue)}),H.useEffect(()=>{!b.current&&I.current&&(I.current.emitSlidesClasses(),b.current=!0)}),iu(()=>{if(e&&(e.current=B.current),!!B.current)return I.current.destroyed&&Ne(),x2({el:B.current,nextEl:j.current,prevEl:$.current,paginationEl:K.current,scrollbarEl:V.current,swiper:I.current},E),a&&!I.current.destroyed&&a(I.current),()=>{I.current&&!I.current.destroyed&&I.current.destroy(!0,!1)}},[]),iu(()=>{Oe();const ie=C2(x,P.current,F,k.current,ee=>ee.key);return P.current=x,k.current=F,ie.length&&I.current&&!I.current.destroyed&&I2({swiper:I.current,slides:F,passedParams:x,changedParams:ie,nextEl:j.current,prevEl:$.current,scrollbarEl:V.current,paginationEl:K.current}),()=>{at()}}),iu(()=>{A2(I.current)},[_]);function Y(){return E.virtual?b2(I.current,F,_):F.map((ie,ee)=>gt.cloneElement(ie,{swiper:I.current,swiperSlideIndex:ee}))}return gt.createElement(i,ah({ref:B,className:iP(`${f}${n?` ${n}`:""}`)},C),gt.createElement(k2.Provider,{value:I.current},O["container-start"],gt.createElement(r,{className:S2(E.wrapperClass)},O["wrapper-start"],Y(),O["wrapper-end"]),eP(E)&&gt.createElement(gt.Fragment,null,gt.createElement("div",{ref:$,className:"swiper-button-prev"}),gt.createElement("div",{ref:j,className:"swiper-button-next"})),nP(E)&&gt.createElement("div",{ref:V,className:"swiper-scrollbar"}),tP(E)&&gt.createElement("div",{ref:K,className:"swiper-pagination"}),O["container-end"]))});Yh.displayName="Swiper";const Ua=H.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:o,zoom:a,lazy:u,virtualIndex:c,swiperSlideIndex:f,...m}=t===void 0?{}:t;const _=H.useRef(null),[y,T]=H.useState("swiper-slide"),[R,b]=H.useState(!1);function B(j,$,K){$===_.current&&T(K)}iu(()=>{if(typeof f<"u"&&(_.current.swiperSlideIndex=f),e&&(e.current=_.current),!(!_.current||!o)){if(o.destroyed){y!=="swiper-slide"&&T("swiper-slide");return}return o.on("_slideClass",B),()=>{o&&o.off("_slideClass",B)}}}),iu(()=>{o&&_.current&&!o.destroyed&&T(o.getSlideClasses(_.current))},[o]);const I={isActive:y.indexOf("swiper-slide-active")>=0,isVisible:y.indexOf("swiper-slide-visible")>=0,isPrev:y.indexOf("swiper-slide-prev")>=0,isNext:y.indexOf("swiper-slide-next")>=0},P=()=>typeof i=="function"?i(I):i,k=()=>{b(!0)};return gt.createElement(n,ah({ref:_,className:iP(`${y}${r?` ${r}`:""}`),"data-swiper-slide-index":c,onLoad:k},m),a&&gt.createElement(Kw.Provider,{value:I},gt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},P(),u&&!R&&gt.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&gt.createElement(Kw.Provider,{value:I},P(),u&&!R&&gt.createElement("div",{className:"swiper-lazy-preloader"})))});Ua.displayName="SwiperSlide";const L2=()=>{const[t,e]=H.useState(window.innerWidth<=768);return H.useEffect(()=>{const n=()=>{e(window.innerWidth<=768)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),M.jsx("div",{id:"invitations_div_shadow",children:M.jsxs("div",{id:"invitations_div",children:[M.jsx("h2",{id:"invitations_tittle",children:"Invitations"}),t?M.jsx(Yh,{spaceBetween:5,slidesPerView:1,pagination:{clickable:!0},navigation:!1,children:wm.map((n,i)=>M.jsx(Ua,{children:M.jsx(Bw,{name:n.name,ocation:n.Ocation,date:n.Date,url:n.img})},i))}):wm.map((n,i)=>M.jsx(Bw,{name:n.name,ocation:n.Ocation,date:n.Date,url:n.img},i))]})})},M2=({date:t,url:e,id:n,name:i})=>{const r=Dr(),o=()=>{console.log(`Button clicked. Card ID: ${n}`),r(`/detail/${n}`,{state:{id:n}})};return M.jsxs("button",{id:"hosts_events",onClick:o,children:[M.jsx("img",{id:"event_img",src:e,alt:""}),M.jsx("p",{id:"ocation_event",children:i}),M.jsx("p",{id:"date_event",children:t}),M.jsxs("div",{id:"buttons_event",children:[M.jsx(WI,{}),M.jsx(GI,{icon:"Edit"})]})]})},O2=({userId:t})=>{const[e,n]=H.useState([]),[i,r]=H.useState(3);return H.useEffect(()=>{const o=()=>{window.innerWidth<768?r(1):window.innerWidth<1024?r(2):r(3)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),H.useEffect(()=>{(()=>{const a=t_(Ns,"events"),u=CM(a,AM("userId","==",t)),c=oI(u,f=>{const m=f.docs.map(_=>({id:_.id,..._.data()}));n(m)});return()=>c()})()},[t]),M.jsxs("div",{id:"Host_card",children:[M.jsx("h2",{id:"host_tittle",children:"You are Host"}),M.jsx("div",{id:"carousel",children:M.jsx(Yh,{spaceBetween:30,slidesPerView:e.length<i?e.length:i,navigation:!1,pagination:{clickable:!0},loop:e.length>1,children:e.length>0?e.map((o,a)=>M.jsx(Ua,{children:M.jsx(M2,{id:o.id,name:o.name,date:o.date,url:o.image},o.id)},a)):M.jsx(Ua,{children:M.jsx("p",{id:"no_events",children:"No events available"})})})})]})},N2=({date:t,url:e,name:n,id:i})=>{const r=Dr(),o=()=>{console.log(`Button clicked. Card ID: ${i}`),r(`/detail/${i}`,{state:{id:i}})};return M.jsxs("button",{id:"Guest_events",onClick:o,children:[M.jsx("img",{id:"event_img",src:e,alt:"event img"}),M.jsx("p",{id:"ocation_event",children:n}),M.jsx("p",{id:"date_event",children:t})]})},D2=gt.memo(({userId:t})=>{const[e,n]=H.useState([]),[i,r]=H.useState(3),o=H.useCallback(()=>{window.innerWidth<768?r(1):window.innerWidth<1024?r(2):r(3)},[]);return H.useEffect(()=>(o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)),[o]),H.useEffect(()=>{const a=oI(t_(Ns,"events"),u=>{const f=u.docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.userId!==t);n(f)});return()=>a()},[t]),M.jsxs("div",{id:"Guest_card",children:[M.jsx("h2",{id:"Guest_tittle",children:"You are Guest"}),M.jsx("div",{id:"carousel",children:M.jsx(Yh,{spaceBetween:30,slidesPerView:Math.min(e.length,i),navigation:!1,pagination:{clickable:!0},loop:e.length>1,children:e.length>0?e.map(a=>M.jsx(Ua,{children:M.jsx(N2,{id:a.id,ocation:a.eventType,name:a.name,date:a.date,url:a.image})},a.id)):M.jsx(Ua,{children:M.jsx("p",{id:"no_events",children:"No events available"})})})})]})});function oP(t,e){const n=H.useRef(e);H.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const V2=1;function F2(t){return Object.freeze({__version:V2,map:t})}function z2(t,e){return Object.freeze({...t,...e})}const aP=H.createContext(null),lP=aP.Provider;function I_(){const t=H.useContext(aP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function B2(t){function e(n,i){const{instance:r,context:o}=t(n).current;return H.useImperativeHandle(i,()=>r),n.children==null?null:gt.createElement(lP,{value:o},n.children)}return H.forwardRef(e)}function j2(t){function e(n,i){const[r,o]=H.useState(!1),{instance:a}=t(n,o).current;H.useImperativeHandle(i,()=>a),H.useEffect(function(){r&&a.update()},[a,r,n.children]);const u=a._contentNode;return u?Ih.createPortal(n.children,u):null}return H.forwardRef(e)}function U2(t){function e(n,i){const{instance:r}=t(n).current;return H.useImperativeHandle(i,()=>r),null}return H.forwardRef(e)}function uP(t,e){const n=H.useRef();H.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function P_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function $2(t,e){return function(i,r){const o=I_(),a=t(P_(i,o),o);return oP(o.map,i.attribution),uP(a.current,i.eventHandlers),e(a.current,o,i,r),a}}var Pm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(BP,function(n){var i="1.9.4";function r(s){var l,h,p,v;for(h=1,p=arguments.length;h<p;h++){v=arguments[h];for(l in v)s[l]=v[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var p=h.call(arguments,2);return function(){return s.apply(l,p.length?p.concat(h.call(arguments)):arguments)}}var u=0;function c(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,l,h){var p,v,S,z;return z=function(){p=!1,v&&(S.apply(h,v),v=!1)},S=function(){p?v=arguments:(s.apply(h,arguments),setTimeout(z,l),p=!0)},S}function m(s,l,h){var p=l[1],v=l[0],S=p-v;return s===p&&h?s:((s-v)%S+S)%S+v}function _(){return!1}function y(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function T(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function R(s){return T(s).split(/\s+/)}function b(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function B(s,l,h){var p=[];for(var v in s)p.push(encodeURIComponent(h?v.toUpperCase():v)+"="+encodeURIComponent(s[v]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function P(s,l){return s.replace(I,function(h,p){var v=l[p];if(v===void 0)throw new Error("No value provided for variable "+h);return typeof v=="function"&&(v=v(l)),v})}var k=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function j(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var V=0;function E(s){var l=+new Date,h=Math.max(0,16-(l-V));return V=l+h,window.setTimeout(s,h)}var x=window.requestAnimationFrame||K("RequestAnimationFrame")||E,C=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function N(s,l,h){if(h&&x===E)s.call(l);else return x.call(window,a(s,l))}function F(s){s&&C.call(window,s)}var O={__proto__:null,extend:r,create:o,bind:a,get lastId(){return u},stamp:c,throttle:f,wrapNum:m,falseFn:_,formatNum:y,trim:T,splitWords:R,setOptions:b,getParamString:B,template:P,isArray:k,indexOf:j,emptyImageUrl:$,requestFn:x,cancelFn:C,requestAnimFrame:N,cancelAnimFrame:F};function ue(){}ue.extend=function(s){var l=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,p=o(h);p.constructor=l,l.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(l[v]=this[v]);return s.statics&&r(l,s.statics),s.includes&&(Ne(s.includes),r.apply(null,[p].concat(s.includes))),r(p,s),delete p.statics,delete p.includes,p.options&&(p.options=h.options?o(h.options):{},r(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,z=p._initHooks.length;S<z;S++)p._initHooks[S].call(this)}},l},ue.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},ue.mergeOptions=function(s){return r(this.prototype.options,s),this},ue.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Ne(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=k(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Oe={on:function(s,l,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],l);else{s=R(s);for(var v=0,S=s.length;v<S;v++)this._on(s[v],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],l);else{s=R(s);for(var v=arguments.length===1,S=0,z=s.length;S<z;S++)v?this._off(s[S]):this._off(s[S],l,h)}return this},_on:function(s,l,h,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var v={fn:l,ctx:h};p&&(v.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(v)}},_off:function(s,l,h){var p,v,S;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,S=p.length;v<S;v++)p[v].fn=_;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var z=this._listens(s,l,h);if(z!==!1){var G=p[z];this._firingCount&&(G.fn=_,this._events[s]=p=p.slice()),p.splice(z,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var p=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var v=this._events[s];if(v){this._firingCount=this._firingCount+1||1;for(var S=0,z=v.length;S<z;S++){var G=v[S],Z=G.fn;G.once&&this.off(s,Z,G.ctx),Z.call(G.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(s,l,h,p){typeof s!="string"&&console.warn('"string" type argument expected');var v=l;typeof l!="function"&&(p=!!l,v=void 0,h=void 0);var S=this._events&&this._events[s];if(S&&S.length&&this._listens(s,v,h)!==!1)return!0;if(p){for(var z in this._eventParents)if(this._eventParents[z].listens(s,l,h,p))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var p=this._events[s]||[];if(!l)return!!p.length;h===this&&(h=void 0);for(var v=0,S=p.length;v<S;v++)if(p[v].fn===l&&p[v].ctx===h)return v;return!1},once:function(s,l,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],l,!0);else{s=R(s);for(var v=0,S=s.length;v<S;v++)this._on(s[v],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[c(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[c(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};Oe.addEventListener=Oe.on,Oe.removeEventListener=Oe.clearAllEventListeners=Oe.off,Oe.addOneTimeEventListener=Oe.once,Oe.fireEvent=Oe.fire,Oe.hasEventListeners=Oe.listens;var at=ue.extend(Oe);function Y(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var ie=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(s){return this.clone()._add(ee(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ee(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new Y(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new Y(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(s){s=ee(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=ee(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ee(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function ee(s,l,h){return s instanceof Y?s:k(s)?new Y(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new Y(s.x,s.y):new Y(s,l,h)}function ve(s,l){if(s)for(var h=l?[s,l]:s,p=0,v=h.length;p<v;p++)this.extend(h[p])}ve.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof Y||typeof s[0]=="number"||"x"in s)l=h=ee(s);else if(s=we(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof Y?s=ee(s):s=we(s),s instanceof ve?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=we(s);var l=this.min,h=this.max,p=s.min,v=s.max,S=v.x>=l.x&&p.x<=h.x,z=v.y>=l.y&&p.y<=h.y;return S&&z},overlaps:function(s){s=we(s);var l=this.min,h=this.max,p=s.min,v=s.max,S=v.x>l.x&&p.x<h.x,z=v.y>l.y&&p.y<h.y;return S&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,p=Math.abs(l.x-h.x)*s,v=Math.abs(l.y-h.y)*s;return we(ee(l.x-p,l.y-v),ee(h.x+p,h.y+v))},equals:function(s){return s?(s=we(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function we(s,l){return!s||s instanceof ve?s:new ve(s,l)}function Ie(s,l){if(s)for(var h=l?[s,l]:s,p=0,v=h.length;p<v;p++)this.extend(h[p])}Ie.prototype={extend:function(s){var l=this._southWest,h=this._northEast,p,v;if(s instanceof Ae)p=s,v=s;else if(s instanceof Ie){if(p=s._southWest,v=s._northEast,!p||!v)return this}else return s?this.extend(ye(s)||De(s)):this;return!l&&!h?(this._southWest=new Ae(p.lat,p.lng),this._northEast=new Ae(v.lat,v.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),h.lat=Math.max(v.lat,h.lat),h.lng=Math.max(v.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,p=Math.abs(l.lat-h.lat)*s,v=Math.abs(l.lng-h.lng)*s;return new Ie(new Ae(l.lat-p,l.lng-v),new Ae(h.lat+p,h.lng+v))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Ae||"lat"in s?s=ye(s):s=De(s);var l=this._southWest,h=this._northEast,p,v;return s instanceof Ie?(p=s.getSouthWest(),v=s.getNorthEast()):p=v=s,p.lat>=l.lat&&v.lat<=h.lat&&p.lng>=l.lng&&v.lng<=h.lng},intersects:function(s){s=De(s);var l=this._southWest,h=this._northEast,p=s.getSouthWest(),v=s.getNorthEast(),S=v.lat>=l.lat&&p.lat<=h.lat,z=v.lng>=l.lng&&p.lng<=h.lng;return S&&z},overlaps:function(s){s=De(s);var l=this._southWest,h=this._northEast,p=s.getSouthWest(),v=s.getNorthEast(),S=v.lat>l.lat&&p.lat<h.lat,z=v.lng>l.lng&&p.lng<h.lng;return S&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=De(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function De(s,l){return s instanceof Ie?s:new Ie(s,l)}function Ae(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}Ae.prototype={equals:function(s,l){if(!s)return!1;s=ye(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+y(this.lat,s)+", "+y(this.lng,s)+")"},distanceTo:function(s){return Pt.distance(this,ye(s))},wrap:function(){return Pt.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return De([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};function ye(s,l,h){return s instanceof Ae?s:k(s)&&typeof s[0]!="object"?s.length===3?new Ae(s[0],s[1],s[2]):s.length===2?new Ae(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Ae(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new Ae(s,l,h)}var Xe={latLngToPoint:function(s,l){var h=this.projection.project(s),p=this.scale(l);return this.transformation._transform(h,p)},pointToLatLng:function(s,l){var h=this.scale(l),p=this.transformation.untransform(s,h);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),p=this.transformation.transform(l.min,h),v=this.transformation.transform(l.max,h);return new ve(p,v)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new Ae(h,l,p)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),p=l.lat-h.lat,v=l.lng-h.lng;if(p===0&&v===0)return s;var S=s.getSouthWest(),z=s.getNorthEast(),G=new Ae(S.lat-p,S.lng-v),Z=new Ae(z.lat-p,z.lng-v);return new Ie(G,Z)}},Pt=r({},Xe,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,p=s.lat*h,v=l.lat*h,S=Math.sin((l.lat-s.lat)*h/2),z=Math.sin((l.lng-s.lng)*h/2),G=S*S+Math.cos(p)*Math.cos(v)*z*z,Z=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*Z}}),xo=6378137,Fn={R:xo,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,s.lat),-h),v=Math.sin(p*l);return new Y(this.R*s.lng*l,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(s){var l=180/Math.PI;return new Ae((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=xo*Math.PI;return new ve([-s,-s],[s,s])}()};function ki(s,l,h,p){if(k(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=p}ki.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new Y((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function mi(s,l,h,p){return new ki(s,l,h,p)}var tr=r({},Pt,{code:"EPSG:3857",projection:Fn,transformation:function(){var s=.5/(Math.PI*Fn.R);return mi(s,.5,-s,.5)}()}),Rt=r({},tr,{code:"EPSG:900913"});function zn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Fr(s,l){var h="",p,v,S,z,G,Z;for(p=0,S=s.length;p<S;p++){for(G=s[p],v=0,z=G.length;v<z;v++)Z=G[v],h+=(v?"L":"M")+Z.x+" "+Z.y;h+=l?D.svg?"z":"x":""}return h||"M0 0"}var $s=document.documentElement.style,In="ActiveXObject"in window,Co=In&&!document.addEventListener,zr="msLaunchUri"in navigator&&!("documentMode"in document),nr=An("webkit"),Ao=An("android"),Br=An("android 2")||An("android 3"),Hs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ro=Ao&&An("Google")&&Hs<537&&!("AudioNode"in window),nt=!!window.opera,ft=!zr&&An("chrome"),Li=An("gecko")&&!nr&&!nt&&!In,jr=!ft&&An("safari"),Pn=An("phantom"),xn="OTransition"in $s,Mi=navigator.platform.indexOf("Win")===0,Oi=In&&"transition"in $s,Ur="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Br,mn="MozPerspective"in $s,bo=!window.L_DISABLE_3D&&(Oi||Ur||mn)&&!xn&&!Pn,Ni=typeof orientation<"u"||An("mobile"),$r=Ni&&nr,ko=Ni&&Ur,Hr=!window.PointerEvent&&window.MSPointerEvent,Bn=!!(window.PointerEvent||Hr),ir="ontouchstart"in window||!!window.TouchEvent,rr=!window.L_NO_TOUCH&&(ir||Bn),Cn=Ni&&nt,Wr=Ni&&Li,Gr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ws=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,l),window.removeEventListener("testPassiveEventSupport",_,l)}catch{}return s}(),sr=function(){return!!document.createElement("canvas").getContext}(),or=!!(document.createElementNS&&zn("svg").createSVGRect),xt=!!or&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ar=!or&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Di=navigator.platform.indexOf("Mac")===0,lr=navigator.platform.indexOf("Linux")===0;function An(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var D={ie:In,ielt9:Co,edge:zr,webkit:nr,android:Ao,android23:Br,androidStock:Ro,opera:nt,chrome:ft,gecko:Li,safari:jr,phantom:Pn,opera12:xn,win:Mi,ie3d:Oi,webkit3d:Ur,gecko3d:mn,any3d:bo,mobile:Ni,mobileWebkit:$r,mobileWebkit3d:ko,msPointer:Hr,pointer:Bn,touch:rr,touchNative:ir,mobileOpera:Cn,mobileGecko:Wr,retina:Gr,passiveEvents:Ws,canvas:sr,svg:or,vml:ar,inlineSvg:xt,mac:Di,linux:lr},U=D.msPointer?"MSPointerDown":"pointerdown",q=D.msPointer?"MSPointerMove":"pointermove",X=D.msPointer?"MSPointerUp":"pointerup",le=D.msPointer?"MSPointerCancel":"pointercancel",ge={touchstart:U,touchmove:q,touchend:X,touchcancel:le},Te={touchstart:ot,touchmove:ut,touchend:ut,touchcancel:ut},se={},pe=!1;function fe(s,l,h){return l==="touchstart"&&Ve(),Te[l]?(h=Te[l].bind(this,h),s.addEventListener(ge[l],h,!1),h):(console.warn("wrong event specified:",l),_)}function me(s,l,h){if(!ge[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(ge[l],h,!1)}function ze(s){se[s.pointerId]=s}function He(s){se[s.pointerId]&&(se[s.pointerId]=s)}function Ye(s){delete se[s.pointerId]}function Ve(){pe||(document.addEventListener(U,ze,!0),document.addEventListener(q,He,!0),document.addEventListener(X,Ye,!0),document.addEventListener(le,Ye,!0),pe=!0)}function ut(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in se)l.touches.push(se[h]);l.changedTouches=[l],s(l)}}function ot(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&vt(l),ut(s,l)}function Vi(s){var l={},h,p;for(p in s)h=s[p],l[p]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var gn=200;function Rn(s,l){s.addEventListener("dblclick",l);var h=0,p;function v(S){if(S.detail!==1){p=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var z=ll(S);if(!(z.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!z.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var G=Date.now();G-h<=gn?(p++,p===2&&l(Vi(S))):p=1,h=G}}}return s.addEventListener("click",v),{dblclick:l,simDblclick:v}}function $t(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var ti=ur(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yt=ur(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Fi=Yt==="webkitTransition"||Yt==="OTransition"?Yt+"End":"transitionend";function zi(s){return typeof s=="string"?document.getElementById(s):s}function jn(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);h=p?p[l]:null}return h==="auto"?null:h}function ae(s,l,h){var p=document.createElement(s);return p.className=l||"",h&&h.appendChild(p),p}function Se(s){var l=s.parentNode;l&&l.removeChild(s)}function bt(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ze(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Ht(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function qr(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=ni(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function ke(s,l){if(s.classList!==void 0)for(var h=R(l),p=0,v=h.length;p<v;p++)s.classList.add(h[p]);else if(!qr(s,l)){var S=ni(s);el(s,(S?S+" ":"")+l)}}function pt(s,l){s.classList!==void 0?s.classList.remove(l):el(s,T((" "+ni(s)+" ").replace(" "+l+" "," ")))}function el(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function ni(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ct(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Lo(s,l)}function Lo(s,l){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+p+"(opacity="+l+")"}function ur(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Bi(s,l,h){var p=l||new Y(0,0);s.style[ti]=(D.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function Re(s,l){s._leaflet_pos=l,D.any3d?Bi(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ii(s){return s._leaflet_pos||new Y(0,0)}var gi,_i,tl;if("onselectstart"in document)gi=function(){Pe(window,"selectstart",vt)},_i=function(){it(window,"selectstart",vt)};else{var Kr=ur(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gi=function(){if(Kr){var s=document.documentElement.style;tl=s[Kr],s[Kr]="none"}},_i=function(){Kr&&(document.documentElement.style[Kr]=tl,tl=void 0)}}function nl(){Pe(window,"dragstart",vt)}function il(){it(window,"dragstart",vt)}var Mo,rl;function cr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Un(),Mo=s,rl=s.style.outlineStyle,s.style.outlineStyle="none",Pe(window,"keydown",Un))}function Un(){Mo&&(Mo.style.outlineStyle=rl,Mo=void 0,rl=void 0,it(window,"keydown",Un))}function sl(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Oo(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var ec={__proto__:null,TRANSFORM:ti,TRANSITION:Yt,TRANSITION_END:Fi,get:zi,getStyle:jn,create:ae,remove:Se,empty:bt,toFront:Ze,toBack:Ht,hasClass:qr,addClass:ke,removeClass:pt,setClass:el,getClass:ni,setOpacity:Ct,testProp:ur,setTransform:Bi,setPosition:Re,getPosition:ii,get disableTextSelection(){return gi},get enableTextSelection(){return _i},disableImageDrag:nl,enableImageDrag:il,preventOutline:cr,restoreOutline:Un,getSizedParentNode:sl,getScale:Oo};function Pe(s,l,h,p){if(l&&typeof l=="object")for(var v in l)ol(s,v,l[v],h);else{l=R(l);for(var S=0,z=l.length;S<z;S++)ol(s,l[S],h,p)}return this}var ri="_leaflet_events";function it(s,l,h,p){if(arguments.length===1)tc(s),delete s[ri];else if(l&&typeof l=="object")for(var v in l)al(s,v,l[v],h);else if(l=R(l),arguments.length===2)tc(s,function(G){return j(l,G)!==-1});else for(var S=0,z=l.length;S<z;S++)al(s,l[S],h,p);return this}function tc(s,l){for(var h in s[ri]){var p=h.split(/\d/)[0];(!l||l(p))&&al(s,p,null,null,h)}}var si={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ol(s,l,h,p){var v=l+c(h)+(p?"_"+c(p):"");if(s[ri]&&s[ri][v])return this;var S=function(G){return h.call(p||s,G||window.event)},z=S;!D.touchNative&&D.pointer&&l.indexOf("touch")===0?S=fe(s,l,S):D.touch&&l==="dblclick"?S=Rn(s,S):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(si[l]||l,S,D.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(G){G=G||window.event,ul(s,G)&&z(G)},s.addEventListener(si[l],S,!1)):s.addEventListener(l,z,!1):s.attachEvent("on"+l,S),s[ri]=s[ri]||{},s[ri][v]=S}function al(s,l,h,p,v){v=v||l+c(h)+(p?"_"+c(p):"");var S=s[ri]&&s[ri][v];if(!S)return this;!D.touchNative&&D.pointer&&l.indexOf("touch")===0?me(s,l,S):D.touch&&l==="dblclick"?$t(s,S):"removeEventListener"in s?s.removeEventListener(si[l]||l,S,!1):s.detachEvent("on"+l,S),s[ri][v]=null}function oi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Zr(s){return ol(s,"wheel",oi),this}function Qr(s){return Pe(s,"mousedown touchstart dblclick contextmenu",oi),s._leaflet_disable_click=!0,this}function vt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function $n(s){return vt(s),oi(s),this}function ll(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function No(s,l){if(!l)return new Y(s.clientX,s.clientY);var h=Oo(l),p=h.boundingClientRect;return new Y((s.clientX-p.left)/h.x-l.clientLeft,(s.clientY-p.top)/h.y-l.clientTop)}var mt=D.linux&&D.chrome?window.devicePixelRatio:D.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nc(s){return D.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/mt:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ul(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var ic={__proto__:null,on:Pe,off:it,stopPropagation:oi,disableScrollPropagation:Zr,disableClickPropagation:Qr,preventDefault:vt,stop:$n,getPropagationPath:ll,getMousePosition:No,getWheelDelta:nc,isExternalTarget:ul,addListener:Pe,removeListener:it},cl=at.extend({run:function(s,l,h,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=ii(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),Re(this._el,h),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Be=at.extend({options:{crs:tr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=b(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ye(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yt&&D.any3d&&!D.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,Fi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(ye(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=r({animate:h.animate},h.zoom),h.pan=r({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(D.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(D.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var p=this.getZoomScale(l),v=this.getSize().divideBy(2),S=s instanceof Y?s:this.latLngToContainerPoint(s),z=S.subtract(v).multiplyBy(1-1/p),G=this.containerPointToLatLng(v.add(z));return this.setView(G,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():De(s);var h=ee(l.paddingTopLeft||l.padding||[0,0]),p=ee(l.paddingBottomRight||l.padding||[0,0]),v=this.getBoundsZoom(s,!1,h.add(p));if(v=typeof l.maxZoom=="number"?Math.min(l.maxZoom,v):v,v===1/0)return{center:s.getCenter(),zoom:v};var S=p.subtract(h).divideBy(2),z=this.project(s.getSouthWest(),v),G=this.project(s.getNorthEast(),v),Z=this.unproject(z.add(G).divideBy(2).add(S),v);return{center:Z,zoom:v}},fitBounds:function(s,l){if(s=De(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=ee(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ke(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!D.any3d)return this.setView(s,l,h);this._stop();var p=this.project(this.getCenter()),v=this.project(s),S=this.getSize(),z=this._zoom;s=ye(s),l=l===void 0?z:l;var G=Math.max(S.x,S.y),Z=G*this.getZoomScale(z,l),te=v.distanceTo(p)||1,ce=1.42,xe=ce*ce;function Fe(Nt){var yc=Nt?-1:1,DP=Nt?Z:G,VP=Z*Z-G*G+yc*xe*xe*te*te,FP=2*DP*xe*te,sf=VP/FP,Z_=Math.sqrt(sf*sf+1)-sf,zP=Z_<1e-9?-18:Math.log(Z_);return zP}function vn(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function Gt(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}function li(Nt){return vn(Nt)/Gt(Nt)}var kn=Fe(0);function Ko(Nt){return G*(Gt(kn)/Gt(kn+ce*Nt))}function LP(Nt){return G*(Gt(kn)*li(kn+ce*Nt)-vn(kn))/xe}function MP(Nt){return 1-Math.pow(1-Nt,1.5)}var OP=Date.now(),q_=(Fe(1)-kn)/ce,NP=h.duration?1e3*h.duration:1e3*q_*.8;function K_(){var Nt=(Date.now()-OP)/NP,yc=MP(Nt)*q_;Nt<=1?(this._flyToFrame=N(K_,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(LP(yc)/te)),z),this.getScaleZoom(G/Ko(yc),z),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),K_.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=De(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,De(s));return h.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=ee(l.paddingTopLeft||l.padding||[0,0]),p=ee(l.paddingBottomRight||l.padding||[0,0]),v=this.project(this.getCenter()),S=this.project(s),z=this.getPixelBounds(),G=we([z.min.add(h),z.max.subtract(p)]),Z=G.getSize();if(!G.contains(S)){this._enforcingBounds=!0;var te=S.subtract(G.getCenter()),ce=G.extend(S).getSize().subtract(Z);v.x+=te.x<0?-ce.x:ce.x,v.y+=te.y<0?-ce.y:ce.y,this.panTo(this.unproject(v),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=l.divideBy(2).round(),v=h.divideBy(2).round(),S=p.subtract(v);return!S.x&&!S.y?this:(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,p=new Ae(l,h),v=p.toBounds(s.coords.accuracy*2),S=this._locateOptions;if(S.setView){var z=this.getBoundsZoom(v);this.setView(p,S.maxZoom?Math.min(z,S.maxZoom):z)}var G={latlng:p,bounds:v,timestamp:s.timestamp};for(var Z in s.coords)typeof s.coords[Z]=="number"&&(G[Z]=s.coords[Z]);this.fire("locationfound",G)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Se(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=ae("div",h,l||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new Ie(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=De(s),h=ee(h||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),S=this.getMaxZoom(),z=s.getNorthWest(),G=s.getSouthEast(),Z=this.getSize().subtract(h),te=we(this.project(G,p),this.project(z,p)).getSize(),ce=D.any3d?this.options.zoomSnap:1,xe=Z.x/te.x,Fe=Z.y/te.y,vn=l?Math.max(xe,Fe):Math.min(xe,Fe);return p=this.getScaleZoom(vn,p),ce&&(p=Math.round(p/(ce/100))*(ce/100),p=l?Math.ceil(p/ce)*ce:Math.floor(p/ce)*ce),Math.max(v,Math.min(S,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new ve(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var p=h.zoom(s*h.scale(l));return isNaN(p)?1/0:p},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ye(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ee(s),l)},layerPointToLatLng:function(s){var l=ee(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(ye(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ye(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(De(s))},distance:function(s,l){return this.options.crs.distance(ye(s),ye(l))},containerPointToLayerPoint:function(s){return ee(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ee(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(ee(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ye(s)))},mouseEventToContainerPoint:function(s){return No(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=zi(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pe(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&D.any3d,ke(s,"leaflet-container"+(D.touch?" leaflet-touch":"")+(D.retina?" leaflet-retina":"")+(D.ielt9?" leaflet-oldie":"")+(D.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=jn(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Re(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ke(s.markerPane,"leaflet-zoom-hide"),ke(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){Re(this._mapPane,new Y(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var v=this._zoom!==l;this._moveStart(v,h)._move(s,l)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,p){l===void 0&&(l=this._zoom);var v=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?h&&h.pinch&&this.fire("zoom",h):((v||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Re(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[c(this._container)]=this;var l=s?it:Pe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),D.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],p,v=l==="mouseout"||l==="mouseover",S=s.target||s.srcElement,z=!1;S;){if(p=this._targets[c(S)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){z=!0;break}if(p&&p.listens(l,!0)&&(v&&!ul(S,s)||(h.push(p),v))||S===this._container)break;S=S.parentNode}return!h.length&&!z&&!v&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&cr(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var p=r({},s);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var v=this._findEventTargets(s,l);if(h){for(var S=[],z=0;z<h.length;z++)h[z].listens(l,!0)&&S.push(h[z]);v=S.concat(v)}if(v.length){l==="contextmenu"&&vt(s);var G=v[0],Z={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var te=G.getLatLng&&(!G._radius||G._radius<=10);Z.containerPoint=te?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(s),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=te?G.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(z=0;z<v.length;z++)if(v[z].fire(l,Z,!0),Z.originalEvent._stopped||v[z].options.bubblingMouseEvents===!1&&j(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ii(this._mapPane)||new Y(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var p=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,h){var p=this._getNewPixelOrigin(h,l);return we([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var p=this.project(s,l),v=this.getSize().divideBy(2),S=new ve(p.subtract(v),p.add(v)),z=this._getBoundsOffset(S,h,l);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?s:this.unproject(p.add(z),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),p=new ve(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(s,l,h){var p=we(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),v=p.min.subtract(s.min),S=p.max.subtract(s.max),z=this._rebound(v.x,-S.x),G=this._rebound(v.y,-S.y);return new Y(z,G)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),p=D.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=ti,p=this._proxy.style[h];Bi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Bi(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),v=this._getCenterOffset(s)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(v)?!1:(N(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Do(s,l){return new Be(s,l)}var bn=ue.extend({options:{position:"topright"},initialize:function(s){b(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),p=s._controlCorners[h];return ke(l,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),_n=function(s){return new bn(s)};Be.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=ae("div",l+"control-container",this._container);function p(v,S){var z=l+v+" "+l+S;s[v+S]=ae("div",z,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Se(this._controlCorners[s]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dl=bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,p){return h<p?-1:p<h?1:0}},initialize:function(s,l,h){b(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return bn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=ae("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Qr(l),Zr(l);var p=this._section=ae("section",s+"-list");h&&(this._map.on("click",this.collapse,this),Pe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=ae("a",s+"-toggle",l);v.href="#",v.title="Layers",v.setAttribute("role","button"),Pe(v,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){vt(S),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ae("div",s+"-base",p),this._separator=ae("div",s+"-separator",p),this._overlaysList=ae("div",s+"-overlays",p),l.appendChild(p)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bt(this._baseLayersList),bt(this._overlaysList),this._layerControlInputs=[];var s,l,h,p,v=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),l=l||p.overlay,s=s||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&v>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(c(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(p),p.layerId=c(s.layer),Pe(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+s.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(p),S.appendChild(v);var z=s.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,p=[],v=[];this._handlingClick=!0;for(var S=s.length-1;S>=0;S--)l=s[S],h=this._getLayer(l.layerId).layer,l.checked?p.push(h):l.checked||v.push(h);for(S=0;S<v.length;S++)this._map.hasLayer(v[S])&&this._map.removeLayer(v[S]);for(S=0;S<p.length;S++)this._map.hasLayer(p[S])||this._map.addLayer(p[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,p=this._map.getZoom(),v=s.length-1;v>=0;v--)l=s[v],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Pe(s,"click",vt),this.expand();var l=this;setTimeout(function(){it(s,"click",vt),l._preventClick=!1})}}),Xh=function(s,l,h){return new dl(s,l,h)},dr=bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=ae("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,p,v){var S=ae("a",h,p);return S.innerHTML=s,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),Qr(S),Pe(S,"click",$n),Pe(S,"click",v,this),Pe(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";pt(this._zoomInButton,l),pt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ke(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ke(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Be.mergeOptions({zoomControl:!0}),Be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dr,this.addControl(this.zoomControl))});var rc=function(s){return new dr(s)},Vo=bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=ae("div",l),p=this.options;return this._addScales(p,l+"-line",h),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=ae("div",l,h)),s.imperial&&(this._iScale=ae("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,p,v;l>5280?(h=l/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(v=this._getRoundNum(l),this._updateScale(this._iScale,v+" ft",v/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),Fo=function(s){return new Vo(s)},sc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yr=bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(D.inlineSvg?sc+" ":"")+"Leaflet</a>"},initialize:function(s){b(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),Qr(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Be.mergeOptions({attributionControl:!0}),Be.addInitHook(function(){this.options.attributionControl&&new Yr().addTo(this)});var Jh=function(s){return new Yr(s)};bn.Layers=dl,bn.Zoom=dr,bn.Scale=Vo,bn.Attribution=Yr,_n.layers=Xh,_n.zoom=rc,_n.scale=Fo,_n.attribution=Jh;var Hn=ue.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(s,l){return s.addHandler(l,this),this};var Gs={Events:Oe},hl=D.touch?"touchstart mousedown":"mousedown",vi=at.extend({options:{clickTolerance:3},initialize:function(s,l,h,p){b(this,p),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(Pe(this._dragStartTarget,hl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vi._dragging===this&&this.finishDrag(!0),it(this._dragStartTarget,hl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!qr(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){vi._dragging===this&&this.finishDrag();return}if(!(vi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(vi._dragging=this,this._preventOutline&&cr(this._element),nl(),gi(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=sl(this._element);this._startPoint=new Y(l.clientX,l.clientY),this._startPos=ii(this._element),this._parentScale=Oo(h);var p=s.type==="mousedown";Pe(document,p?"mousemove":"touchmove",this._onMove,this),Pe(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new Y(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,vt(s),this._moved||(this.fire("dragstart"),this._moved=!0,ke(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Re(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),it(document,"mousemove touchmove",this._onMove,this),it(document,"mouseup touchend touchcancel",this._onUp,this),il(),_i();var l=this._moved&&this._moving;this._moving=!1,vi._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function zo(s,l,h){var p,v=[1,4,2,8],S,z,G,Z,te,ce,xe,Fe;for(S=0,ce=s.length;S<ce;S++)s[S]._code=ji(s[S],l);for(G=0;G<4;G++){for(xe=v[G],p=[],S=0,ce=s.length,z=ce-1;S<ce;z=S++)Z=s[S],te=s[z],Z._code&xe?te._code&xe||(Fe=Wt(te,Z,xe,l,h),Fe._code=ji(Fe,l),p.push(Fe)):(te._code&xe&&(Fe=Wt(te,Z,xe,l,h),Fe._code=ji(Fe,l),p.push(Fe)),p.push(Z));s=p}return s}function Bo(s,l){var h,p,v,S,z,G,Z,te,ce;if(!s||s.length===0)throw new Error("latlngs not passed");d(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var xe=ye([0,0]),Fe=De(s),vn=Fe.getNorthWest().distanceTo(Fe.getSouthWest())*Fe.getNorthEast().distanceTo(Fe.getNorthWest());vn<1700&&(xe=jo(s));var Gt=s.length,li=[];for(h=0;h<Gt;h++){var kn=ye(s[h]);li.push(l.project(ye([kn.lat-xe.lat,kn.lng-xe.lng])))}for(G=Z=te=0,h=0,p=Gt-1;h<Gt;p=h++)v=li[h],S=li[p],z=v.y*S.x-S.y*v.x,Z+=(v.x+S.x)*z,te+=(v.y+S.y)*z,G+=z*3;G===0?ce=li[0]:ce=[Z/G,te/G];var Ko=l.unproject(ee(ce));return ye([Ko.lat+xe.lat,Ko.lng+xe.lng])}function jo(s){for(var l=0,h=0,p=0,v=0;v<s.length;v++){var S=ye(s[v]);l+=S.lat,h+=S.lng,p++}return ye([l/p,h/p])}var Uo={__proto__:null,clipPolygon:zo,polygonCenter:Bo,centroid:jo};function fl(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=ac(s,h),s=oc(s,h),s}function pl(s,l,h){return Math.sqrt(ai(s,l,h,!0))}function hr(s,l,h){return ai(s,l,h)}function oc(s,l){var h=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,v=new p(h);v[0]=v[h-1]=1,$o(s,v,l,0,h-1);var S,z=[];for(S=0;S<h;S++)v[S]&&z.push(s[S]);return z}function $o(s,l,h,p,v){var S=0,z,G,Z;for(G=p+1;G<=v-1;G++)Z=ai(s[G],s[p],s[v],!0),Z>S&&(z=G,S=Z);S>h&&(l[z]=1,$o(s,l,h,p,z),$o(s,l,h,z,v))}function ac(s,l){for(var h=[s[0]],p=1,v=0,S=s.length;p<S;p++)lc(s[p],s[v])>l&&(h.push(s[p]),v=p);return v<S-1&&h.push(s[S-1]),h}var ml;function qs(s,l,h,p,v){var S=p?ml:ji(s,h),z=ji(l,h),G,Z,te;for(ml=z;;){if(!(S|z))return[s,l];if(S&z)return!1;G=S||z,Z=Wt(s,l,G,h,v),te=ji(Z,h),G===S?(s=Z,S=te):(l=Z,z=te)}}function Wt(s,l,h,p,v){var S=l.x-s.x,z=l.y-s.y,G=p.min,Z=p.max,te,ce;return h&8?(te=s.x+S*(Z.y-s.y)/z,ce=Z.y):h&4?(te=s.x+S*(G.y-s.y)/z,ce=G.y):h&2?(te=Z.x,ce=s.y+z*(Z.x-s.x)/S):h&1&&(te=G.x,ce=s.y+z*(G.x-s.x)/S),new Y(te,ce,v)}function ji(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function lc(s,l){var h=l.x-s.x,p=l.y-s.y;return h*h+p*p}function ai(s,l,h,p){var v=l.x,S=l.y,z=h.x-v,G=h.y-S,Z=z*z+G*G,te;return Z>0&&(te=((s.x-v)*z+(s.y-S)*G)/Z,te>1?(v=h.x,S=h.y):te>0&&(v+=z*te,S+=G*te)),z=s.x-v,G=s.y-S,p?z*z+G*G:new Y(v,S)}function d(s){return!k(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function g(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(s)}function w(s,l){var h,p,v,S,z,G,Z,te;if(!s||s.length===0)throw new Error("latlngs not passed");d(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ce=ye([0,0]),xe=De(s),Fe=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());Fe<1700&&(ce=jo(s));var vn=s.length,Gt=[];for(h=0;h<vn;h++){var li=ye(s[h]);Gt.push(l.project(ye([li.lat-ce.lat,li.lng-ce.lng])))}for(h=0,p=0;h<vn-1;h++)p+=Gt[h].distanceTo(Gt[h+1])/2;if(p===0)te=Gt[0];else for(h=0,S=0;h<vn-1;h++)if(z=Gt[h],G=Gt[h+1],v=z.distanceTo(G),S+=v,S>p){Z=(S-p)/v,te=[G.x-Z*(G.x-z.x),G.y-Z*(G.y-z.y)];break}var kn=l.unproject(ee(te));return ye([kn.lat+ce.lat,kn.lng+ce.lng])}var A={__proto__:null,simplify:fl,pointToSegmentDistance:pl,closestPointOnSegment:hr,clipSegment:qs,_getEdgeIntersection:Wt,_getBitCode:ji,_sqClosestPointOnSegment:ai,isFlat:d,_flat:g,polylineCenter:w},W={project:function(s){return new Y(s.lng,s.lat)},unproject:function(s){return new Ae(s.y,s.x)},bounds:new ve([-180,-90],[180,90])},Q={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,p=s.lat*l,v=this.R_MINOR/h,S=Math.sqrt(1-v*v),z=S*Math.sin(p),G=Math.tan(Math.PI/4-p/2)/Math.pow((1-z)/(1+z),S/2);return p=-h*Math.log(Math.max(G,1e-10)),new Y(s.lng*l*h,p)},unproject:function(s){for(var l=180/Math.PI,h=this.R,p=this.R_MINOR/h,v=Math.sqrt(1-p*p),S=Math.exp(-s.y/h),z=Math.PI/2-2*Math.atan(S),G=0,Z=.1,te;G<15&&Math.abs(Z)>1e-7;G++)te=v*Math.sin(z),te=Math.pow((1-te)/(1+te),v/2),Z=Math.PI/2-2*Math.atan(S*te)-z,z+=Z;return new Ae(z*l,s.x*l/h)}},oe={__proto__:null,LonLat:W,Mercator:Q,SphericalMercator:Fn},Je=r({},Pt,{code:"EPSG:3395",projection:Q,transformation:function(){var s=.5/(Math.PI*Q.R);return mi(s,.5,-s,.5)}()}),Ot=r({},Pt,{code:"EPSG:4326",projection:W,transformation:mi(1/180,1,-1/180,.5)}),Ge=r({},Xe,{projection:W,transformation:mi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,p=l.lat-s.lat;return Math.sqrt(h*h+p*p)},infinite:!0});Xe.Earth=Pt,Xe.EPSG3395=Je,Xe.EPSG3857=tr,Xe.EPSG900913=Rt,Xe.EPSG4326=Ot,Xe.Simple=Ge;var rt=at.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[c(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[c(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Be.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=c(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return c(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?k(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[c(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=c(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;s=v.minZoom===void 0?s:Math.min(s,v.minZoom),l=v.maxZoom===void 0?l:Math.max(l,v.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yt=rt.extend({initialize:function(s,l){b(this,l),this._layers={};var h,p;if(s)for(h=0,p=s.length;h<p;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[s]&&p[s].apply(p,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return c(s)}}),Xr=function(s,l){return new yt(s,l)},kt=yt.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),yt.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),yt.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ie;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Ho=function(s,l){return new kt(s,l)},Ui=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){b(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,l){var h=this.options,p=h[l+"Size"];typeof p=="number"&&(p=[p,p]);var v=ee(p),S=ee(l==="shadow"&&h.shadowAnchor||h.iconAnchor||v&&v.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),v&&(s.style.width=v.x+"px",s.style.height=v.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return D.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function fP(s){return new Ui(s)}var gl=Ui.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof gl.imagePath!="string"&&(gl.imagePath=this._detectIconPath()),(this.options.imagePath||gl.imagePath)+Ui.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,p,v){var S=p.exec(h);return S&&S[v]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ae("div","leaflet-default-icon-path",document.body),l=jn(s,"background-image")||jn(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),A_=Hn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new vi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ke(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,S=ii(l._icon),z=h.getPixelBounds(),G=h.getPixelOrigin(),Z=we(z.min._subtract(G).add(v),z.max._subtract(G).subtract(v));if(!Z.contains(S)){var te=ee((Math.max(Z.max.x,S.x)-Z.max.x)/(z.max.x-Z.max.x)-(Math.min(Z.min.x,S.x)-Z.min.x)/(z.min.x-Z.min.x),(Math.max(Z.max.y,S.y)-Z.max.y)/(z.max.y-Z.max.y)-(Math.min(Z.min.y,S.y)-Z.min.y)/(z.min.y-Z.min.y)).multiplyBy(p);h.panBy(te,{animate:!1}),this._draggable._newPos._add(te),this._draggable._startPos._add(te),Re(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=N(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,p=ii(l._icon),v=l._map.layerPointToLatLng(p);h&&Re(h,p),l._latlng=v,s.latlng=v,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),uc=rt.extend({options:{icon:new gl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){b(this,l),this._latlng=ye(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ye(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),ke(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(h,"focus",this._panOnFocus,this);var v=s.icon.createShadow(this._shadow),S=!1;v!==this._shadow&&(this._removeShadow(),S=!0),v&&(ke(v,l),v.alt=""),this._shadow=v,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&it(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Re(this._icon,s),this._shadow&&Re(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),A_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new A_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ct(this._icon,s),this._shadow&&Ct(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?ee(l.iconSize):ee(0,0),p=l.iconAnchor?ee(l.iconAnchor):ee(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pP(s,l){return new uc(s,l)}var Jr=rt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return b(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cc=Jr.extend({options:{fill:!0,radius:10},initialize:function(s,l){b(this,l),this._latlng=ye(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ye(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Jr.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),p=[s+h,l+h];this._pxBounds=new ve(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mP(s,l){return new cc(s,l)}var ef=cc.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=r({},h,{radius:l})),b(this,l),this._latlng=ye(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Jr.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===Pt.distance){var v=Math.PI/180,S=this._mRadius/Pt.R/v,z=h.project([l+S,s]),G=h.project([l-S,s]),Z=z.add(G).divideBy(2),te=h.unproject(Z).lat,ce=Math.acos((Math.cos(S*v)-Math.sin(l*v)*Math.sin(te*v))/(Math.cos(l*v)*Math.cos(te*v)))/v;(isNaN(ce)||ce===0)&&(ce=S/Math.cos(Math.PI/180*l)),this._point=Z.subtract(h.getPixelOrigin()),this._radius=isNaN(ce)?0:Z.x-h.project([te,s-ce]).x,this._radiusY=Z.y-z.y}else{var xe=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(xe).x}this._updateBounds()}});function gP(s,l,h){return new ef(s,l,h)}var fr=Jr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){b(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,p=ai,v,S,z=0,G=this._parts.length;z<G;z++)for(var Z=this._parts[z],te=1,ce=Z.length;te<ce;te++){v=Z[te-1],S=Z[te];var xe=p(s,v,S,!0);xe<l&&(l=xe,h=p(s,v,S))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return w(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ye(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ie,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=d(s),p=0,v=s.length;p<v;p++)h?(l[p]=ye(s[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(s[p]);return l},_project:function(){var s=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new Y(s,s);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var p=s[0]instanceof Ae,v=s.length,S,z;if(p){for(z=[],S=0;S<v;S++)z[S]=this._map.latLngToLayerPoint(s[S]),h.extend(z[S]);l.push(z)}else for(S=0;S<v;S++)this._projectLatlngs(s[S],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,p,v,S,z,G,Z;for(h=0,v=0,S=this._rings.length;h<S;h++)for(Z=this._rings[h],p=0,z=Z.length;p<z-1;p++)G=qs(Z[p],Z[p+1],s,p,!0),G&&(l[v]=l[v]||[],l[v].push(G[0]),(G[1]!==Z[p+1]||p===z-2)&&(l[v].push(G[1]),v++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,p=s.length;h<p;h++)s[h]=fl(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,p,v,S,z,G,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,S=this._parts.length;h<S;h++)for(G=this._parts[h],p=0,z=G.length,v=z-1;p<z;v=p++)if(!(!l&&p===0)&&pl(s,G[v],G[p])<=Z)return!0;return!1}});function _P(s,l){return new fr(s,l)}fr._flat=g;var Wo=fr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=fr.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof Ae&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){fr.prototype._setLatLngs.call(this,s),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new Y(l,l);if(s=new ve(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,S;p<v;p++)S=zo(this._rings[p],s,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,p,v,S,z,G,Z,te;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,Z=this._parts.length;S<Z;S++)for(h=this._parts[S],z=0,te=h.length,G=te-1;z<te;G=z++)p=h[z],v=h[G],p.y>s.y!=v.y>s.y&&s.x<(v.x-p.x)*(s.y-p.y)/(v.y-p.y)+p.x&&(l=!l);return l||fr.prototype._containsPoint.call(this,s,!0)}});function vP(s,l){return new Wo(s,l)}var pr=kt.extend({initialize:function(s,l){b(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=k(s)?s:s.features,h,p,v;if(l){for(h=0,p=l.length;h<p;h++)v=l[h],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var S=this.options;if(S.filter&&!S.filter(s))return this;var z=dc(s,S);return z?(z.feature=pc(s),z.defaultOptions=z.options,this.resetStyle(z),S.onEachFeature&&S.onEachFeature(s,z),this.addLayer(z)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function dc(s,l){var h=s.type==="Feature"?s.geometry:s,p=h?h.coordinates:null,v=[],S=l&&l.pointToLayer,z=l&&l.coordsToLatLng||tf,G,Z,te,ce;if(!p&&!h)return null;switch(h.type){case"Point":return G=z(p),R_(S,s,G,l);case"MultiPoint":for(te=0,ce=p.length;te<ce;te++)G=z(p[te]),v.push(R_(S,s,G,l));return new kt(v);case"LineString":case"MultiLineString":return Z=hc(p,h.type==="LineString"?0:1,z),new fr(Z,l);case"Polygon":case"MultiPolygon":return Z=hc(p,h.type==="Polygon"?1:2,z),new Wo(Z,l);case"GeometryCollection":for(te=0,ce=h.geometries.length;te<ce;te++){var xe=dc({geometry:h.geometries[te],type:"Feature",properties:s.properties},l);xe&&v.push(xe)}return new kt(v);case"FeatureCollection":for(te=0,ce=h.features.length;te<ce;te++){var Fe=dc(h.features[te],l);Fe&&v.push(Fe)}return new kt(v);default:throw new Error("Invalid GeoJSON object.")}}function R_(s,l,h,p){return s?s(l,h):new uc(h,p&&p.markersInheritOptions&&p)}function tf(s){return new Ae(s[1],s[0],s[2])}function hc(s,l,h){for(var p=[],v=0,S=s.length,z;v<S;v++)z=l?hc(s[v],l-1,h):(h||tf)(s[v]),p.push(z);return p}function nf(s,l){return s=ye(s),s.alt!==void 0?[y(s.lng,l),y(s.lat,l),y(s.alt,l)]:[y(s.lng,l),y(s.lat,l)]}function fc(s,l,h,p){for(var v=[],S=0,z=s.length;S<z;S++)v.push(l?fc(s[S],d(s[S])?0:l-1,h,p):nf(s[S],p));return!l&&h&&v.length>0&&v.push(v[0].slice()),v}function Go(s,l){return s.feature?r({},s.feature,{geometry:l}):pc(l)}function pc(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var rf={toGeoJSON:function(s){return Go(this,{type:"Point",coordinates:nf(this.getLatLng(),s)})}};uc.include(rf),ef.include(rf),cc.include(rf),fr.include({toGeoJSON:function(s){var l=!d(this._latlngs),h=fc(this._latlngs,l?1:0,!1,s);return Go(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Wo.include({toGeoJSON:function(s){var l=!d(this._latlngs),h=l&&!d(this._latlngs[0]),p=fc(this._latlngs,h?2:l?1:0,!0,s);return l||(p=[p]),Go(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),yt.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),Go(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var S=v.toGeoJSON(s);if(h)p.push(S.geometry);else{var z=pc(S);z.type==="FeatureCollection"?p.push.apply(p,z.features):p.push(z)}}}),h?Go(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function b_(s,l){return new pr(s,l)}var yP=b_,mc=rt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=De(l),b(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ze(this._image),this},bringToBack:function(){return this._map&&Ht(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=De(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:ae("img");if(ke(l,"leaflet-image-layer"),this._zoomAnimated&&ke(l,"leaflet-zoom-animated"),this.options.className&&ke(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Bi(this._image,h,l)},_reset:function(){var s=this._image,l=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Re(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),wP=function(s,l,h){return new mc(s,l,h)},k_=mc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:ae("video");if(ke(l,"leaflet-image-layer"),this._zoomAnimated&&ke(l,"leaflet-zoom-animated"),this.options.className&&ke(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onloadeddata=a(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),p=[],v=0;v<h.length;v++)p.push(h[v].src);this._url=h.length>0?p:[l.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var z=ae("source");z.src=this._url[S],l.appendChild(z)}}});function EP(s,l,h){return new k_(s,l,h)}var L_=mc.extend({_initImage:function(){var s=this._image=this._url;ke(s,"leaflet-image-layer"),this._zoomAnimated&&ke(s,"leaflet-zoom-animated"),this.options.className&&ke(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function TP(s,l,h){return new L_(s,l,h)}var $i=rt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof Ae||k(s))?(this._latlng=ye(s),b(this,l)):(b(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(a(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ye(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ze(this._container),this},bringToBack:function(){return this._map&&Ht(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof kt){l=null;var h=this._source._layers;for(var p in h)if(h[p]._map){l=h[p];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=ee(this.options.offset),h=this._getAnchor();this._zoomAnimated?Re(this._container,s.add(h)):l=l.add(s).add(h);var p=this._containerBottom=-l.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Be.include({_initOverlay:function(s,l,h,p){var v=l;return v instanceof s||(v=new s(p).setContent(l)),h&&v.setLatLng(h),v}}),rt.include({_initOverlay:function(s,l,h,p){var v=h;return v instanceof s?(b(v,p),v._source=this):(v=l&&!p?l:new s(p,this),v.setContent(h)),v}});var gc=$i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,$i.prototype.openOn.call(this,s)},onAdd:function(s){$i.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Jr||this._source.on("preclick",oi))},onRemove:function(s){$i.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Jr||this._source.off("preclick",oi))},getEvents:function(){var s=$i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=ae("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ae("div",s+"-content-wrapper",l);if(this._contentNode=ae("div",s+"-content",h),Qr(l),Zr(this._contentNode),Pe(l,"contextmenu",oi),this._tipContainer=ae("div",s+"-tip-container",l),this._tip=ae("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ae("a",s+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Pe(p,"click",function(v){vt(v),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var p=s.offsetHeight,v=this.options.maxHeight,S="leaflet-popup-scrolled";v&&p>v?(l.height=v+"px",ke(s,S)):pt(s,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Re(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(jn(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,p=this._containerWidth,v=new Y(this._containerLeft,-h-this._containerBottom);v._add(ii(this._container));var S=s.layerPointToContainerPoint(v),z=ee(this.options.autoPanPadding),G=ee(this.options.autoPanPaddingTopLeft||z),Z=ee(this.options.autoPanPaddingBottomRight||z),te=s.getSize(),ce=0,xe=0;S.x+p+Z.x>te.x&&(ce=S.x+p-te.x+Z.x),S.x-ce-G.x<0&&(ce=S.x-G.x),S.y+h+Z.y>te.y&&(xe=S.y+h-te.y+Z.y),S.y-xe-G.y<0&&(xe=S.y-G.y),(ce||xe)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ce,xe]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),SP=function(s,l){return new gc(s,l)};Be.mergeOptions({closePopupOnClick:!0}),Be.include({openPopup:function(s,l,h){return this._initOverlay(gc,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),rt.include({bindPopup:function(s,l){return this._popup=this._initOverlay(gc,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof kt||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){$n(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Jr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var _c=$i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){$i.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){$i.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=$i.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,p=this._map,v=this._container,S=p.latLngToContainerPoint(p.getCenter()),z=p.layerPointToContainerPoint(s),G=this.options.direction,Z=v.offsetWidth,te=v.offsetHeight,ce=ee(this.options.offset),xe=this._getAnchor();G==="top"?(l=Z/2,h=te):G==="bottom"?(l=Z/2,h=0):G==="center"?(l=Z/2,h=te/2):G==="right"?(l=0,h=te/2):G==="left"?(l=Z,h=te/2):z.x<S.x?(G="right",l=0,h=te/2):(G="left",l=Z+(ce.x+xe.x)*2,h=te/2),s=s.subtract(ee(l,h,!0)).add(ce).add(xe),pt(v,"leaflet-tooltip-right"),pt(v,"leaflet-tooltip-left"),pt(v,"leaflet-tooltip-top"),pt(v,"leaflet-tooltip-bottom"),ke(v,"leaflet-tooltip-"+G),Re(v,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ct(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),IP=function(s,l){return new _c(s,l)};Be.include({openTooltip:function(s,l,h){return this._initOverlay(_c,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),rt.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_c,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof kt||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(Pe(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Pe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,p;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var M_=Ui.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(bt(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=ee(h.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function PP(s){return new M_(s)}Ui.Default=gl;var _l=rt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:D.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){b(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Se(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ze(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ht(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Y?s:new Y(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),p=0,v=l.length,S;p<v;p++)S=l[p].style.zIndex,l[p]!==this._container&&S&&(h=s(h,+S));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!D.ielt9){Ct(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var S=Math.min(1,(s-v.loaded)/200);Ct(v.el,S),S<1?l=!0:(v.active?h=!0:this._onOpaqueTile(v),v.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(F(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(Se(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[s],v=this._map;return p||(p=this._levels[s]={},p.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=v.project(v.unproject(v.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,v.getCenter(),v.getZoom()),_(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Se(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,p){var v=Math.floor(s/2),S=Math.floor(l/2),z=h-1,G=new Y(+v,+S);G.z=+z;var Z=this._tileCoordsToKey(G),te=this._tiles[Z];return te&&te.active?(te.retain=!0,!0):(te&&te.loaded&&(te.retain=!0),z>p?this._retainParent(v,S,z,p):!1)},_retainChildren:function(s,l,h,p){for(var v=2*s;v<2*s+2;v++)for(var S=2*l;S<2*l+2;S++){var z=new Y(v,S);z.z=h+1;var G=this._tileCoordsToKey(z),Z=this._tiles[G];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);h+1<p&&this._retainChildren(v,S,h+1,p)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,p){var v=Math.round(l);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var S=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||S)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var p=this._map.getZoomScale(h,s.zoom),v=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,h)).round();D.any3d?Bi(s.el,v,p):Re(s.el,v)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],p).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],p).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],p).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(h,this._tileZoom),v=l.project(s,this._tileZoom).floor(),S=l.getSize().divideBy(p*2);return new ve(v.subtract(S),v.add(S))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),v=this._pxBoundsToTileRange(p),S=v.getCenter(),z=[],G=this.options.keepBuffer,Z=new ve(v.getBottomLeft().subtract([G,-G]),v.getTopRight().add([G,-G]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var te in this._tiles){var ce=this._tiles[te].coords;(ce.z!==this._tileZoom||!Z.contains(new Y(ce.x,ce.y)))&&(this._tiles[te].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var xe=v.min.y;xe<=v.max.y;xe++)for(var Fe=v.min.x;Fe<=v.max.x;Fe++){var vn=new Y(Fe,xe);if(vn.z=this._tileZoom,!!this._isValidTile(vn)){var Gt=this._tiles[this._tileCoordsToKey(vn)];Gt?Gt.current=!0:z.push(vn)}}if(z.sort(function(kn,Ko){return kn.distanceTo(S)-Ko.distanceTo(S)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var li=document.createDocumentFragment();for(Fe=0;Fe<z.length;Fe++)this._addTile(z[Fe],li);this._level.el.appendChild(li)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return De(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),p=s.scaleBy(h),v=p.add(h),S=l.unproject(p,s.z),z=l.unproject(v,s.z);return[S,z]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new Ie(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new Y(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(Se(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ke(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=_,s.onmousemove=_,D.ielt9&&this.options.opacity<1&&Ct(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),p=this._tileCoordsToKey(s),v=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(v),this.createTile.length<2&&N(a(this._tileReady,this,s,null,v)),Re(v,h),this._tiles[p]={el:v,coords:s,current:!0},l.appendChild(v),this.fire("tileloadstart",{tile:v,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var p=this._tileCoordsToKey(s);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Ct(h.el,0),F(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(ke(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),D.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new Y(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new ve(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function xP(s){return new _l(s)}var qo=_l.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=b(this,l),l.detectRetina&&D.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return Pe(h,"load",a(this._tileOnLoad,this,l,h)),Pe(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:D.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return P(this._url,r(l,this.options))},_tileOnLoad:function(s,l){D.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(s=l-s),s+p},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=_,l.onerror=_,!l.complete)){l.src=$;var h=this._tiles[s].coords;Se(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",$),_l.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===$))return _l.prototype._tileReady.call(this,s,l,h)}});function O_(s,l){return new qo(s,l)}var N_=qo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=r({},this.defaultWmsParams);for(var p in l)p in this.options||(h[p]=l[p]);l=b(this,l);var v=l.detectRetina&&D.retina?2:1,S=this.getTileSize();h.width=S.x*v,h.height=S.y*v,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,qo.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,p=we(h.project(l[0]),h.project(l[1])),v=p.min,S=p.max,z=(this._wmsVersion>=1.3&&this._crs===Ot?[v.y,v.x,S.y,S.x]:[v.x,v.y,S.x,S.y]).join(","),G=qo.prototype.getTileUrl.call(this,s);return G+B(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function CP(s,l){return new N_(s,l)}qo.WMS=N_,O_.wms=CP;var mr=rt.extend({options:{padding:.1},initialize:function(s){b(this,s),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,l),S=p.multiplyBy(-h).add(v).subtract(this._map._getNewPixelOrigin(s,l));D.any3d?Bi(this._container,S,h):Re(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new ve(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),D_=mr.extend({options:{tolerance:0},getEvents:function(){var s=mr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Pe(s,"mousemove",this._onMouseMove,this),Pe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Se(this._container),it(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mr.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),p=D.retina?2:1;Re(l,s.min),l.width=p*h.x,l.height=p*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",D.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){mr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[c(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,p=l.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete s._order,delete this._layers[c(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],p,v;for(v=0;v<l.length;v++){if(p=Number(l[v]),isNaN(p))return;h.push(p)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,p,v,S,z=s._parts,G=z.length,Z=this._ctx;if(G){for(Z.beginPath(),h=0;h<G;h++){for(p=0,v=z[h].length;p<v;p++)S=z[h][p],Z[p?"lineTo":"moveTo"](S.x,S.y);l&&Z.closePath()}this._fillStroke(Z,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,p=Math.max(Math.round(s._radius),1),v=(Math.max(Math.round(s._radiusY),1)||p)/p;v!==1&&(h.save(),h.scale(1,v)),h.beginPath(),h.arc(l.x,l.y/v,p,0,Math.PI*2,!1),v!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(pt(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(ke(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,p=l.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,p=l.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function V_(s){return D.canvas?new D_(s):null}var vl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),AP={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=vl("shape");ke(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=vl("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Se(l),s.removeInteractiveTarget(l),delete this._layers[c(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,p=s.options,v=s._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(l||(l=s._stroke=vl("stroke")),v.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=k(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(v.removeChild(l),s._stroke=null),p.fill?(h||(h=s._fill=vl("fill")),v.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(v.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),p=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Ze(s._container)},_bringToBack:function(s){Ht(s._container)}},vc=D.vml?vl:zn,yl=mr.extend({_initContainer:function(){this._container=vc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),it(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mr.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Re(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=vc("path");s.options.className&&ke(l,s.options.className),s.options.interactive&&ke(l,"leaflet-interactive"),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Se(s._path),s.removeInteractiveTarget(s._path),delete this._layers[c(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Fr(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||h,v="a"+h+","+p+" 0 1,0 ",S=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+v+h*2+",0 "+v+-h*2+",0 ";this._setPath(s,S)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Ze(s._path)},_bringToBack:function(s){Ht(s._path)}});D.vml&&yl.include(AP);function F_(s){return D.svg||D.vml?new yl(s):null}Be.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&V_(s)||F_(s)}});var z_=Wo.extend({initialize:function(s,l){Wo.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=De(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function RP(s,l){return new z_(s,l)}yl.create=vc,yl.pointsToPath=Fr,pr.geometryToLayer=dc,pr.coordsToLatLng=tf,pr.coordsToLatLngs=hc,pr.latLngToCoords=nf,pr.latLngsToCoords=fc,pr.getFeature=Go,pr.asFeature=pc,Be.mergeOptions({boxZoom:!0});var B_=Hn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){it(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gi(),nl(),this._startPoint=this._map.mouseEventToContainerPoint(s),Pe(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new ve(this._point,this._startPoint),h=l.getSize();Re(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Se(this._box),pt(this._container,"leaflet-crosshair")),_i(),il(),it(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Be.addInitHook("addHandler","boxZoom",B_),Be.mergeOptions({doubleClickZoom:!0});var j_=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),p=l.options.zoomDelta,v=s.originalEvent.shiftKey?h-p:h+p;l.options.doubleClickZoom==="center"?l.setZoom(v):l.setZoomAround(s.containerPoint,v)}});Be.addInitHook("addHandler","doubleClickZoom",j_),Be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var U_=Hn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new vi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=De(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-l+h)%s+l-h,S=(p+l+h)%s-l-h,z=Math.abs(v+h)<Math.abs(S+h)?v:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(s){var l=this._map,h=l.options,p=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),p)l.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,z=h.easeLinearity,G=v.multiplyBy(z/S),Z=G.distanceTo([0,0]),te=Math.min(h.inertiaMaxSpeed,Z),ce=G.multiplyBy(te/Z),xe=te/(h.inertiaDeceleration*z),Fe=ce.multiplyBy(-xe/2).round();!Fe.x&&!Fe.y?l.fire("moveend"):(Fe=l._limitOffset(Fe,l.options.maxBounds),N(function(){l.panBy(Fe,{duration:xe,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Be.addInitHook("addHandler","dragging",U_),Be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $_=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Pe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),it(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,p=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,p,v;for(p=0,v=h.left.length;p<v;p++)l[h.left[p]]=[-1*s,0];for(p=0,v=h.right.length;p<v;p++)l[h.right[p]]=[s,0];for(p=0,v=h.down.length;p<v;p++)l[h.down[p]]=[0,s];for(p=0,v=h.up.length;p<v;p++)l[h.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,p,v;for(p=0,v=h.zoomIn.length;p<v;p++)l[h.zoomIn[p]]=s;for(p=0,v=h.zoomOut.length;p<v;p++)l[h.zoomOut[p]]=-s},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){it(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,p;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[l],s.shiftKey&&(p=ee(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(ee(p),h.options.maxBounds)),h.options.worldCopyJump){var v=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(v)}else h.panBy(p)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;$n(s)}}});Be.addInitHook("addHandler","keyboard",$_),Be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var H_=Hn.extend({addHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){it(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=nc(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),p),$n(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,S=h?Math.ceil(v/h)*h:v,z=s._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,z&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+z):s.setZoomAround(this._lastMousePos,l+z))}});Be.addInitHook("addHandler","scrollWheelZoom",H_);var bP=600;Be.mergeOptions({tapHold:D.touchNative&&D.safari&&D.mobile,tapTolerance:15});var W_=Hn.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){it(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new Y(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Pe(document,"touchend",vt),Pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),bP),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){it(document,"touchend",vt),it(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),it(document,"touchend touchcancel contextmenu",this._cancel,this),it(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new Y(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Be.addInitHook("addHandler","tapHold",W_),Be.mergeOptions({touchZoom:D.touch,bounceAtZoomLimits:!0});var G_=Hn.extend({addHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),it(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),vt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]),v=h.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(v,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&v<1||this._zoom>l.getMaxZoom()&&v>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var S=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var z=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(z,this,!0),vt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),it(document,"touchmove",this._onTouchMove,this),it(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Be.addInitHook("addHandler","touchZoom",G_),Be.BoxZoom=B_,Be.DoubleClickZoom=j_,Be.Drag=U_,Be.Keyboard=$_,Be.ScrollWheelZoom=H_,Be.TapHold=W_,Be.TouchZoom=G_,n.Bounds=ve,n.Browser=D,n.CRS=Xe,n.Canvas=D_,n.Circle=ef,n.CircleMarker=cc,n.Class=ue,n.Control=bn,n.DivIcon=M_,n.DivOverlay=$i,n.DomEvent=ic,n.DomUtil=ec,n.Draggable=vi,n.Evented=at,n.FeatureGroup=kt,n.GeoJSON=pr,n.GridLayer=_l,n.Handler=Hn,n.Icon=Ui,n.ImageOverlay=mc,n.LatLng=Ae,n.LatLngBounds=Ie,n.Layer=rt,n.LayerGroup=yt,n.LineUtil=A,n.Map=Be,n.Marker=uc,n.Mixin=Gs,n.Path=Jr,n.Point=Y,n.PolyUtil=Uo,n.Polygon=Wo,n.Polyline=fr,n.Popup=gc,n.PosAnimation=cl,n.Projection=oe,n.Rectangle=z_,n.Renderer=mr,n.SVG=yl,n.SVGOverlay=L_,n.TileLayer=qo,n.Tooltip=_c,n.Transformation=ki,n.Util=O,n.VideoOverlay=k_,n.bind=a,n.bounds=we,n.canvas=V_,n.circle=gP,n.circleMarker=mP,n.control=_n,n.divIcon=PP,n.extend=r,n.featureGroup=Ho,n.geoJSON=b_,n.geoJson=yP,n.gridLayer=xP,n.icon=fP,n.imageOverlay=wP,n.latLng=ye,n.latLngBounds=De,n.layerGroup=Xr,n.map=Do,n.marker=pP,n.point=ee,n.polygon=vP,n.polyline=_P,n.popup=SP,n.rectangle=RP,n.setOptions=b,n.stamp=c,n.svg=F_,n.svgOverlay=TP,n.tileLayer=O_,n.tooltip=IP,n.transformation=mi,n.version=i,n.videoOverlay=EP;var kP=window.L;n.noConflict=function(){return window.L=kP,this},window.L=n})})(Pm,Pm.exports);var Ju=Pm.exports;const H2=Cm(Ju);function x_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function C_(t,e){return e==null?function(i,r){const o=H.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=H.useRef();o.current||(o.current=t(i,r));const a=H.useRef(i),{instance:u}=o.current;return H.useEffect(function(){a.current!==i&&(e(u,i,a.current),a.current=i)},[u,i,r]),o}}function W2(t,e){H.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function cP(t){return function(n){const i=I_(),r=t(P_(n,i),i);return oP(i.map,n.attribution),uP(r.current,n.eventHandlers),W2(r.current,i),r}}function G2(t,e){const n=C_(t,e),i=cP(n);return B2(i)}function q2(t,e){const n=C_(t),i=$2(n,e);return j2(i)}function K2(t,e){const n=C_(t,e),i=cP(n);return U2(i)}function Z2(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function Q2(){return I_().map}function xm(){return xm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xm.apply(this,arguments)}function Y2({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:a,style:u,whenReady:c,zoom:f,...m},_){const[y]=H.useState({className:r,id:o,style:u}),[T,R]=H.useState(null);H.useImperativeHandle(_,()=>(T==null?void 0:T.map)??null,[T]);const b=H.useCallback(I=>{if(I!==null&&T===null){const P=new Ju.Map(I,m);n!=null&&f!=null?P.setView(n,f):t!=null&&P.fitBounds(t,e),c!=null&&P.whenReady(c),R(F2(P))}},[]);H.useEffect(()=>()=>{T==null||T.map.remove()},[T]);const B=T?gt.createElement(lP,{value:T},i):a??null;return gt.createElement("div",xm({},y,{ref:b}),B)}const X2=H.forwardRef(Y2),J2=G2(function({position:e,...n},i){const r=new Ju.Marker(e,n);return x_(r,z2(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),eV=q2(function(e,n){const i=new Ju.Popup(e,n.overlayContainer);return x_(i,n)},function(e,n,{position:i},r){H.useEffect(function(){const{instance:a}=e;function u(f){f.popup===a&&(a.update(),r(!0))}function c(f){f.popup===a&&r(!1)}return n.map.on({popupopen:u,popupclose:c}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var m;n.map.off({popupopen:u,popupclose:c}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(a)}},[e,n,r,i])}),tV=K2(function({url:e,...n},i){const r=new Ju.TileLayer(e,P_(n,i));return x_(r,i)},function(e,n,i){Z2(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),nV=({onMapClick:t})=>{const e=Q2();return H.useEffect(()=>(e.on("click",t),()=>{e.off("click",t)}),[e,t]),null},iV=new H2.Icon({iconUrl:"https://png.pngtree.com/png-clipart/20230815/original/pngtree-map-red-pointer-icon-marker-vector-isolated-on-white-background-eps-10-picture-image_7977947.png",iconRetinaUrl:"https://png.pngtree.com/png-clipart/20230815/original/pngtree-map-red-pointer-icon-marker-vector-isolated-on-white-background-eps-10-picture-image_7977947.png",shadowUrl:"https://unpkg.com/leaflet/dist/images/marker-shadow.png",iconSize:[40,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),rV=({lat:t,lng:e,onMapClick:n})=>M.jsxs(X2,{center:[t,e],zoom:13,style:{height:"300px",width:"100%"},children:[M.jsx(tV,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),M.jsx(J2,{position:[t,e],icon:iV,children:M.jsx(eV,{})}),M.jsx(nV,{onMapClick:n})]}),sV=({name:t,setName:e,date:n,setDate:i,startTime:r,setStartTime:o,location:a,setLocation:u,eventType:c,setEventType:f,dressCode:m,setDressCode:_,description:y,setDescription:T,handleSubmit:R,lat:b,lng:B,onMapClick:I,onClose:P,amount:k,setAmount:j})=>M.jsxs("div",{className:"create_event_form",children:[M.jsx("button",{className:"close-button",onClick:P,children:"x"}),M.jsx("h2",{children:"Create a new event"}),M.jsxs("form",{onSubmit:R,children:[M.jsx("label",{children:"Event name"}),M.jsx("input",{type:"text",value:t,onChange:$=>e($.target.value),placeholder:"Event name",required:!0}),M.jsx("label",{children:"Date"}),M.jsx("input",{type:"date",value:n,onChange:$=>i($.target.value),required:!0}),M.jsx("label",{children:"Start time"}),M.jsx("input",{type:"time",value:r,onChange:$=>o($.target.value),required:!0}),M.jsx("label",{children:"Address"}),M.jsx("input",{type:"text",value:a,onChange:$=>u($.target.value),placeholder:"Address",required:!0}),M.jsx(rV,{lat:b,lng:B,location:a,onMapClick:I}),M.jsx("label",{children:"Event type"}),M.jsxs("select",{value:c,onChange:$=>f($.target.value),required:!0,children:[M.jsx("option",{value:"",disabled:!0,children:"Select an event type"}),M.jsx("option",{value:"Halloween",children:"Halloween"}),M.jsx("option",{value:"Wedding",children:"Wedding"}),M.jsx("option",{value:"Birthday",children:"Birthday"}),M.jsx("option",{value:"Baby shower",children:"Baby shower"}),M.jsx("option",{value:"Christmas",children:"Christmas"}),M.jsx("option",{value:"Other",children:"Other"})]}),M.jsx("label",{children:"Dress code"}),M.jsx("input",{type:"text",value:m,onChange:$=>_($.target.value),placeholder:"Dress code",required:!0}),M.jsx("label",{children:"Description"}),M.jsx("textarea",{value:y,onChange:$=>T($.target.value),placeholder:"Description",required:!0}),M.jsx("label",{children:"Event amount"}),M.jsx("input",{type:"number",value:k,onChange:$=>j(Number($.target.value)),placeholder:"Event amount",required:!0}),M.jsx("button",{type:"submit",children:"Create event"})]})]}),oV=({onClick:t})=>M.jsxs("div",{id:"button_new_div",children:[M.jsx("h2",{id:"new_event_text",children:"Create a new event!"}),M.jsx("button",{id:"new_nevent_button",onClick:t,children:"+"})]}),aV=()=>{const[t,e]=H.useState(""),[n,i]=H.useState(""),[r,o]=H.useState(""),[a,u]=H.useState(""),[c,f]=H.useState(""),[m,_]=H.useState(""),[y,T]=H.useState(""),[R,b]=H.useState(void 0),[B,I]=H.useState(void 0),[P,k]=H.useState(!1),[j,$]=H.useState(!1),[K,V]=H.useState(null),[E,x]=H.useState(void 0),C=H.useMemo(()=>({Halloween:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/162fae60-77df-11ee-bd0d-2d70b013b479.jpg.webp?alt=media&token=657d353c-98b6-4826-94b1-3ef021510c0e",Birthday:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/septiembre-cumpleanos-655x368.webp?alt=media&token=9374ce7f-cf85-4cda-8a9b-8d52ca80f0e1","Baby shower":"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/e53d5867ba9718bd7626f70f2ff446f3.webp?alt=media&token=283fad8c-d887-421a-8e37-3c9c3044b8f5",Wedding:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/unnamed-min.webp?alt=media&token=b4c33a4f-b720-47a8-b4f5-c5ddc028625e",Christmas:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/S7H7HDZF2RJ7RJ3FYMDU5QFSQ4.webp?alt=media&token=9c5c1ce5-7293-4d20-a7fc-216049acbef0",Other:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/amigos-tintinean-vasos-bebida-bar-moderno_1150-18971.webp?alt=media&token=d0a0eb11-822c-49e4-8b10-8e18070be90e"}),[]),N=3.405,F=-76.49,O=ie=>{f(ie),V(C[ie]||null)},ue=async ie=>{if(ie.preventDefault(),!P){alert("Please set the location on the map.");return}if(!t||!n||!r||!a||!c||!m||!y||E===void 0){alert("Please complete all the required fields.");return}if(E<1){alert("The amount must be at least 1.");return}const ve=$I().currentUser;if(!ve){alert("User not authenticated.");return}const we=Ya(Ns,"users",ve.uid),Ie=await Gh(we);if(!Ie.exists()){alert("User data not found.");return}const Ae=Ie.data().accountAmount;if(Ae<E){alert("Insufficient funds.");return}const ye=Ae-E;await MM(we,{accountAmount:ye});const Xe={name:t,date:n,startTime:r,location:a,eventType:c,dressCode:m,description:y,userId:ve.uid,coordinates:{lat:R,lng:B},image:K,amount:E};console.log("Event data:",Xe);try{const Pt=await OM(t_(Ns,"events"),Xe);console.log("Document written with ID: ",Pt.id)}catch(Pt){console.error("Error adding document: ",Pt)}Ne(),$(!1)},Ne=()=>{e(""),i(""),o(""),u(""),f(""),_(""),T(""),b(void 0),I(void 0),k(!1),V(null),x(void 0)},Oe=ie=>{const{lat:ee,lng:ve}=ie.latlng;b(ee),I(ve),k(!0)},at=()=>{console.log("Form closed"),Ne(),$(!1)},Y=()=>{$(!0)};return M.jsxs(M.Fragment,{children:[M.jsx(oV,{onClick:Y}),j&&M.jsx(sV,{name:t,setName:e,date:n,setDate:i,startTime:r,setStartTime:o,location:a,setLocation:u,eventType:c,setEventType:O,dressCode:m,setDressCode:_,description:y,setDescription:T,handleSubmit:ue,lat:R||N,lng:B||F,onMapClick:Oe,onClose:at,eventImage:K,amount:E||0,setAmount:x})]})},lV=()=>{const{userId:t}=Cg();return M.jsxs("div",{id:"main_screen",children:[M.jsx(eD,{}),M.jsx(L2,{}),M.jsx(O2,{userId:t}),M.jsx(D2,{userId:t}),M.jsx(aV,{}),M.jsx(nD,{})]})},pa=({uid:t,lillogo:e,info:n,infoPlaceholder:i,inputType:r,...o})=>M.jsxs("div",{id:"inputSpace",children:[M.jsx("p",{className:"inputs_p",children:n}),M.jsxs("div",{id:"img-Input",children:[M.jsx("img",{src:e,alt:""}),M.jsx("input",{className:"theRegisterInput",id:t,type:r,placeholder:i,...o})]}),M.jsx("hr",{id:"lineaHorizontal"})]}),uV=()=>{const t=Dr(),e=()=>{t("/login")};return M.jsx("button",{onClick:e,className:"register-buttons",children:"Login here !"})};function cV({title:t,infoMessagept1:e,infoMessagept2:n}){return M.jsxs("div",{id:"MessageSpace",children:[M.jsx("h1",{children:t}),M.jsxs("div",{children:[M.jsx("p",{id:"register_message",children:e}),M.jsx("div",{id:"infoWithLink",children:M.jsxs("p",{id:"register_message",children:[n,M.jsx(uV,{})]})})]})]})}function dP({buttonText:t,btnId:e}){return M.jsx("button",{className:"theRegisterBtn",type:"submit",id:e,children:t})}const dV=()=>{const[t,e]=H.useState(""),[n,i]=H.useState(""),[r,o]=H.useState(""),[a,u]=H.useState(""),[c,f]=H.useState(null),m=Dr(),_=async y=>{y.preventDefault(),f(null);try{const R=(await LO(Qh,t,r)).user,b=parseInt(a);await LM(Ya(Ns,"users",R.uid),{username:n,accountAmount:b,email:R.email}),console.log("Usuario registrado:",R),m(`/main/${R.uid}`)}catch(T){console.error("Error al registrar:",T),T.code==="auth/email-already-in-use"?f("This email is already in use."):T.code==="auth/weak-password"?f("The password is too weak."):f("An error occurred while signing up.")}};return M.jsxs("div",{id:"SignSpace",children:[M.jsx("img",{id:"SignImg",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/medium-shot-friends-posing-photo-booth%201.png?alt=media&token=6a674026-3c87-4045-b725-9f0bc43e83b2",alt:""}),M.jsx("div",{className:"registerSpace",children:M.jsxs("form",{id:"registerForm",onSubmit:_,children:[M.jsx(cV,{title:"Sign Up",infoMessagept1:"If you already have an account registered",infoMessagept2:"You can"}),M.jsx(pa,{inputType:"email",uid:"registerEmail",lillogo:"/mail.svg",info:"Email",infoPlaceholder:"Enter your email address",onChange:y=>e(y.target.value)}),M.jsx(pa,{inputType:"text",uid:"registerUsername",lillogo:"/user.svg",info:"Username",infoPlaceholder:"Enter your username",onChange:y=>i(y.target.value)}),M.jsx(pa,{inputType:"password",uid:"registerPassword",lillogo:"/lock.svg",info:"Password",infoPlaceholder:"Enter your password",onChange:y=>o(y.target.value)}),M.jsx(pa,{inputType:"number",uid:"registerAccount",lillogo:"money.svg",info:"Account Amount",infoPlaceholder:"Add account amount",onChange:y=>u(y.target.value)}),c&&M.jsx("div",{className:"errorMessage",children:c})," ",M.jsx(dP,{btnId:"RegisterBtn",buttonText:"Register"})]})})]})},hV=()=>M.jsx("div",{className:"register-screen",children:M.jsx(dV,{})}),fV=()=>{const t=Dr(),e=()=>{t("/signup")};return M.jsx("button",{onClick:e,className:"login-buttons",children:"Register here !"})};function pV({title:t,infoMessagept1:e,infoMessagept2:n}){return M.jsxs("div",{id:"MessageLogSpace",children:[M.jsx("h1",{children:t}),M.jsxs("div",{id:"message_space",children:[M.jsx("p",{className:"login_message",children:e}),M.jsx("div",{children:M.jsxs("p",{id:"infoWithLinkLog",className:"login_message",children:[n,M.jsx(fV,{})]})})]})]})}function mV(){const[t,e]=H.useState(""),[n,i]=H.useState(""),[r,o]=H.useState(null),a=Dr(),u=async c=>{c.preventDefault(),o(null);try{const f=await MO(Qh,t,n);console.log("Usuario autenticado:",f.user);const m=f.user.uid;a(`/main/${m}`)}catch(f){console.error("Error al iniciar sesión:",f),f.code==="auth/wrong-password"?o("Incorrect Password."):f.code==="auth/user-not-found"?o("There is no account associated with that email."):o("An error occurred while signing in.")}};return M.jsxs("div",{id:"LogSpace",children:[M.jsx("img",{id:"LogImg",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/energetic-dance-floor-with-people-celebrating-birthday.webp?alt=media&token=b09e959b-bfa8-4cfd-b713-21ab511da847",alt:""}),M.jsx("div",{className:"registerSpace",children:M.jsxs("form",{onSubmit:u,id:"loginForm",children:[M.jsx(pV,{title:"Log In",infoMessagept1:"If you haven't registered yet",infoMessagept2:"You can"}),M.jsx(pa,{inputType:"email",uid:"loginEmail",lillogo:"/mail.svg",info:"Email",infoPlaceholder:"Enter your email address",onChange:c=>e(c.target.value)}),M.jsx(pa,{inputType:"password",uid:"loginPassword",lillogo:"/lock.svg",info:"Password",infoPlaceholder:"Enter your password",onChange:c=>i(c.target.value)}),r&&M.jsx("div",{className:"errorMessage",children:r}),M.jsx(dP,{btnId:"",buttonText:"Login"})]})})]})}const gV=()=>M.jsx("div",{className:"login-screen",children:M.jsx(mV,{})}),_V=bA([{path:"/",element:M.jsx(XA,{})},{path:"/login",element:M.jsx(gV,{})},{path:"/signup",element:M.jsx(hV,{})},{path:"/main/:userId",element:M.jsx(lV,{})},{path:"/detail/:id",element:M.jsx(JN,{})}]);var hP,Zw=Ih;hP=Zw.createRoot,Zw.hydrateRoot;hP(document.getElementById("root")).render(M.jsx(zA,{router:_V}));
