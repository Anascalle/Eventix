import React, { useState } from "react";
import AcceptButton from "../AcceptButton/AcceptButton";
import RejectButton from "../RejectButton/RejectButton";
import "./invitations.css";
import { InvitationsProps } from "../../../Types/types";

const InvitationsCards: React.FC<InvitationsProps> = ({
  creator,
  ocation,
  eventDate,
  hour,
  creatorImg,
  onAccept,
  onReject,
}) => {
  
   const [showDetails, setShowDetails] = useState(false);

   const toggleDetails = () => {
     setShowDetails((prev) => !prev);
   };
   
   return (
    <div id="Invitation"className={showDetails ? 'expanded' : ''}>
      <img id="profile_img" src={creatorImg} alt={`Creator: ${creator}`} />
      <div id="invitation_text" className={showDetails ? 'expanded' : ''}>
        <p id="name">{creator} sent you an invitation</p>

        
        {showDetails && (
          <>
            <div id="ocation">
              <div id="ocat_icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 11 12" fill="none">
              <path d="M4.79022 2.86496C4.70949 2.78444 4.60977 2.72555 4.50027 2.69372C4.39078 2.6619 4.27503 2.65816 4.16371 2.68287C4.05239 2.70757 3.94908 2.75992 3.86333 2.83507C3.77757 2.91023 3.71213 3.00577 3.67303 3.11289L1.4176 9.31672C1.38055 9.41902 1.36859 9.52872 1.3827 9.63661C1.39682 9.7445 1.43662 9.84742 1.49875 9.93675C1.56088 10.0261 1.64353 10.0992 1.73977 10.15C1.83601 10.2007 1.94302 10.2277 2.05182 10.2285C2.13193 10.228 2.21133 10.2134 2.28643 10.1855L8.48983 7.92969C8.59698 7.89064 8.69257 7.82523 8.76777 7.7395C8.84297 7.65376 8.89537 7.55047 8.92011 7.43914C8.94486 7.32782 8.94117 7.21205 8.90937 7.10253C8.87758 6.99301 8.8187 6.89327 8.73819 6.8125L4.79022 2.86496ZM4.43229 8.67477L2.92839 7.17086L3.49385 5.61496L5.98819 8.1093L4.43229 8.67477ZM2.06901 9.53414L2.67057 7.88371L3.72116 8.9343L2.06901 9.53414ZM6.70276 7.84977L3.75339 4.90039L4.31198 3.3591L8.24061 7.28773L6.70276 7.84977ZM6.87464 3.69727C6.88109 3.46488 6.93736 3.23658 7.03964 3.02781C7.26737 2.57277 7.69706 2.32227 8.24964 2.32227C8.53753 2.32227 8.72229 2.22387 8.83616 2.01246C8.89612 1.89419 8.93052 1.76462 8.93714 1.63219C8.93748 1.54102 8.97402 1.45372 9.03873 1.3895C9.10344 1.32527 9.19101 1.28938 9.28217 1.28973C9.37334 1.29007 9.46064 1.32661 9.52487 1.39132C9.58909 1.45603 9.62498 1.5436 9.62464 1.63477C9.62464 2.18734 9.25854 3.00977 8.24964 3.00977C7.96174 3.00977 7.77698 3.10816 7.66311 3.31957C7.60315 3.43784 7.56875 3.56741 7.56214 3.69984C7.56197 3.74499 7.55291 3.78965 7.53548 3.83129C7.51804 3.87293 7.49258 3.91073 7.46054 3.94253C7.4285 3.97433 7.39051 3.99951 7.34874 4.01663C7.30697 4.03375 7.26224 4.04247 7.2171 4.0423C7.17195 4.04214 7.12729 4.03308 7.08565 4.01564C7.04401 3.99821 7.00621 3.97275 6.97441 3.94071C6.94261 3.90867 6.91743 3.87068 6.90031 3.82891C6.88319 3.78714 6.87447 3.74241 6.87464 3.69727ZM5.84339 2.32227V1.29102C5.84339 1.19985 5.8796 1.11241 5.94407 1.04795C6.00853 0.983482 6.09597 0.947266 6.18714 0.947266C6.2783 0.947266 6.36574 0.983482 6.4302 1.04795C6.49467 1.11241 6.53089 1.19985 6.53089 1.29102V2.32227C6.53089 2.41343 6.49467 2.50087 6.4302 2.56533C6.36574 2.6298 6.2783 2.66602 6.18714 2.66602C6.09597 2.66602 6.00853 2.6298 5.94407 2.56533C5.8796 2.50087 5.84339 2.41343 5.84339 2.32227ZM10.2116 5.86031C10.2435 5.89225 10.2688 5.93016 10.2861 5.97188C10.3033 6.0136 10.3122 6.05831 10.3122 6.10345C10.3122 6.1486 10.3032 6.1933 10.2859 6.235C10.2687 6.27671 10.2433 6.31459 10.2114 6.3465C10.1794 6.37841 10.1415 6.40372 10.0998 6.42098C10.0581 6.43824 10.0134 6.44711 9.96823 6.44709C9.92309 6.44707 9.87839 6.43816 9.83668 6.42086C9.79498 6.40357 9.75709 6.37823 9.72518 6.34629L9.03768 5.65879C8.97318 5.59429 8.93694 5.5068 8.93694 5.41559C8.93694 5.32437 8.97318 5.23688 9.03768 5.17238C9.10218 5.10788 9.18967 5.07164 9.28089 5.07164C9.3721 5.07164 9.45959 5.10788 9.52409 5.17238L10.2116 5.86031ZM10.4208 4.0234L9.3896 4.36715C9.3031 4.39598 9.20869 4.38927 9.12714 4.3485C9.0456 4.30772 8.98358 4.23622 8.95475 4.14973C8.92592 4.06323 8.93263 3.96882 8.9734 3.88728C9.01418 3.80573 9.08568 3.74371 9.17217 3.71488L10.2034 3.37113C10.2899 3.3423 10.3843 3.34901 10.4659 3.38978C10.5474 3.43056 10.6094 3.50206 10.6383 3.58855C10.6671 3.67505 10.6604 3.76946 10.6196 3.85101C10.5788 3.93255 10.5073 3.99457 10.4208 4.0234Z" fill="#343330"/>
              </svg>
              </div>
              <p> <span id="ocation_type">{ocation}</span></p>
            </div>

            <div id="date">
            <div id="ocat_icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 11 12" fill="none">
            <path d="M8.9375 1.97852H7.90625V1.63477C7.90625 1.5436 7.87003 1.45616 7.80557 1.3917C7.7411 1.32723 7.65367 1.29102 7.5625 1.29102C7.47133 1.29102 7.3839 1.32723 7.31943 1.3917C7.25497 1.45616 7.21875 1.5436 7.21875 1.63477V1.97852H3.78125V1.63477C3.78125 1.5436 3.74503 1.45616 3.68057 1.3917C3.6161 1.32723 3.52867 1.29102 3.4375 1.29102C3.34633 1.29102 3.2589 1.32723 3.19443 1.3917C3.12997 1.45616 3.09375 1.5436 3.09375 1.63477V1.97852H2.0625C1.88016 1.97852 1.7053 2.05095 1.57636 2.17988C1.44743 2.30881 1.375 2.48368 1.375 2.66602V9.54102C1.375 9.72335 1.44743 9.89822 1.57636 10.0272C1.7053 10.1561 1.88016 10.2285 2.0625 10.2285H8.9375C9.11984 10.2285 9.2947 10.1561 9.42364 10.0272C9.55257 9.89822 9.625 9.72335 9.625 9.54102V2.66602C9.625 2.48368 9.55257 2.30881 9.42364 2.17988C9.2947 2.05095 9.11984 1.97852 8.9375 1.97852ZM3.09375 2.66602V3.00977C3.09375 3.10093 3.12997 3.18837 3.19443 3.25283C3.2589 3.3173 3.34633 3.35352 3.4375 3.35352C3.52867 3.35352 3.6161 3.3173 3.68057 3.25283C3.74503 3.18837 3.78125 3.10093 3.78125 3.00977V2.66602H7.21875V3.00977C7.21875 3.10093 7.25497 3.18837 7.31943 3.25283C7.3839 3.3173 7.47133 3.35352 7.5625 3.35352C7.65367 3.35352 7.7411 3.3173 7.80557 3.25283C7.87003 3.18837 7.90625 3.10093 7.90625 3.00977V2.66602H8.9375V4.04102H2.0625V2.66602H3.09375ZM8.9375 9.54102H2.0625V4.72852H8.9375V9.54102ZM4.8125 5.75977V8.50977C4.8125 8.60093 4.77628 8.68837 4.71182 8.75283C4.64735 8.8173 4.55992 8.85352 4.46875 8.85352C4.37758 8.85352 4.29015 8.8173 4.22568 8.75283C4.16122 8.68837 4.125 8.60093 4.125 8.50977V6.31578L3.93508 6.41117C3.85348 6.45197 3.75902 6.45868 3.67248 6.42983C3.58593 6.40099 3.51439 6.33894 3.47359 6.25734C3.4328 6.17575 3.42608 6.08129 3.45493 5.99474C3.48378 5.9082 3.54583 5.83666 3.62742 5.79586L4.31492 5.45211C4.36735 5.42587 4.42561 5.41348 4.48418 5.41612C4.54275 5.41875 4.59967 5.43631 4.64953 5.46714C4.69939 5.49797 4.74054 5.54105 4.76907 5.59226C4.79759 5.64348 4.81254 5.70114 4.8125 5.75977ZM7.35453 7.06816L6.53125 8.16602H7.21875C7.30992 8.16602 7.39735 8.20223 7.46182 8.2667C7.52628 8.33116 7.5625 8.4186 7.5625 8.50977C7.5625 8.60093 7.52628 8.68837 7.46182 8.75283C7.39735 8.8173 7.30992 8.85352 7.21875 8.85352H5.84375C5.77991 8.85352 5.71733 8.83574 5.66303 8.80218C5.60873 8.76861 5.56484 8.72059 5.53629 8.6635C5.50774 8.6064 5.49566 8.54248 5.50139 8.4789C5.50712 8.41531 5.53045 8.35459 5.56875 8.30352L6.80539 6.6548C6.83352 6.61736 6.8537 6.57456 6.86469 6.52903C6.87568 6.48351 6.87726 6.43621 6.86931 6.39006C6.86137 6.3439 6.84408 6.29985 6.81851 6.26062C6.79293 6.22139 6.7596 6.1878 6.72058 6.1619C6.68155 6.13601 6.63764 6.11837 6.59155 6.11006C6.54546 6.10175 6.49816 6.10294 6.45254 6.11357C6.40693 6.12419 6.36397 6.14403 6.3263 6.17186C6.28863 6.19968 6.25704 6.23492 6.23348 6.27539C6.21157 6.31573 6.18181 6.35127 6.14594 6.37993C6.11008 6.40858 6.06884 6.42975 6.02466 6.44221C5.98048 6.45466 5.93425 6.45814 5.8887 6.45244C5.84315 6.44674 5.79921 6.43198 5.75946 6.40902C5.71971 6.38606 5.68496 6.35537 5.65726 6.31876C5.62957 6.28215 5.60948 6.24037 5.59819 6.19588C5.58691 6.15138 5.58465 6.10508 5.59154 6.05969C5.59844 6.01431 5.61436 5.97077 5.63836 5.93164C5.75191 5.73514 5.92711 5.58158 6.1368 5.49478C6.3465 5.40797 6.57897 5.39276 6.79818 5.4515C7.0174 5.51025 7.21111 5.63967 7.3493 5.8197C7.48749 5.99973 7.56242 6.22032 7.5625 6.44727C7.56323 6.67145 7.49015 6.88965 7.35453 7.06816Z" fill="#343330"/>
            </svg>
            </div>
             <p><span id="date_number">{eventDate}</span></p>
            </div>

            <div id="hour">
            <div id="ocat_icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 11 12" fill="none">
            <path d="M5.5 1.63477C4.61617 1.63477 3.75218 1.89685 3.0173 2.38789C2.28242 2.87892 1.70964 3.57684 1.37142 4.3934C1.03319 5.20996 0.94469 6.10847 1.11712 6.97533C1.28955 7.84218 1.71515 8.63843 2.34012 9.2634C2.96508 9.88836 3.76134 10.314 4.62819 10.4864C5.49504 10.6588 6.39356 10.5703 7.21012 10.2321C8.02668 9.89387 8.7246 9.3211 9.21563 8.58622C9.70666 7.85134 9.96875 6.98735 9.96875 6.10352C9.9675 4.91871 9.49629 3.7828 8.6585 2.94501C7.82072 2.10723 6.6848 1.63602 5.5 1.63477ZM5.5 9.88477C4.75214 9.88477 4.02108 9.663 3.39925 9.24751C2.77743 8.83202 2.29278 8.24147 2.00658 7.55054C1.72039 6.8596 1.64551 6.09932 1.79141 5.36583C1.93731 4.63234 2.29744 3.95859 2.82625 3.42977C3.35507 2.90095 4.02883 2.54082 4.76232 2.39492C5.49581 2.24902 6.25609 2.3239 6.94702 2.6101C7.63796 2.89629 8.22851 3.38094 8.644 4.00277C9.05949 4.62459 9.28125 5.35565 9.28125 6.10352C9.28012 7.10602 8.88137 8.06713 8.17249 8.77601C7.46362 9.48488 6.5025 9.88363 5.5 9.88477ZM8.25 6.10352C8.25 6.19468 8.21379 6.28212 8.14932 6.34658C8.08485 6.41105 7.99742 6.44727 7.90625 6.44727H5.5C5.40883 6.44727 5.3214 6.41105 5.25693 6.34658C5.19247 6.28212 5.15625 6.19468 5.15625 6.10352V3.69727C5.15625 3.6061 5.19247 3.51866 5.25693 3.4542C5.3214 3.38973 5.40883 3.35352 5.5 3.35352C5.59117 3.35352 5.6786 3.38973 5.74307 3.4542C5.80754 3.51866 5.84375 3.6061 5.84375 3.69727V5.75977H7.90625C7.99742 5.75977 8.08485 5.79598 8.14932 5.86045C8.21379 5.92491 8.25 6.01235 8.25 6.10352Z" fill="#343330"/>
            </svg>
            </div>
            <p><span id="date_number">{hour}</span></p>

            <div id="Buttons">
               <AcceptButton
                icon={<span className="material-symbols-outlined">check</span>}
                onClick={onAccept}
              />
              <RejectButton onClick={onReject} />
             
            </div>
            </div>

            
          </>
        )}
      </div>

   
      <button onClick={toggleDetails} aria-label="Toggle details" id="invitation_button">
        {showDetails ? (
        
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
            <path d="M5.3186 16.6449C5.41113 16.7382 5.52131 16.8123 5.64263 16.8629C5.76396 16.9134 5.89408 16.9395 6.02555 16.9395C6.15702 16.9395 6.28714 16.9134 6.40847 16.8629C6.5298 16.8123 6.63998 16.7382 6.73256 16.6449L11.2935 12.084C11.3861 11.9907 11.4962 11.9166 11.6175 11.866C11.7389 11.8155 11.869 11.7894 12.0005 11.7894C12.132 11.7894 12.2622 11.8155 12.3835 11.866C12.5049 11.9166 12.6151 11.9907 12.7077 12.084L17.2686 16.6449C17.3612 16.7382 17.4713 16.8123 17.5926 16.8629C17.7139 16.9134 17.8441 16.9395 17.9755 16.9395C18.107 16.9395 18.2371 16.9134 18.3585 16.8629C18.4798 16.8123 18.59 16.7382 18.6826 16.6449C18.8681 16.4583 18.9722 16.2059 18.9722 15.9428C18.9722 15.6798 18.8681 15.4274 18.6826 15.2408L14.1117 10.6699C13.5515 10.1105 12.7923 9.79616 12.0005 9.79616C11.2088 9.79616 10.4496 10.1105 9.8894 10.6699L5.3186 15.2408C5.13313 15.4274 5.02898 15.6798 5.02898 15.9428C5.02898 16.2059 5.13313 16.4583 5.3186 16.6449Z" fill="#808080"/>
          </svg>
        ) : (
         
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
            <path d="M18.6814 8.35511C18.5889 8.26177 18.4787 8.18769 18.3574 8.13713C18.236 8.08658 18.1059 8.06055 17.9744 8.06055C17.8429 8.06055 17.7128 8.08658 17.5914 8.13713C17.4701 8.18769 17.3599 8.26177 17.2674 8.35511L12.7065 12.916C12.6139 13.0093 12.5038 13.0834 12.3824 13.134C12.261 13.1845 12.1309 13.2106 11.9994 13.2106C11.868 13.2106 11.7378 13.1845 11.6165 13.134C11.4951 13.0834 11.385 13.0093 11.2924 12.916L6.73149 8.35511C6.63891 8.26177 6.52877 8.18769 6.40742 8.13713C6.28607 8.08658 6.15591 8.06055 6.02445 8.06055C5.89299 8.06055 5.76283 8.08658 5.64148 8.13713C5.52013 8.18769 5.40999 8.26177 5.31741 8.35511C5.13194 8.54169 5.02783 8.79409 5.02783 9.05717C5.02783 9.32025 5.13194 9.57265 5.31741 9.75923L9.88827 14.3301C10.4484 14.8895 11.2077 15.2038 11.9994 15.2038C12.7911 15.2038 13.5504 14.8895 14.1106 14.3301L18.6814 9.75923C18.8669 9.57265 18.971 9.32025 18.971 9.05717C18.971 8.79409 18.8669 8.54169 18.6814 8.35511Z" fill="#808080"/>
          </svg>
        )}
      </button>
    </div>
  );
};

export default InvitationsCards;
